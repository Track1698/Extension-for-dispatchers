(function(_0x2aecc0,_0x331779){const _0x11d8d7=a0_0x7fd1,_0x2d755a=_0x2aecc0();while(!![]){try{const _0x28f48d=parseInt(_0x11d8d7(0x13b))/0x1+-parseInt(_0x11d8d7(0x119))/0x2*(-parseInt(_0x11d8d7(0x126))/0x3)+parseInt(_0x11d8d7(0x156))/0x4+-parseInt(_0x11d8d7(0x14e))/0x5*(parseInt(_0x11d8d7(0x145))/0x6)+parseInt(_0x11d8d7(0x13e))/0x7+-parseInt(_0x11d8d7(0x13f))/0x8*(-parseInt(_0x11d8d7(0x14c))/0x9)+parseInt(_0x11d8d7(0x106))/0xa*(-parseInt(_0x11d8d7(0x10f))/0xb);if(_0x28f48d===_0x331779)break;else _0x2d755a['push'](_0x2d755a['shift']());}catch(_0x490941){_0x2d755a['push'](_0x2d755a['shift']());}}}(a0_0xc807,0x8a90c));import a0_0x56d20c from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x4f1c14){const _0x4604e7=a0_0x7fd1,_0x1eff62={'eHPWD':function(_0x1cbe49,_0x2ca416){return _0x1cbe49===_0x2ca416;},'CiZPU':function(_0x3c9375,_0x44e914){return _0x3c9375!==_0x44e914;},'OtqcE':_0x4604e7(0x108),'hrFpH':function(_0x1a3e40,_0x1b428d,_0x5b9571,_0x3ebd54){return _0x1a3e40(_0x1b428d,_0x5b9571,_0x3ebd54);}},_0x1dd1a0=document['getElementById'](_0x4604e7(0x13c));while(_0x1dd1a0[_0x4604e7(0x138)][_0x4604e7(0x13a)]>0x1){_0x1dd1a0[_0x4604e7(0x155)](0x1);}Array[_0x4604e7(0x12e)](_0x4f1c14)?(_0x4f1c14[_0x4604e7(0x116)]((_0x410ecf,_0x5776cf)=>{const _0x124c4a=_0x4604e7;if(_0x1eff62[_0x124c4a(0x146)](_0x410ecf[_0x124c4a(0x105)],_0x124c4a(0x108))&&_0x1eff62[_0x124c4a(0x137)](_0x5776cf[_0x124c4a(0x105)],_0x1eff62[_0x124c4a(0x134)]))return-0x1;if(_0x1eff62[_0x124c4a(0x137)](_0x410ecf['scope'],_0x1eff62['OtqcE'])&&_0x5776cf['scope']===_0x1eff62['OtqcE'])return 0x1;return 0x0;}),_0x4f1c14['forEach']((_0x50575f,_0x24a099)=>{const _0x286779=_0x4604e7;_0x1eff62[_0x286779(0x159)](addRowToTable,_0x1dd1a0,_0x50575f,_0x24a099);})):addRowToTable(_0x1dd1a0,_0x4f1c14,0x0);}export function loadBlacklist(){const _0x1592e9=a0_0x7fd1,_0x4a96cc={'cSFFU':_0x1592e9(0x12a),'ceNuS':_0x1592e9(0x131),'DmRJz':function(_0x17d3fa,_0x2a0ca5){return _0x17d3fa(_0x2a0ca5);},'YLtkA':function(_0x34a485,_0x53f90f){return _0x34a485!==_0x53f90f;},'wEEbs':_0x1592e9(0x152),'nMQuY':_0x1592e9(0x114),'YUaLo':_0x1592e9(0x115),'mllgE':_0x1592e9(0x10c)},_0x4b6e63=getAccountType();_0x4a96cc[_0x1592e9(0x117)](_0x4b6e63,_0x4a96cc[_0x1592e9(0x142)])&&(document['getElementById'](_0x4a96cc[_0x1592e9(0x10a)])[_0x1592e9(0x157)]=!![]);try{chrome[_0x1592e9(0x158)]['local']['get'](_0x4a96cc[_0x1592e9(0x112)],_0x15ae62=>{const _0x3e5435=_0x1592e9;if(chrome['runtime'][_0x3e5435(0x132)]){a0_0x56d20c['error'](_0x4a96cc[_0x3e5435(0x11e)],_0x4a96cc[_0x3e5435(0x125)]);return;}const _0xaf6085=_0x15ae62[_0x3e5435(0x115)]||{},_0x22143e=Object[_0x3e5435(0x118)](_0xaf6085);_0x4a96cc[_0x3e5435(0x10d)](populateBlacklistTable,_0x22143e);});}catch(_0x1ffdd2){console[_0x1592e9(0x135)](_0x4a96cc[_0x1592e9(0x11f)],_0x1ffdd2),a0_0x56d20c['error'](_0x1592e9(0x127),_0x1592e9(0x113));}}export async function removeBlacklistEntry(_0x3848c6,_0x3cf97a,_0x4f2d46){const _0x2bc7bf=a0_0x7fd1,_0x58ce27={'ATdJs':function(_0xf2c49e,_0x267a7f,_0xf630f0){return _0xf2c49e(_0x267a7f,_0xf630f0);},'kOUbU':_0x2bc7bf(0x12d),'iaNQU':_0x2bc7bf(0x113),'mnhNO':function(_0x36d9cf,_0x460f30){return _0x36d9cf(_0x460f30);}},_0x3aa0e6={'type':_0x3848c6,'value':_0x3cf97a,'scope':_0x4f2d46},_0x4cef4a=await _0x58ce27[_0x2bc7bf(0x12c)](updateBlacklistInDatabase,_0x3aa0e6,_0x58ce27[_0x2bc7bf(0x10b)]);if(!_0x4cef4a||_0x4cef4a[_0x2bc7bf(0x13a)]===0x0)return a0_0x56d20c[_0x2bc7bf(0x135)](_0x2bc7bf(0x11d),_0x58ce27[_0x2bc7bf(0x136)]),![];return _0x58ce27[_0x2bc7bf(0x14f)](updateBlacklistInStorage,_0x4cef4a),!![];}export async function updateBlacklistInDatabase(_0x1590af,_0xf19cf){const _0x5e4117=a0_0x7fd1,_0xbf626e={'IbbQt':function(_0xf615e4){return _0xf615e4();},'edikk':function(_0x4e6a23,_0x534129,_0x5baf34){return _0x4e6a23(_0x534129,_0x5baf34);},'CwdQV':_0x5e4117(0x154),'grwYJ':'application/json','JTzJM':_0x5e4117(0x113)};try{const _0x131d76=getEmail(),_0x2d7506=getCompanyName(),_0x5c0708=_0xbf626e['IbbQt'](getLoginKey),_0x498779=backendAddress+_0x5e4117(0x147),_0x2aee72={'companyName':_0x2d7506,'email':_0x131d76,'loginKey':_0x5c0708,'type':_0x1590af[_0x5e4117(0x111)],'value':_0x1590af[_0x5e4117(0x121)],'scope':_0x1590af[_0x5e4117(0x105)],'action':_0xf19cf},_0x37875=await _0xbf626e[_0x5e4117(0x151)](fetch,_0x498779,{'method':_0xbf626e['CwdQV'],'headers':{'Content-Type':_0xbf626e[_0x5e4117(0x14d)]},'body':JSON[_0x5e4117(0x141)](_0x2aee72)});if(!_0x37875['ok']){const _0x43f681=_0x5e4117(0x107)+_0x37875[_0x5e4117(0x143)];throw new Error(_0x43f681);}const _0x454621=await _0x37875[_0x5e4117(0x150)]();return _0x454621['blacklist'];}catch(_0x25b327){return console['error'](_0x5e4117(0x11b),_0x25b327),a0_0x56d20c['error']('Error\x20updating\x20item\x20in\x20blacklist',_0xbf626e[_0x5e4117(0x129)]),[];}}function a0_0x7fd1(_0xa20ad8,_0x2b3817){const _0xc80768=a0_0xc807();return a0_0x7fd1=function(_0x7fd1d4,_0x57f141){_0x7fd1d4=_0x7fd1d4-0x105;let _0x43bb7d=_0xc80768[_0x7fd1d4];return _0x43bb7d;},a0_0x7fd1(_0xa20ad8,_0x2b3817);}export function updateBlacklistInStorage(_0x121c76){const _0x4679f1=a0_0x7fd1,_0x143f0f={'pgQHb':_0x4679f1(0x130),'BeuRh':'Storage\x20Error'};try{chrome['storage']['local'][_0x4679f1(0x12f)]({'blacklist':_0x121c76},function(){const _0xe28ecb=_0x4679f1;chrome[_0xe28ecb(0x123)][_0xe28ecb(0x132)]&&a0_0x56d20c['error'](_0xe28ecb(0x149),_0xe28ecb(0x131));});}catch(_0x13462b){console['error'](_0x143f0f[_0x4679f1(0x14b)],_0x13462b),a0_0x56d20c['error'](_0x4679f1(0x139),_0x143f0f[_0x4679f1(0x110)]);}}export function addRowToTable(_0x4bbcf5,_0x444aab,_0x862f8){const _0x1f15f1=a0_0x7fd1,_0x43d81a={'PMiEO':function(_0x2c02ff,_0x2ae630){return _0x2c02ff+_0x2ae630;},'PjJud':function(_0x5983fd){return _0x5983fd();},'CtvLG':_0x1f15f1(0x152),'hmPpf':_0x1f15f1(0x109),'wiWMA':_0x1f15f1(0x11c)},_0x2869fe=_0x43d81a['PMiEO'](_0x862f8,0x1),_0xa5c6cf=document[_0x1f15f1(0x124)]('tr'),_0x9e9a7a={'numbering':_0x2869fe,..._0x444aab},_0x8e368d=document['createElement']('td');_0x8e368d[_0x1f15f1(0x148)](document[_0x1f15f1(0x10e)](_0x2869fe)),_0xa5c6cf['appendChild'](_0x8e368d);const _0x18a6f9=document[_0x1f15f1(0x124)]('td');_0x18a6f9['appendChild'](document[_0x1f15f1(0x10e)](_0x9e9a7a[_0x1f15f1(0x111)])),_0xa5c6cf[_0x1f15f1(0x148)](_0x18a6f9);const _0x348131=document[_0x1f15f1(0x124)]('td');_0x348131[_0x1f15f1(0x148)](document['createTextNode'](_0x9e9a7a['value'])),_0xa5c6cf[_0x1f15f1(0x148)](_0x348131);const _0x319916=document[_0x1f15f1(0x124)]('td');_0x319916[_0x1f15f1(0x148)](document[_0x1f15f1(0x10e)](_0x9e9a7a[_0x1f15f1(0x105)])),_0xa5c6cf['appendChild'](_0x319916);const _0x57f375=document['createElement']('td'),_0x4c9386=_0x43d81a[_0x1f15f1(0x12b)](getAccountType);if(_0x4c9386===_0x43d81a[_0x1f15f1(0x122)]||_0x9e9a7a[_0x1f15f1(0x105)]!=='company'){const _0xea55ae=document[_0x1f15f1(0x124)](_0x1f15f1(0x120));_0xea55ae[_0x1f15f1(0x128)]=_0x43d81a['hmPpf'],_0xea55ae['addEventListener'](_0x43d81a[_0x1f15f1(0x133)],async function(){const _0x272876=_0x1f15f1,_0xaf3c8a=await removeBlacklistEntry(_0x9e9a7a[_0x272876(0x111)],_0x9e9a7a['value'],_0x9e9a7a[_0x272876(0x105)]);_0xaf3c8a&&_0x4bbcf5['removeChild'](_0xa5c6cf);}),_0x57f375[_0x1f15f1(0x148)](_0xea55ae);}_0xa5c6cf[_0x1f15f1(0x148)](_0x57f375),_0x4bbcf5['appendChild'](_0xa5c6cf);}export async function addBlacklistEntry(_0x2ecb44,_0x10433f,_0x3f74f4){const _0xc4139f=a0_0x7fd1,_0x3a405f={'UYWCb':_0xc4139f(0x11a),'rLGhX':function(_0x194fae,_0xd5bf8){return _0x194fae===_0xd5bf8;},'spgmz':_0xc4139f(0x13d),'LXaGu':_0xc4139f(0x113),'sdPlA':function(_0x54e57c,_0x45d1a4){return _0x54e57c(_0x45d1a4);},'WWUKt':_0xc4139f(0x13c),'yQYXH':function(_0x4bb700,_0x431b48){return _0x4bb700-_0x431b48;}},_0x325140={'type':_0x2ecb44,'value':_0x10433f,'scope':_0x3f74f4},_0x14349b=await updateBlacklistInDatabase(_0x325140,_0x3a405f['UYWCb']);if(!_0x14349b||_0x3a405f[_0xc4139f(0x14a)](_0x14349b[_0xc4139f(0x13a)],0x0)){a0_0x56d20c[_0xc4139f(0x135)](_0x3a405f['spgmz'],_0x3a405f['LXaGu']);return;}_0x3a405f[_0xc4139f(0x153)](updateBlacklistInStorage,_0x14349b);const _0x26aae0=document['getElementById'](_0x3a405f[_0xc4139f(0x144)]),_0x4d05d5=_0x3a405f[_0xc4139f(0x140)](_0x26aae0[_0xc4139f(0x138)]['length'],0x1);addRowToTable(_0x26aae0,_0x325140,_0x4d05d5);}function a0_0xc807(){const _0x3809e1=['stringify','wEEbs','status','WWUKt','12YgAQsC','eHPWD','/api/updateblacklist','appendChild','Error\x20saving\x20blacklist\x20to\x20storage','rLGhX','pgQHb','462978wTHfqj','grwYJ','1082085XMvauI','mnhNO','json','edikk','manager','sdPlA','POST','deleteRow','567720wRzuux','disabled','storage','hrFpH','scope','16873630QCUtLA','Server\x20responded\x20with\x20status\x20','personal','delete-table-row-button','nMQuY','kOUbU','Error\x20in\x20loadBlacklist:','DmRJz','createTextNode','11gtDISt','BeuRh','type','YUaLo','Error','addBlacklistItemScopeInput','blacklist','sort','YLtkA','values','240GahHHX','add','Error\x20updating\x20blacklist:','click','Could\x20not\x20remove\x20entry\x20from\x20database','cSFFU','mllgE','button','value','CtvLG','runtime','createElement','ceNuS','11553UrtesC','Error\x20loading\x20blacklist','className','JTzJM','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','PjJud','ATdJs','remove','isArray','set','Error\x20in\x20updateBlacklistInStorage:','Storage\x20Error','lastError','wiWMA','OtqcE','error','iaNQU','CiZPU','rows','Error\x20updating\x20storage','length','756619AnIIlo','tableBody','Could\x20not\x20add\x20entry\x20to\x20database','3168046cbPGqb','136NLKJCd','yQYXH'];a0_0xc807=function(){return _0x3809e1;};return a0_0xc807();}