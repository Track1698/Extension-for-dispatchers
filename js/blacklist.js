(function(_0x5dbfbc,_0x420074){const _0x4316df=a0_0x200f,_0x1675e2=_0x5dbfbc();while(!![]){try{const _0x2c9f26=parseInt(_0x4316df(0xc7))/0x1+parseInt(_0x4316df(0xa3))/0x2+-parseInt(_0x4316df(0xc5))/0x3+-parseInt(_0x4316df(0xc9))/0x4+-parseInt(_0x4316df(0x78))/0x5+-parseInt(_0x4316df(0x77))/0x6+parseInt(_0x4316df(0xc3))/0x7;if(_0x2c9f26===_0x420074)break;else _0x1675e2['push'](_0x1675e2['shift']());}catch(_0x16ae9e){_0x1675e2['push'](_0x1675e2['shift']());}}}(a0_0x4136,0xc9596));function a0_0x200f(_0x2a0838,_0x494f9f){const _0x4136d9=a0_0x4136();return a0_0x200f=function(_0x200f30,_0x380544){_0x200f30=_0x200f30-0x6e;let _0x5f239a=_0x4136d9[_0x200f30];return _0x5f239a;},a0_0x200f(_0x2a0838,_0x494f9f);}import a0_0xe266ec from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x5b06ab){const _0x10aaee=a0_0x200f,_0x5c5b5c={'OSqFN':function(_0x2f3130,_0x487635){return _0x2f3130===_0x487635;},'HVaqn':_0x10aaee(0x96),'lTpER':function(_0x4c7163,_0xc7fb12){return _0x4c7163!==_0xc7fb12;},'fXKuY':function(_0x4ae172,_0x3f6e34){return _0x4ae172===_0x3f6e34;},'voSLS':function(_0x3e4815,_0x36e130,_0x126157,_0xd2208e){return _0x3e4815(_0x36e130,_0x126157,_0xd2208e);},'iWORN':'tableBody','wsLqD':function(_0x54bbe1,_0x14fa89){return _0x54bbe1>_0x14fa89;}},_0x33371b=document[_0x10aaee(0x98)](_0x5c5b5c[_0x10aaee(0x97)]);while(_0x5c5b5c[_0x10aaee(0xbc)](_0x33371b['rows']['length'],0x1)){_0x33371b[_0x10aaee(0xc8)](0x1);}Array[_0x10aaee(0x72)](_0x5b06ab)?(_0x5b06ab['sort']((_0x4c0a5f,_0x537ea8)=>{const _0x5f59e4=_0x10aaee;if(_0x5c5b5c[_0x5f59e4(0x9b)](_0x4c0a5f[_0x5f59e4(0x7b)],_0x5c5b5c[_0x5f59e4(0x95)])&&_0x5c5b5c[_0x5f59e4(0x83)](_0x537ea8[_0x5f59e4(0x7b)],_0x5c5b5c[_0x5f59e4(0x95)]))return-0x1;if(_0x5c5b5c[_0x5f59e4(0x83)](_0x4c0a5f[_0x5f59e4(0x7b)],_0x5c5b5c[_0x5f59e4(0x95)])&&_0x5c5b5c[_0x5f59e4(0x90)](_0x537ea8[_0x5f59e4(0x7b)],_0x5f59e4(0x96)))return 0x1;return 0x0;}),_0x5b06ab[_0x10aaee(0xc1)]((_0x5c6dac,_0x35f5e9)=>{const _0x1c3346=_0x10aaee;_0x5c5b5c[_0x1c3346(0xaa)](addRowToTable,_0x33371b,_0x5c6dac,_0x35f5e9);})):_0x5c5b5c[_0x10aaee(0xaa)](addRowToTable,_0x33371b,_0x5b06ab,0x0);}export function loadBlacklist(){const _0x52749a=a0_0x200f,_0x5ab249={'XorJp':_0x52749a(0xc6),'QRdvC':_0x52749a(0xc4),'XgXBG':function(_0x2091ef,_0x43817d){return _0x2091ef(_0x43817d);},'jRmon':function(_0x248ca6){return _0x248ca6();},'RPCHA':_0x52749a(0x9f),'EJjis':_0x52749a(0xb4),'hQKPW':_0x52749a(0x8d),'tzqFI':_0x52749a(0xa1),'pgBzZ':_0x52749a(0xbf),'nxwcL':_0x52749a(0x92)},_0x5e0be6=_0x5ab249[_0x52749a(0xa7)](getAccountType);_0x5e0be6!==_0x5ab249[_0x52749a(0x87)]&&(document[_0x52749a(0x98)](_0x5ab249[_0x52749a(0x89)])[_0x52749a(0xa0)]=!![]);try{chrome[_0x52749a(0x7f)][_0x52749a(0x7e)][_0x52749a(0x9e)](_0x5ab249[_0x52749a(0x73)],_0x115112=>{const _0x35f590=_0x52749a;if(chrome[_0x35f590(0x80)][_0x35f590(0xa4)]){a0_0xe266ec['error'](_0x5ab249[_0x35f590(0x94)],_0x5ab249[_0x35f590(0x91)]);return;}const _0x4670dc=_0x115112[_0x35f590(0x8d)]||{},_0x29a1d8=Object['values'](_0x4670dc);_0x5ab249[_0x35f590(0xb1)](populateBlacklistTable,_0x29a1d8);});}catch(_0x32e6f3){console[_0x52749a(0x8f)](_0x5ab249[_0x52749a(0x8e)],_0x32e6f3),a0_0xe266ec[_0x52749a(0x8f)](_0x5ab249['pgBzZ'],_0x5ab249[_0x52749a(0xad)]);}}export async function removeBlacklistEntry(_0x4a12ee,_0x48147a,_0x451a4b){const _0x595e3d=a0_0x200f,_0x1defbc={'AZOAH':function(_0x18fc38,_0x229370,_0x4eccf3){return _0x18fc38(_0x229370,_0x4eccf3);},'BosDs':function(_0x22b3b6,_0x3bde4e){return _0x22b3b6===_0x3bde4e;},'zWAMA':_0x595e3d(0xb9),'LlWIL':function(_0x260706,_0x16f1a1){return _0x260706(_0x16f1a1);}},_0x4da606={'type':_0x4a12ee,'value':_0x48147a,'scope':_0x451a4b},_0x5785ab=await _0x1defbc[_0x595e3d(0xa5)](updateBlacklistInDatabase,_0x4da606,'remove');if(!_0x5785ab||_0x1defbc[_0x595e3d(0xae)](_0x5785ab['length'],0x0))return a0_0xe266ec['error'](_0x1defbc[_0x595e3d(0x86)],_0x595e3d(0x92)),![];return _0x1defbc['LlWIL'](updateBlacklistInStorage,_0x5785ab),!![];}export async function updateBlacklistInDatabase(_0x3a8728,_0x1aa639){const _0x435a1d=a0_0x200f,_0x19fa3e={'nQktt':function(_0x504e92){return _0x504e92();},'nZDwZ':function(_0x5bb393,_0x3b8f95,_0x30a4b0){return _0x5bb393(_0x3b8f95,_0x30a4b0);},'PauYv':'POST','AnmQX':'application/json','wLGAX':_0x435a1d(0x7d),'ItVoi':'Error\x20updating\x20item\x20in\x20blacklist','LxkMw':'Error'};try{const _0x55ed97=_0x19fa3e[_0x435a1d(0xab)](getEmail),_0x16cdd7=getCompanyName(),_0x4222f2=getLoginKey(),_0x2e277c=backendAddress+'/api/updateblacklist',_0x427932={'companyName':_0x16cdd7,'email':_0x55ed97,'loginKey':_0x4222f2,'type':_0x3a8728[_0x435a1d(0xa9)],'value':_0x3a8728[_0x435a1d(0x9c)],'scope':_0x3a8728[_0x435a1d(0x7b)],'action':_0x1aa639},_0xef668c=await _0x19fa3e[_0x435a1d(0x99)](fetch,_0x2e277c,{'method':_0x19fa3e['PauYv'],'headers':{'Content-Type':_0x19fa3e[_0x435a1d(0xa2)]},'body':JSON[_0x435a1d(0x75)](_0x427932)});if(!_0xef668c['ok']){const _0x4e5eaf=_0x435a1d(0xb6)+_0xef668c[_0x435a1d(0x79)];throw new Error(_0x4e5eaf);}const _0x2c979f=await _0xef668c[_0x435a1d(0x88)]();return _0x2c979f[_0x435a1d(0x8d)];}catch(_0x187642){return console[_0x435a1d(0x8f)](_0x19fa3e['wLGAX'],_0x187642),a0_0xe266ec['error'](_0x19fa3e['ItVoi'],_0x19fa3e[_0x435a1d(0x6f)]),[];}}function a0_0x4136(){const _0xd12952=['local','storage','runtime','aBhLv','gkuIA','lTpER','Error\x20updating\x20storage','Error\x20in\x20updateBlacklistInStorage:','zWAMA','RPCHA','json','EJjis','fTkFz','nErCI','click','blacklist','tzqFI','error','fXKuY','QRdvC','Error','delete-table-row-button','XorJp','HVaqn','personal','iWORN','getElementById','nZDwZ','appendChild','OSqFN','value','tableBody','get','manager','disabled','Error\x20in\x20loadBlacklist:','AnmQX','3267492CRtkyO','lastError','AZOAH','nXFiR','jRmon','addEventListener','type','voSLS','nQktt','jqjOV','nxwcL','BosDs','yHtDI','createTextNode','XgXBG','KWWyb','HmZrO','addBlacklistItemScopeInput','VKwzH','Server\x20responded\x20with\x20status\x20','Error\x20saving\x20blacklist\x20to\x20storage','company','Could\x20not\x20remove\x20entry\x20from\x20database','add','jhQyo','wsLqD','length','set','Error\x20loading\x20blacklist','CcZUt','forEach','rows','5997768DrpMdS','Storage\x20Error','1035741BiVnOE','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','1611067aoKbMY','deleteRow','3811076pTnEJw','esEHM','LxkMw','createElement','removeChild','isArray','hQKPW','asADA','stringify','VhXft','8887500dKJEFb','2488225RjaojI','status','className','scope','UyZJi','Error\x20updating\x20blacklist:'];a0_0x4136=function(){return _0xd12952;};return a0_0x4136();}export function updateBlacklistInStorage(_0x3b97ac){const _0x5d97b0=a0_0x200f,_0x2f0cf8={'yHtDI':_0x5d97b0(0xb7),'UyZJi':_0x5d97b0(0xc4)};try{chrome[_0x5d97b0(0x7f)][_0x5d97b0(0x7e)][_0x5d97b0(0xbe)]({'blacklist':_0x3b97ac},function(){const _0x5ca7cc=_0x5d97b0;chrome[_0x5ca7cc(0x80)][_0x5ca7cc(0xa4)]&&a0_0xe266ec['error'](_0x2f0cf8[_0x5ca7cc(0xaf)],_0x2f0cf8[_0x5ca7cc(0x7c)]);});}catch(_0x4bf04d){console[_0x5d97b0(0x8f)](_0x5d97b0(0x85),_0x4bf04d),a0_0xe266ec['error'](_0x5d97b0(0x84),_0x2f0cf8['UyZJi']);}}export function addRowToTable(_0x11ba56,_0x2a92f9,_0x5cb38f){const _0x1d85a7=a0_0x200f,_0x39a80b={'KWWyb':function(_0x4db0a1,_0x572458,_0x2c53e5,_0x85fd40){return _0x4db0a1(_0x572458,_0x2c53e5,_0x85fd40);},'fTkFz':function(_0x1b596e,_0x5c08dc){return _0x1b596e+_0x5c08dc;},'jhQyo':function(_0x3f7f3b){return _0x3f7f3b();},'esEHM':function(_0x45da84,_0x2aacb5){return _0x45da84===_0x2aacb5;},'jqjOV':function(_0x5af619,_0x4cbc0a){return _0x5af619!==_0x4cbc0a;},'nErCI':_0x1d85a7(0xb8),'asADA':'button','VKwzH':_0x1d85a7(0x93)},_0x557fed=_0x39a80b[_0x1d85a7(0x8a)](_0x5cb38f,0x1),_0x590760=document['createElement']('tr'),_0x4ec4f6={'numbering':_0x557fed,..._0x2a92f9},_0x11e7e0=document[_0x1d85a7(0x70)]('td');_0x11e7e0[_0x1d85a7(0x9a)](document[_0x1d85a7(0xb0)](_0x557fed)),_0x590760[_0x1d85a7(0x9a)](_0x11e7e0);const _0x162a72=document[_0x1d85a7(0x70)]('td');_0x162a72[_0x1d85a7(0x9a)](document[_0x1d85a7(0xb0)](_0x4ec4f6[_0x1d85a7(0xa9)])),_0x590760[_0x1d85a7(0x9a)](_0x162a72);const _0x194cbf=document[_0x1d85a7(0x70)]('td');_0x194cbf['appendChild'](document[_0x1d85a7(0xb0)](_0x4ec4f6[_0x1d85a7(0x9c)])),_0x590760[_0x1d85a7(0x9a)](_0x194cbf);const _0x20e2fa=document['createElement']('td');_0x20e2fa[_0x1d85a7(0x9a)](document[_0x1d85a7(0xb0)](_0x4ec4f6[_0x1d85a7(0x7b)])),_0x590760[_0x1d85a7(0x9a)](_0x20e2fa);const _0x1abb92=document[_0x1d85a7(0x70)]('td'),_0x4d8d9d=_0x39a80b[_0x1d85a7(0xbb)](getAccountType);if(_0x39a80b[_0x1d85a7(0x6e)](_0x4d8d9d,_0x1d85a7(0x9f))||_0x39a80b[_0x1d85a7(0xac)](_0x4ec4f6[_0x1d85a7(0x7b)],_0x39a80b[_0x1d85a7(0x8b)])){const _0x408886=document[_0x1d85a7(0x70)](_0x39a80b[_0x1d85a7(0x74)]);_0x408886[_0x1d85a7(0x7a)]=_0x39a80b[_0x1d85a7(0xb5)],_0x408886[_0x1d85a7(0xa8)](_0x1d85a7(0x8c),async function(){const _0x12c491=_0x1d85a7,_0x4ae8e6=await _0x39a80b[_0x12c491(0xb2)](removeBlacklistEntry,_0x4ec4f6['type'],_0x4ec4f6[_0x12c491(0x9c)],_0x4ec4f6['scope']);_0x4ae8e6&&_0x11ba56[_0x12c491(0x71)](_0x590760);}),_0x1abb92[_0x1d85a7(0x9a)](_0x408886);}_0x590760[_0x1d85a7(0x9a)](_0x1abb92),_0x11ba56[_0x1d85a7(0x9a)](_0x590760);}export async function addBlacklistEntry(_0x57bc3f,_0x136378,_0x2fe6fc){const _0x490ab1=a0_0x200f,_0x159234={'mDiEf':function(_0x5f4419,_0xf515ba,_0x48107d){return _0x5f4419(_0xf515ba,_0x48107d);},'gkuIA':_0x490ab1(0xba),'aBhLv':function(_0x52a5c0,_0x1563d8){return _0x52a5c0===_0x1563d8;},'nXFiR':'Could\x20not\x20add\x20entry\x20to\x20database','HmZrO':_0x490ab1(0x92),'VhXft':function(_0x3f9dbc,_0x117985){return _0x3f9dbc(_0x117985);},'zifWh':_0x490ab1(0x9d),'CcZUt':function(_0x103917,_0x45f587){return _0x103917-_0x45f587;}},_0x41c97e={'type':_0x57bc3f,'value':_0x136378,'scope':_0x2fe6fc},_0x2fe472=await _0x159234['mDiEf'](updateBlacklistInDatabase,_0x41c97e,_0x159234[_0x490ab1(0x82)]);if(!_0x2fe472||_0x159234[_0x490ab1(0x81)](_0x2fe472[_0x490ab1(0xbd)],0x0)){a0_0xe266ec[_0x490ab1(0x8f)](_0x159234[_0x490ab1(0xa6)],_0x159234[_0x490ab1(0xb3)]);return;}_0x159234[_0x490ab1(0x76)](updateBlacklistInStorage,_0x2fe472);const _0x25ce2a=document[_0x490ab1(0x98)](_0x159234['zifWh']),_0x4e6df4=_0x159234[_0x490ab1(0xc0)](_0x25ce2a[_0x490ab1(0xc2)][_0x490ab1(0xbd)],0x1);addRowToTable(_0x25ce2a,_0x41c97e,_0x4e6df4);}