(function(_0x1799e1,_0x9e4005){const _0x4cc2a2=a0_0x4781,_0x3528e9=_0x1799e1();while(!![]){try{const _0x2b61ff=parseInt(_0x4cc2a2(0x18e))/0x1*(-parseInt(_0x4cc2a2(0x1b4))/0x2)+parseInt(_0x4cc2a2(0x185))/0x3+-parseInt(_0x4cc2a2(0x1be))/0x4*(-parseInt(_0x4cc2a2(0x1b1))/0x5)+-parseInt(_0x4cc2a2(0x19f))/0x6*(-parseInt(_0x4cc2a2(0x1a9))/0x7)+-parseInt(_0x4cc2a2(0x192))/0x8+parseInt(_0x4cc2a2(0x19a))/0x9*(parseInt(_0x4cc2a2(0x183))/0xa)+parseInt(_0x4cc2a2(0x1bd))/0xb*(parseInt(_0x4cc2a2(0x19e))/0xc);if(_0x2b61ff===_0x9e4005)break;else _0x3528e9['push'](_0x3528e9['shift']());}catch(_0x1bb528){_0x3528e9['push'](_0x3528e9['shift']());}}}(a0_0x4e00,0x44e6a));import a0_0x5ce2cc from'./alerts.js';import{backendAddress}from'./main.js';function a0_0x4781(_0x8ed889,_0x214c1b){const _0x4e0033=a0_0x4e00();return a0_0x4781=function(_0x4781e6,_0x22ad21){_0x4781e6=_0x4781e6-0x168;let _0x1045cf=_0x4e0033[_0x4781e6];return _0x1045cf;},a0_0x4781(_0x8ed889,_0x214c1b);}import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0xebff35){const _0x221285=a0_0x4781,_0x47d261={'jrgCK':function(_0x415f72,_0x4dea52){return _0x415f72===_0x4dea52;},'oUSwJ':_0x221285(0x176),'yRtLM':function(_0x21a278,_0x67b293){return _0x21a278!==_0x67b293;},'cseyK':function(_0x45ff99,_0x1edb38,_0x3d435b,_0x6e181e){return _0x45ff99(_0x1edb38,_0x3d435b,_0x6e181e);},'zsfnY':'tableBody','cWuFy':function(_0x2f605e,_0x20f72a){return _0x2f605e>_0x20f72a;},'Wxchr':function(_0x3497ce,_0x420ab5,_0x3994c1,_0x57240e){return _0x3497ce(_0x420ab5,_0x3994c1,_0x57240e);}},_0x6bce7=document[_0x221285(0x195)](_0x47d261[_0x221285(0x1b5)]);while(_0x47d261[_0x221285(0x16a)](_0x6bce7['rows'][_0x221285(0x1b7)],0x1)){_0x6bce7[_0x221285(0x1bb)](0x1);}Array[_0x221285(0x168)](_0xebff35)?(_0xebff35[_0x221285(0x16b)]((_0x38c669,_0x174045)=>{const _0x186c47=_0x221285;if(_0x47d261[_0x186c47(0x1a6)](_0x38c669[_0x186c47(0x19d)],_0x47d261[_0x186c47(0x17a)])&&_0x47d261[_0x186c47(0x186)](_0x174045[_0x186c47(0x19d)],_0x47d261[_0x186c47(0x17a)]))return-0x1;if(_0x38c669['scope']!==_0x47d261[_0x186c47(0x17a)]&&_0x47d261[_0x186c47(0x1a6)](_0x174045['scope'],_0x47d261['oUSwJ']))return 0x1;return 0x0;}),_0xebff35['forEach']((_0x438995,_0x4f00b7)=>{const _0xc4b809=_0x221285;_0x47d261[_0xc4b809(0x191)](addRowToTable,_0x6bce7,_0x438995,_0x4f00b7);})):_0x47d261[_0x221285(0x1a5)](addRowToTable,_0x6bce7,_0xebff35,0x0);}function a0_0x4e00(){const _0x25a6c8=['scope','80952yeAWwA','6fqNijv','createTextNode','PqABQ','blacklist','manager','RpDqw','Wxchr','jrgCK','createElement','Error','516782ekwPZX','className','MOELK','RgGsG','company','ieaZC','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','tableBody','2335hRbzLL','Error\x20in\x20loadBlacklist:','local','30jKlMrJ','zsfnY','POST','length','Error\x20updating\x20blacklist:','Could\x20not\x20remove\x20entry\x20from\x20database','application/json','deleteRow','Storage\x20Error','176klDiFj','3572nVScrf','value','isArray','dmkog','cWuFy','sort','RnUXj','lfQkG','Server\x20responded\x20with\x20status\x20','MFUdg','srVaT','stringify','itTQc','values','rPIIT','removeChild','personal','uyGZG','SBfKi','type','oUSwJ','get','button','MgqaM','mcPJg','ZMKpc','Error\x20loading\x20blacklist','aAqcL','wEqck','10UgGZGM','runtime','844914efpodU','yRtLM','JLPlQ','addBlacklistItemScopeInput','Error\x20updating\x20item\x20in\x20blacklist','PYbNy','nUXUG','vJnOY','lastError','24658eVNjhw','Error\x20in\x20updateBlacklistInStorage:','json','cseyK','2180800htpfhh','status','SgAgj','getElementById','MuAqi','error','MdaAd','appendChild','398313FnpWOi','rows','Error\x20updating\x20storage'];a0_0x4e00=function(){return _0x25a6c8;};return a0_0x4e00();}export function loadBlacklist(){const _0x184537=a0_0x4781,_0x50768f={'MgqaM':_0x184537(0x1bc),'rPIIT':function(_0x169e4f,_0x1478df){return _0x169e4f(_0x1478df);},'uyGZG':function(_0x3975f6,_0xcbed16){return _0x3975f6!==_0xcbed16;},'eYQkq':_0x184537(0x1a3),'kPton':'blacklist','SBfKi':_0x184537(0x1b2),'PrtrP':_0x184537(0x180),'ZBxks':_0x184537(0x1a8)},_0x2b1b09=getAccountType();_0x50768f[_0x184537(0x177)](_0x2b1b09,_0x50768f['eYQkq'])&&(document[_0x184537(0x195)](_0x184537(0x188))['disabled']=!![]);try{chrome['storage'][_0x184537(0x1b3)][_0x184537(0x17b)](_0x50768f['kPton'],_0x2b4aee=>{const _0x5f2e59=_0x184537;if(chrome['runtime'][_0x5f2e59(0x18d)]){a0_0x5ce2cc[_0x5f2e59(0x197)](_0x5f2e59(0x1af),_0x50768f[_0x5f2e59(0x17d)]);return;}const _0x27b122=_0x2b4aee[_0x5f2e59(0x1a2)]||{},_0x4ab6f1=Object[_0x5f2e59(0x173)](_0x27b122);_0x50768f[_0x5f2e59(0x174)](populateBlacklistTable,_0x4ab6f1);});}catch(_0xf8d8b4){console[_0x184537(0x197)](_0x50768f[_0x184537(0x178)],_0xf8d8b4),a0_0x5ce2cc[_0x184537(0x197)](_0x50768f['PrtrP'],_0x50768f['ZBxks']);}}export async function removeBlacklistEntry(_0x518a80,_0x168d4d,_0x38541b){const _0xd077fe=a0_0x4781,_0xf3e981={'ieaZC':function(_0x479d0b,_0x2f6c0e,_0x2bb28b){return _0x479d0b(_0x2f6c0e,_0x2bb28b);},'itTQc':'remove','EePnx':function(_0x1b9cb7,_0x2cf9a9){return _0x1b9cb7===_0x2cf9a9;},'PYbNy':_0xd077fe(0x1a8),'mlAbK':function(_0x1677b5,_0x39da83){return _0x1677b5(_0x39da83);}},_0x55b2ce={'type':_0x518a80,'value':_0x168d4d,'scope':_0x38541b},_0x51a478=await _0xf3e981[_0xd077fe(0x1ae)](updateBlacklistInDatabase,_0x55b2ce,_0xf3e981[_0xd077fe(0x172)]);if(!_0x51a478||_0xf3e981['EePnx'](_0x51a478[_0xd077fe(0x1b7)],0x0))return a0_0x5ce2cc[_0xd077fe(0x197)](_0xd077fe(0x1b9),_0xf3e981[_0xd077fe(0x18a)]),![];return _0xf3e981['mlAbK'](updateBlacklistInStorage,_0x51a478),!![];}export async function updateBlacklistInDatabase(_0x1a20b3,_0x3bc9d0){const _0x1f3eed=a0_0x4781,_0x45332c={'UIyqS':function(_0x170f83){return _0x170f83();},'MOELK':function(_0x30cb68,_0x53622d,_0x459f08){return _0x30cb68(_0x53622d,_0x459f08);},'MuAqi':_0x1f3eed(0x1b6),'ZMKpc':_0x1f3eed(0x1ba),'lfQkG':_0x1f3eed(0x1b8),'JLPlQ':_0x1f3eed(0x189),'dmkog':_0x1f3eed(0x1a8)};try{const _0x1564e7=_0x45332c['UIyqS'](getEmail),_0x4440a2=getCompanyName(),_0x2f0857=_0x45332c['UIyqS'](getLoginKey),_0x3dd719=backendAddress+'/api/updateblacklist',_0x1b6f0b={'companyName':_0x4440a2,'email':_0x1564e7,'loginKey':_0x2f0857,'type':_0x1a20b3[_0x1f3eed(0x179)],'value':_0x1a20b3['value'],'scope':_0x1a20b3[_0x1f3eed(0x19d)],'action':_0x3bc9d0},_0x54ac10=await _0x45332c[_0x1f3eed(0x1ab)](fetch,_0x3dd719,{'method':_0x45332c[_0x1f3eed(0x196)],'headers':{'Content-Type':_0x45332c[_0x1f3eed(0x17f)]},'body':JSON[_0x1f3eed(0x171)](_0x1b6f0b)});if(!_0x54ac10['ok']){const _0x18f762=_0x1f3eed(0x16e)+_0x54ac10[_0x1f3eed(0x193)];throw new Error(_0x18f762);}const _0xf96c8d=await _0x54ac10[_0x1f3eed(0x190)]();return _0xf96c8d[_0x1f3eed(0x1a2)];}catch(_0x45a36f){return console[_0x1f3eed(0x197)](_0x45332c[_0x1f3eed(0x16d)],_0x45a36f),a0_0x5ce2cc['error'](_0x45332c[_0x1f3eed(0x187)],_0x45332c[_0x1f3eed(0x169)]),[];}}export function updateBlacklistInStorage(_0x35f46a){const _0x4dbb24=a0_0x4781,_0x3092da={'RpDqw':'Error\x20saving\x20blacklist\x20to\x20storage','RnUXj':_0x4dbb24(0x1bc),'mcPJg':_0x4dbb24(0x18f),'zIqzc':_0x4dbb24(0x19c)};try{chrome['storage'][_0x4dbb24(0x1b3)]['set']({'blacklist':_0x35f46a},function(){const _0x402ae8=_0x4dbb24;chrome[_0x402ae8(0x184)]['lastError']&&a0_0x5ce2cc[_0x402ae8(0x197)](_0x3092da[_0x402ae8(0x1a4)],_0x3092da[_0x402ae8(0x16c)]);});}catch(_0x5fe7c6){console[_0x4dbb24(0x197)](_0x3092da[_0x4dbb24(0x17e)],_0x5fe7c6),a0_0x5ce2cc['error'](_0x3092da['zIqzc'],_0x3092da[_0x4dbb24(0x16c)]);}}export function addRowToTable(_0x538b0e,_0x10ec7b,_0x380139){const _0x72b9e9=a0_0x4781,_0x29ffdc={'nUXUG':function(_0x5c0a48,_0x18dfd0){return _0x5c0a48+_0x18dfd0;},'MdaAd':function(_0x3c5542){return _0x3c5542();},'aAqcL':function(_0x1d0a46,_0x2fb2c3){return _0x1d0a46===_0x2fb2c3;},'MFUdg':_0x72b9e9(0x1a3),'mIrkY':function(_0x505095,_0x1d631e){return _0x505095!==_0x1d631e;},'RgGsG':_0x72b9e9(0x1ad),'GZrSG':'click'},_0x8f2716=_0x29ffdc[_0x72b9e9(0x18b)](_0x380139,0x1),_0x47f54b=document[_0x72b9e9(0x1a7)]('tr'),_0x2cfcc5={'numbering':_0x8f2716,..._0x10ec7b},_0x24f4c6=document[_0x72b9e9(0x1a7)]('td');_0x24f4c6['appendChild'](document[_0x72b9e9(0x1a0)](_0x8f2716)),_0x47f54b[_0x72b9e9(0x199)](_0x24f4c6);const _0x1672c5=document[_0x72b9e9(0x1a7)]('td');_0x1672c5[_0x72b9e9(0x199)](document[_0x72b9e9(0x1a0)](_0x2cfcc5[_0x72b9e9(0x179)])),_0x47f54b[_0x72b9e9(0x199)](_0x1672c5);const _0xfab025=document['createElement']('td');_0xfab025[_0x72b9e9(0x199)](document['createTextNode'](_0x2cfcc5[_0x72b9e9(0x1bf)])),_0x47f54b['appendChild'](_0xfab025);const _0x5ce75e=document[_0x72b9e9(0x1a7)]('td');_0x5ce75e[_0x72b9e9(0x199)](document[_0x72b9e9(0x1a0)](_0x2cfcc5[_0x72b9e9(0x19d)])),_0x47f54b['appendChild'](_0x5ce75e);const _0x267924=document[_0x72b9e9(0x1a7)]('td'),_0x113b2d=_0x29ffdc[_0x72b9e9(0x198)](getAccountType);if(_0x29ffdc[_0x72b9e9(0x181)](_0x113b2d,_0x29ffdc[_0x72b9e9(0x16f)])||_0x29ffdc['mIrkY'](_0x2cfcc5[_0x72b9e9(0x19d)],_0x29ffdc[_0x72b9e9(0x1ac)])){const _0x8cd63e=document[_0x72b9e9(0x1a7)](_0x72b9e9(0x17c));_0x8cd63e[_0x72b9e9(0x1aa)]='delete-table-row-button',_0x8cd63e['addEventListener'](_0x29ffdc['GZrSG'],async function(){const _0x247edd=_0x72b9e9,_0x5f11b0=await removeBlacklistEntry(_0x2cfcc5[_0x247edd(0x179)],_0x2cfcc5['value'],_0x2cfcc5[_0x247edd(0x19d)]);_0x5f11b0&&_0x538b0e[_0x247edd(0x175)](_0x47f54b);}),_0x267924[_0x72b9e9(0x199)](_0x8cd63e);}_0x47f54b[_0x72b9e9(0x199)](_0x267924),_0x538b0e['appendChild'](_0x47f54b);}export async function addBlacklistEntry(_0x52a7d1,_0x4b25ae,_0x428d8f){const _0x44ed83=a0_0x4781,_0x363ab5={'PqABQ':function(_0x3dfbf4,_0x1d320f,_0x5efef7){return _0x3dfbf4(_0x1d320f,_0x5efef7);},'vJnOY':function(_0x1246a6,_0x568252){return _0x1246a6===_0x568252;},'SgAgj':'Error','wEqck':function(_0x8c2e57,_0x1c33f2){return _0x8c2e57(_0x1c33f2);},'srVaT':function(_0x5d872a,_0x37facd){return _0x5d872a-_0x37facd;},'Yvszy':function(_0x39ba0d,_0x1d1a50,_0xeeb32,_0xbc008e){return _0x39ba0d(_0x1d1a50,_0xeeb32,_0xbc008e);}},_0x23ad5a={'type':_0x52a7d1,'value':_0x4b25ae,'scope':_0x428d8f},_0xbfc4f1=await _0x363ab5[_0x44ed83(0x1a1)](updateBlacklistInDatabase,_0x23ad5a,'add');if(!_0xbfc4f1||_0x363ab5[_0x44ed83(0x18c)](_0xbfc4f1['length'],0x0)){a0_0x5ce2cc[_0x44ed83(0x197)]('Could\x20not\x20add\x20entry\x20to\x20database',_0x363ab5[_0x44ed83(0x194)]);return;}_0x363ab5[_0x44ed83(0x182)](updateBlacklistInStorage,_0xbfc4f1);const _0x1fde82=document[_0x44ed83(0x195)](_0x44ed83(0x1b0)),_0xd3bb94=_0x363ab5[_0x44ed83(0x170)](_0x1fde82[_0x44ed83(0x19b)][_0x44ed83(0x1b7)],0x1);_0x363ab5['Yvszy'](addRowToTable,_0x1fde82,_0x23ad5a,_0xd3bb94);}