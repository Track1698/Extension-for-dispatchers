(function(_0x615961,_0x27140d){const _0x5615d2=a0_0x38a3,_0x2e1e73=_0x615961();while(!![]){try{const _0x529237=-parseInt(_0x5615d2(0xa6))/0x1*(-parseInt(_0x5615d2(0xd1))/0x2)+-parseInt(_0x5615d2(0x9e))/0x3*(-parseInt(_0x5615d2(0xd9))/0x4)+parseInt(_0x5615d2(0xba))/0x5*(-parseInt(_0x5615d2(0x8d))/0x6)+parseInt(_0x5615d2(0xe1))/0x7*(parseInt(_0x5615d2(0x93))/0x8)+parseInt(_0x5615d2(0x88))/0x9*(parseInt(_0x5615d2(0xb5))/0xa)+-parseInt(_0x5615d2(0xce))/0xb+parseInt(_0x5615d2(0xbe))/0xc;if(_0x529237===_0x27140d)break;else _0x2e1e73['push'](_0x2e1e73['shift']());}catch(_0xa6612e){_0x2e1e73['push'](_0x2e1e73['shift']());}}}(a0_0x1e8d,0x27637));function a0_0x1e8d(){const _0x201a3e=['QcJYv','sort','yMxwI','untaf','20xzKOAQ','length','iIIXT','YyQYL','scope','1105kUchZZ','Server\x20responded\x20with\x20status\x20','removeChild','Error','2092380oMfOSu','lastError','GgJBx','addEventListener','appendChild','etIJC','rSOFk','egwaX','remove','className','Storage\x20Error','NVmyW','personal','storage','addBlacklistItemScopeInput','MwRzr','2653772MMbVdC','vnMYU','FXGxM','316194MrWrjE','Error\x20in\x20updateBlacklistInStorage:','YuBEi','error','Dixwz','YDwZb','status','Error\x20updating\x20blacklist:','5016bfwpoW','blacklist','siNOk','DYixG','NgRtH','/api/updateblacklist','EnhQq','xuGii','1033172BYRbKg','621171nfAANe','RGSDk','company','Error\x20saving\x20blacklist\x20to\x20storage','manager','8166VnXBQc','Parhr','getElementById','rows','PWTKC','isArray','8KKYoVS','value','click','type','Error\x20updating\x20storage','values','LYyGd','POST','ZmaWG','createTextNode','button','204vjPMKR','runtime','add','thvOL','zbDts','ipIXj','stringify','Could\x20not\x20remove\x20entry\x20from\x20database','1Qyojhy','Could\x20not\x20add\x20entry\x20to\x20database','tableBody','gLMPK','lsgvC','delete-table-row-button','MBAGH','qVVim','application/json','local','createElement'];a0_0x1e8d=function(){return _0x201a3e;};return a0_0x1e8d();}import a0_0x1ff903 from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x38cb83){const _0x36260f=a0_0x38a3,_0x5b2c63={'ufCua':function(_0xaf8b11,_0x2440c5){return _0xaf8b11===_0x2440c5;},'RGSDk':function(_0x479cc2,_0x3e2e22){return _0x479cc2!==_0x3e2e22;},'ZmaWG':function(_0x13fb86,_0x103173){return _0x13fb86!==_0x103173;},'qVVim':_0x36260f(0xca),'FXGxM':function(_0x3a0948,_0x5dddf0,_0x4faee0,_0x36ac70){return _0x3a0948(_0x5dddf0,_0x4faee0,_0x36ac70);},'thvOL':function(_0x376258,_0x15c121,_0x5b46bb,_0x36f165){return _0x376258(_0x15c121,_0x5b46bb,_0x36f165);}},_0x3dda9a=document[_0x36260f(0x8f)](_0x36260f(0xa8));while(_0x3dda9a[_0x36260f(0x90)][_0x36260f(0xb6)]>0x1){_0x3dda9a['deleteRow'](0x1);}Array[_0x36260f(0x92)](_0x38cb83)?(_0x38cb83[_0x36260f(0xb2)]((_0x1a52ea,_0x21f0fa)=>{const _0x5e59e7=_0x36260f;if(_0x5b2c63['ufCua'](_0x1a52ea['scope'],_0x5e59e7(0xca))&&_0x5b2c63[_0x5e59e7(0x89)](_0x21f0fa[_0x5e59e7(0xb9)],'personal'))return-0x1;if(_0x5b2c63[_0x5e59e7(0x9b)](_0x1a52ea[_0x5e59e7(0xb9)],_0x5b2c63[_0x5e59e7(0xad)])&&_0x21f0fa['scope']===_0x5b2c63['qVVim'])return 0x1;return 0x0;}),_0x38cb83['forEach']((_0x5bf945,_0x992d54)=>{const _0x4a1909=_0x36260f;_0x5b2c63[_0x4a1909(0xd0)](addRowToTable,_0x3dda9a,_0x5bf945,_0x992d54);})):_0x5b2c63[_0x36260f(0xa1)](addRowToTable,_0x3dda9a,_0x38cb83,0x0);}export function loadBlacklist(){const _0x31a217=a0_0x38a3,_0x419ee2={'yMxwI':'Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','MBAGH':_0x31a217(0xc8),'PWTKC':function(_0x28c4a9,_0x22a596){return _0x28c4a9(_0x22a596);},'VzrOD':function(_0x4152f3){return _0x4152f3();},'ZgDDw':function(_0x499e31,_0x3ae929){return _0x499e31!==_0x3ae929;},'IqFKt':_0x31a217(0xcc),'GgJBx':'Error\x20in\x20loadBlacklist:','iIIXT':'Error\x20loading\x20blacklist','MXgHp':'Error'},_0xe13d30=_0x419ee2['VzrOD'](getAccountType);_0x419ee2['ZgDDw'](_0xe13d30,_0x31a217(0x8c))&&(document[_0x31a217(0x8f)](_0x419ee2['IqFKt'])['disabled']=!![]);try{chrome['storage'][_0x31a217(0xaf)]['get'](_0x31a217(0xda),_0x3c57e=>{const _0x366a17=_0x31a217;if(chrome[_0x366a17(0x9f)]['lastError']){a0_0x1ff903[_0x366a17(0xd4)](_0x419ee2[_0x366a17(0xb3)],_0x419ee2[_0x366a17(0xac)]);return;}const _0x268f5b=_0x3c57e[_0x366a17(0xda)]||{},_0x2b6211=Object[_0x366a17(0x98)](_0x268f5b);_0x419ee2[_0x366a17(0x91)](populateBlacklistTable,_0x2b6211);});}catch(_0x44c35e){console[_0x31a217(0xd4)](_0x419ee2[_0x31a217(0xc0)],_0x44c35e),a0_0x1ff903[_0x31a217(0xd4)](_0x419ee2[_0x31a217(0xb7)],_0x419ee2['MXgHp']);}}export async function removeBlacklistEntry(_0x39ffaa,_0xa9462,_0x237b15){const _0x12eb1=a0_0x38a3,_0x43f719={'rSOFk':function(_0x1d95fb,_0x26a19f,_0x4b4511){return _0x1d95fb(_0x26a19f,_0x4b4511);},'siNOk':_0x12eb1(0xc6),'QcJYv':function(_0xf15415,_0x5b6fe0){return _0xf15415===_0x5b6fe0;},'EnhQq':'Error','gLMPK':function(_0x43428f,_0x48bc47){return _0x43428f(_0x48bc47);}},_0x38f918={'type':_0x39ffaa,'value':_0xa9462,'scope':_0x237b15},_0x53d4f9=await _0x43f719[_0x12eb1(0xc4)](updateBlacklistInDatabase,_0x38f918,_0x43f719[_0x12eb1(0xdb)]);if(!_0x53d4f9||_0x43f719[_0x12eb1(0xb1)](_0x53d4f9['length'],0x0))return a0_0x1ff903[_0x12eb1(0xd4)](_0x12eb1(0xa5),_0x43f719[_0x12eb1(0xdf)]),![];return _0x43f719[_0x12eb1(0xa9)](updateBlacklistInStorage,_0x53d4f9),!![];}export async function updateBlacklistInDatabase(_0x726a33,_0x42da24){const _0x477bca=a0_0x38a3,_0x3456c8={'vnMYU':function(_0x7711b7){return _0x7711b7();},'mqeTH':function(_0x37df14,_0x2a95a6,_0x95079){return _0x37df14(_0x2a95a6,_0x95079);},'SKDNA':_0x477bca(0x9a),'NgRtH':_0x477bca(0xae),'Dixwz':_0x477bca(0xd8),'WkeML':'Error\x20updating\x20item\x20in\x20blacklist'};try{const _0x18cc16=getEmail(),_0x9fbbc9=_0x3456c8[_0x477bca(0xcf)](getCompanyName),_0x2f397b=_0x3456c8[_0x477bca(0xcf)](getLoginKey),_0x281326=backendAddress+_0x477bca(0xde),_0xf1fe8c={'companyName':_0x9fbbc9,'email':_0x18cc16,'loginKey':_0x2f397b,'type':_0x726a33[_0x477bca(0x96)],'value':_0x726a33[_0x477bca(0x94)],'scope':_0x726a33[_0x477bca(0xb9)],'action':_0x42da24},_0x245acf=await _0x3456c8['mqeTH'](fetch,_0x281326,{'method':_0x3456c8['SKDNA'],'headers':{'Content-Type':_0x3456c8[_0x477bca(0xdd)]},'body':JSON[_0x477bca(0xa4)](_0xf1fe8c)});if(!_0x245acf['ok']){const _0x206d76=_0x477bca(0xbb)+_0x245acf[_0x477bca(0xd7)];throw new Error(_0x206d76);}const _0x53d1cd=await _0x245acf['json']();return _0x53d1cd['blacklist'];}catch(_0x66bd86){return console[_0x477bca(0xd4)](_0x3456c8[_0x477bca(0xd5)],_0x66bd86),a0_0x1ff903['error'](_0x3456c8['WkeML'],_0x477bca(0xbd)),[];}}function a0_0x38a3(_0x23f88d,_0x3fdeab){const _0x1e8da9=a0_0x1e8d();return a0_0x38a3=function(_0x38a38a,_0x3c89ba){_0x38a38a=_0x38a38a-0x88;let _0x32de35=_0x1e8da9[_0x38a38a];return _0x32de35;},a0_0x38a3(_0x23f88d,_0x3fdeab);}export function updateBlacklistInStorage(_0x3df391){const _0x1d1f03=a0_0x38a3,_0x509878={'TZcSZ':_0x1d1f03(0xd2),'lsgvC':_0x1d1f03(0x97),'egwaX':_0x1d1f03(0xc8)};try{chrome[_0x1d1f03(0xcb)][_0x1d1f03(0xaf)]['set']({'blacklist':_0x3df391},function(){const _0x1a4c17=_0x1d1f03;chrome[_0x1a4c17(0x9f)][_0x1a4c17(0xbf)]&&a0_0x1ff903[_0x1a4c17(0xd4)](_0x1a4c17(0x8b),'Storage\x20Error');});}catch(_0x2de098){console[_0x1d1f03(0xd4)](_0x509878['TZcSZ'],_0x2de098),a0_0x1ff903[_0x1d1f03(0xd4)](_0x509878[_0x1d1f03(0xaa)],_0x509878[_0x1d1f03(0xc5)]);}}export function addRowToTable(_0x28bd1f,_0x3ab5c5,_0x1c5cda){const _0x38162a=a0_0x38a3,_0xca1cb8={'xuGii':function(_0x58ebd1,_0x5d9e92,_0x4ae2c5,_0x2f8d49){return _0x58ebd1(_0x5d9e92,_0x4ae2c5,_0x2f8d49);},'YDwZb':function(_0x5c7784,_0x566416){return _0x5c7784+_0x566416;},'DYixG':function(_0x51c232){return _0x51c232();},'untaf':function(_0x487c3c,_0x1261e4){return _0x487c3c===_0x1261e4;},'LDhev':_0x38162a(0x8c),'zbDts':_0x38162a(0x9d),'Parhr':_0x38162a(0xab)},_0x274ed8=_0xca1cb8[_0x38162a(0xd6)](_0x1c5cda,0x1),_0x4ae38b=document[_0x38162a(0xb0)]('tr'),_0x54dd3a={'numbering':_0x274ed8,..._0x3ab5c5},_0x5354ce=document['createElement']('td');_0x5354ce['appendChild'](document[_0x38162a(0x9c)](_0x274ed8)),_0x4ae38b[_0x38162a(0xc2)](_0x5354ce);const _0x18bd89=document[_0x38162a(0xb0)]('td');_0x18bd89['appendChild'](document[_0x38162a(0x9c)](_0x54dd3a['type'])),_0x4ae38b[_0x38162a(0xc2)](_0x18bd89);const _0xa738fb=document['createElement']('td');_0xa738fb[_0x38162a(0xc2)](document[_0x38162a(0x9c)](_0x54dd3a[_0x38162a(0x94)])),_0x4ae38b[_0x38162a(0xc2)](_0xa738fb);const _0x2e3bf6=document[_0x38162a(0xb0)]('td');_0x2e3bf6['appendChild'](document[_0x38162a(0x9c)](_0x54dd3a['scope'])),_0x4ae38b['appendChild'](_0x2e3bf6);const _0x50d9aa=document[_0x38162a(0xb0)]('td'),_0x38a329=_0xca1cb8[_0x38162a(0xdc)](getAccountType);if(_0xca1cb8[_0x38162a(0xb4)](_0x38a329,_0xca1cb8['LDhev'])||_0x54dd3a[_0x38162a(0xb9)]!==_0x38162a(0x8a)){const _0xf30acb=document['createElement'](_0xca1cb8[_0x38162a(0xa2)]);_0xf30acb[_0x38162a(0xc7)]=_0xca1cb8[_0x38162a(0x8e)],_0xf30acb[_0x38162a(0xc1)](_0x38162a(0x95),async function(){const _0x2cc266=_0x38162a,_0x3dd867=await _0xca1cb8[_0x2cc266(0xe0)](removeBlacklistEntry,_0x54dd3a[_0x2cc266(0x96)],_0x54dd3a[_0x2cc266(0x94)],_0x54dd3a[_0x2cc266(0xb9)]);_0x3dd867&&_0x28bd1f[_0x2cc266(0xbc)](_0x4ae38b);}),_0x50d9aa[_0x38162a(0xc2)](_0xf30acb);}_0x4ae38b[_0x38162a(0xc2)](_0x50d9aa),_0x28bd1f['appendChild'](_0x4ae38b);}export async function addBlacklistEntry(_0xa44102,_0x4f4398,_0x123d87){const _0x26e83d=a0_0x38a3,_0x5cf9ff={'NVmyW':function(_0xbb891d,_0x1aa271,_0x74c012){return _0xbb891d(_0x1aa271,_0x74c012);},'LYyGd':_0x26e83d(0xa0),'YyQYL':function(_0x56366d,_0x3e2f03){return _0x56366d===_0x3e2f03;},'ipIXj':_0x26e83d(0xa7),'YuBEi':_0x26e83d(0xbd),'MwRzr':_0x26e83d(0xa8),'XpUgh':function(_0xa6b1,_0xdca4b8){return _0xa6b1-_0xdca4b8;},'etIJC':function(_0x4c6112,_0x2a3511,_0x4d35f3,_0x4fe0c2){return _0x4c6112(_0x2a3511,_0x4d35f3,_0x4fe0c2);}},_0x47b089={'type':_0xa44102,'value':_0x4f4398,'scope':_0x123d87},_0xef7ea4=await _0x5cf9ff[_0x26e83d(0xc9)](updateBlacklistInDatabase,_0x47b089,_0x5cf9ff[_0x26e83d(0x99)]);if(!_0xef7ea4||_0x5cf9ff[_0x26e83d(0xb8)](_0xef7ea4[_0x26e83d(0xb6)],0x0)){a0_0x1ff903[_0x26e83d(0xd4)](_0x5cf9ff[_0x26e83d(0xa3)],_0x5cf9ff[_0x26e83d(0xd3)]);return;}updateBlacklistInStorage(_0xef7ea4);const _0x154347=document[_0x26e83d(0x8f)](_0x5cf9ff[_0x26e83d(0xcd)]),_0x1e99c1=_0x5cf9ff['XpUgh'](_0x154347[_0x26e83d(0x90)][_0x26e83d(0xb6)],0x1);_0x5cf9ff[_0x26e83d(0xc3)](addRowToTable,_0x154347,_0x47b089,_0x1e99c1);}