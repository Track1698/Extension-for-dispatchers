(function(_0x370539,_0x23c509){const _0x1f7179=a0_0x1e3e,_0x4d7828=_0x370539();while(!![]){try{const _0x59e805=parseInt(_0x1f7179(0xe5))/0x1*(-parseInt(_0x1f7179(0x9a))/0x2)+-parseInt(_0x1f7179(0xc3))/0x3*(-parseInt(_0x1f7179(0x98))/0x4)+-parseInt(_0x1f7179(0xba))/0x5*(parseInt(_0x1f7179(0xc9))/0x6)+-parseInt(_0x1f7179(0xaf))/0x7*(-parseInt(_0x1f7179(0xe1))/0x8)+parseInt(_0x1f7179(0xb2))/0x9+parseInt(_0x1f7179(0xa6))/0xa+parseInt(_0x1f7179(0xcd))/0xb*(-parseInt(_0x1f7179(0xa9))/0xc);if(_0x59e805===_0x23c509)break;else _0x4d7828['push'](_0x4d7828['shift']());}catch(_0x3abf8f){_0x4d7828['push'](_0x4d7828['shift']());}}}(a0_0x1a3a,0x54fba));import a0_0x18fd56 from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x1881ea){const _0x380b9b=a0_0x1e3e,_0x514507={'HnPjf':function(_0x36054e,_0x599cd2){return _0x36054e===_0x599cd2;},'pEsaP':_0x380b9b(0xd1),'bZcTW':function(_0x54a342,_0x387fb3,_0x32dcbe,_0x2543a5){return _0x54a342(_0x387fb3,_0x32dcbe,_0x2543a5);},'PJboP':_0x380b9b(0xe9),'NhJqA':function(_0x4b800d,_0x5930f1){return _0x4b800d>_0x5930f1;},'OzsPX':function(_0x865d0e,_0x26ec36,_0x59fd48,_0xaecc84){return _0x865d0e(_0x26ec36,_0x59fd48,_0xaecc84);}},_0x5d0425=document[_0x380b9b(0xec)](_0x514507[_0x380b9b(0xe7)]);while(_0x514507[_0x380b9b(0xce)](_0x5d0425[_0x380b9b(0x96)][_0x380b9b(0xbe)],0x1)){_0x5d0425[_0x380b9b(0xa3)](0x1);}Array[_0x380b9b(0x9d)](_0x1881ea)?(_0x1881ea['sort']((_0x493d13,_0xe6ec4d)=>{const _0x2fc848=_0x380b9b;if(_0x514507[_0x2fc848(0xb8)](_0x493d13[_0x2fc848(0xb5)],_0x2fc848(0xd1))&&_0xe6ec4d[_0x2fc848(0xb5)]!==_0x514507['pEsaP'])return-0x1;if(_0x493d13['scope']!==_0x514507[_0x2fc848(0x9f)]&&_0x514507[_0x2fc848(0xb8)](_0xe6ec4d[_0x2fc848(0xb5)],_0x514507[_0x2fc848(0x9f)]))return 0x1;return 0x0;}),_0x1881ea[_0x380b9b(0xa4)]((_0x37613c,_0x5bef74)=>{_0x514507['bZcTW'](addRowToTable,_0x5d0425,_0x37613c,_0x5bef74);})):_0x514507[_0x380b9b(0xe0)](addRowToTable,_0x5d0425,_0x1881ea,0x0);}function a0_0x1e3e(_0x2f26cb,_0x47e152){const _0x1a3abc=a0_0x1a3a();return a0_0x1e3e=function(_0x1e3e43,_0x19dd03){_0x1e3e43=_0x1e3e43-0x95;let _0x435e0f=_0x1a3abc[_0x1e3e43];return _0x435e0f;},a0_0x1e3e(_0x2f26cb,_0x47e152);}function a0_0x1a3a(){const _0xa1b3db=['personal','FjtfA','Error\x20loading\x20blacklist','type','nAflf','MgpBD','get','LVGGu','Server\x20responded\x20with\x20status\x20','value','json','removeChild','error','Error\x20updating\x20storage','addBlacklistItemScopeInput','OzsPX','222184YuKZzF','BFadf','Could\x20not\x20add\x20entry\x20to\x20database','nHOWP','395AeBSNM','TllGK','PJboP','createElement','tableBody','LIBda','remove','getElementById','KGEUw','rows','yenrc','4DgvdbS','Error\x20in\x20loadBlacklist:','1774wkKNSf','set','button','isArray','Storage\x20Error','pEsaP','ScwNj','stringify','manager','deleteRow','forEach','GcsOF','3884970NvSgfs','KNCCb','delete-table-row-button','48tAbufj','Error\x20updating\x20item\x20in\x20blacklist','zdrGf','/api/updateblacklist','local','appendChild','161quffyu','tfjcX','ayTXc','4711653TRnQzw','oYfCQ','application/json','scope','JjSNB','createTextNode','HnPjf','Error\x20updating\x20blacklist:','815OLdbFB','runtime','Could\x20not\x20remove\x20entry\x20from\x20database','storage','length','yLXqb','VWhAV','Error\x20in\x20updateBlacklistInStorage:','MnCjc','962373iAnuAQ','className','Error','lastError','blacklist','status','16194eXMKSj','disabled','OMYjo','click','2016278wIALtf','NhJqA','hBTvo','POST'];a0_0x1a3a=function(){return _0xa1b3db;};return a0_0x1a3a();}export function loadBlacklist(){const _0x526b51=a0_0x1e3e,_0x54b112={'GijHF':'Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','wExWd':_0x526b51(0x9e),'zdrGf':function(_0x4c7095,_0x393e7d){return _0x4c7095(_0x393e7d);},'yLXqb':function(_0x5e7472){return _0x5e7472();},'SgPbK':_0x526b51(0xa2),'pSRBF':_0x526b51(0xdf),'PGlWI':_0x526b51(0xc7),'nHOWP':_0x526b51(0x99),'LVGGu':'Error'},_0x53ffed=_0x54b112[_0x526b51(0xbf)](getAccountType);_0x53ffed!==_0x54b112['SgPbK']&&(document[_0x526b51(0xec)](_0x54b112['pSRBF'])[_0x526b51(0xca)]=!![]);try{chrome[_0x526b51(0xbd)][_0x526b51(0xad)][_0x526b51(0xd7)](_0x54b112['PGlWI'],_0xd7f73b=>{const _0x89f5e8=_0x526b51;if(chrome[_0x89f5e8(0xbb)]['lastError']){a0_0x18fd56[_0x89f5e8(0xdd)](_0x54b112['GijHF'],_0x54b112['wExWd']);return;}const _0x15b801=_0xd7f73b[_0x89f5e8(0xc7)]||{},_0x44a2e=Object['values'](_0x15b801);_0x54b112[_0x89f5e8(0xab)](populateBlacklistTable,_0x44a2e);});}catch(_0x2b885a){console['error'](_0x54b112[_0x526b51(0xe4)],_0x2b885a),a0_0x18fd56[_0x526b51(0xdd)](_0x526b51(0xd3),_0x54b112[_0x526b51(0xd8)]);}}export async function removeBlacklistEntry(_0x5e860d,_0x35e141,_0xb4e657){const _0xe1767=a0_0x1e3e,_0x3c2790={'yenrc':function(_0x5eeb2f,_0x36192d,_0xfad8b3){return _0x5eeb2f(_0x36192d,_0xfad8b3);},'fccKi':_0xe1767(0xeb),'XbVJE':function(_0x563acd,_0x90af43){return _0x563acd===_0x90af43;},'Bbaof':_0xe1767(0xbc),'ScwNj':_0xe1767(0xc5)},_0xd75676={'type':_0x5e860d,'value':_0x35e141,'scope':_0xb4e657},_0x374663=await _0x3c2790[_0xe1767(0x97)](updateBlacklistInDatabase,_0xd75676,_0x3c2790['fccKi']);if(!_0x374663||_0x3c2790['XbVJE'](_0x374663[_0xe1767(0xbe)],0x0))return a0_0x18fd56['error'](_0x3c2790['Bbaof'],_0x3c2790[_0xe1767(0xa0)]),![];return updateBlacklistInStorage(_0x374663),!![];}export async function updateBlacklistInDatabase(_0x505751,_0x19b5d3){const _0x4e4727=a0_0x1e3e,_0x470439={'MgpBD':function(_0x47f8f2){return _0x47f8f2();},'KNCCb':function(_0x867526,_0x11f651,_0x5c5c2f){return _0x867526(_0x11f651,_0x5c5c2f);},'ldNtz':_0x4e4727(0xb4)};try{const _0x92cbcb=_0x470439[_0x4e4727(0xd6)](getEmail),_0x85c52f=_0x470439['MgpBD'](getCompanyName),_0x5ea68d=getLoginKey(),_0x4e72ed=backendAddress+_0x4e4727(0xac),_0x5e8f9f={'companyName':_0x85c52f,'email':_0x92cbcb,'loginKey':_0x5ea68d,'type':_0x505751[_0x4e4727(0xd4)],'value':_0x505751[_0x4e4727(0xda)],'scope':_0x505751[_0x4e4727(0xb5)],'action':_0x19b5d3},_0x272017=await _0x470439[_0x4e4727(0xa7)](fetch,_0x4e72ed,{'method':_0x4e4727(0xd0),'headers':{'Content-Type':_0x470439['ldNtz']},'body':JSON[_0x4e4727(0xa1)](_0x5e8f9f)});if(!_0x272017['ok']){const _0x3cfa87=_0x4e4727(0xd9)+_0x272017[_0x4e4727(0xc8)];throw new Error(_0x3cfa87);}const _0x1414ab=await _0x272017[_0x4e4727(0xdb)]();return _0x1414ab[_0x4e4727(0xc7)];}catch(_0x547fe5){return console[_0x4e4727(0xdd)](_0x4e4727(0xb9),_0x547fe5),a0_0x18fd56['error'](_0x4e4727(0xaa),_0x4e4727(0xc5)),[];}}export function updateBlacklistInStorage(_0x76ef99){const _0x3388d1=a0_0x1e3e,_0x273a9e={'hBTvo':'Error\x20saving\x20blacklist\x20to\x20storage','FjtfA':_0x3388d1(0x9e),'ayTXc':_0x3388d1(0xc1),'ZrdRy':_0x3388d1(0xde)};try{chrome[_0x3388d1(0xbd)]['local'][_0x3388d1(0x9b)]({'blacklist':_0x76ef99},function(){const _0x31317d=_0x3388d1;chrome[_0x31317d(0xbb)][_0x31317d(0xc6)]&&a0_0x18fd56[_0x31317d(0xdd)](_0x273a9e[_0x31317d(0xcf)],_0x273a9e[_0x31317d(0xd2)]);});}catch(_0x21f772){console[_0x3388d1(0xdd)](_0x273a9e[_0x3388d1(0xb1)],_0x21f772),a0_0x18fd56[_0x3388d1(0xdd)](_0x273a9e['ZrdRy'],_0x273a9e['FjtfA']);}}export function addRowToTable(_0x4f6196,_0x299c85,_0x59b7af){const _0x51c470=a0_0x1e3e,_0x43e6c6={'OMYjo':function(_0x5b8447,_0x2cb887,_0x2eecdf,_0x4ba701){return _0x5b8447(_0x2cb887,_0x2eecdf,_0x4ba701);},'GcsOF':function(_0x3cb370){return _0x3cb370();},'BFadf':function(_0x5b63de,_0x248520){return _0x5b63de===_0x248520;},'VWhAV':_0x51c470(0xa2),'oYfCQ':'company','MnCjc':_0x51c470(0x9c),'nAflf':_0x51c470(0xa8),'TllGK':_0x51c470(0xcc)},_0x3ef637=_0x59b7af+0x1,_0x167b2f=document['createElement']('tr'),_0x2c755d={'numbering':_0x3ef637,..._0x299c85},_0x382e97=document[_0x51c470(0xe8)]('td');_0x382e97[_0x51c470(0xae)](document[_0x51c470(0xb7)](_0x3ef637)),_0x167b2f[_0x51c470(0xae)](_0x382e97);const _0xcadfb3=document[_0x51c470(0xe8)]('td');_0xcadfb3[_0x51c470(0xae)](document['createTextNode'](_0x2c755d[_0x51c470(0xd4)])),_0x167b2f[_0x51c470(0xae)](_0xcadfb3);const _0x5e9164=document[_0x51c470(0xe8)]('td');_0x5e9164[_0x51c470(0xae)](document[_0x51c470(0xb7)](_0x2c755d[_0x51c470(0xda)])),_0x167b2f[_0x51c470(0xae)](_0x5e9164);const _0x40faef=document['createElement']('td');_0x40faef[_0x51c470(0xae)](document[_0x51c470(0xb7)](_0x2c755d[_0x51c470(0xb5)])),_0x167b2f[_0x51c470(0xae)](_0x40faef);const _0xfd1a0e=document[_0x51c470(0xe8)]('td'),_0x97aae8=_0x43e6c6[_0x51c470(0xa5)](getAccountType);if(_0x43e6c6[_0x51c470(0xe2)](_0x97aae8,_0x43e6c6[_0x51c470(0xc0)])||_0x2c755d[_0x51c470(0xb5)]!==_0x43e6c6[_0x51c470(0xb3)]){const _0x94c6b7=document[_0x51c470(0xe8)](_0x43e6c6[_0x51c470(0xc2)]);_0x94c6b7[_0x51c470(0xc4)]=_0x43e6c6[_0x51c470(0xd5)],_0x94c6b7['addEventListener'](_0x43e6c6[_0x51c470(0xe6)],async function(){const _0x4ea69c=_0x51c470,_0x25fd0e=await _0x43e6c6[_0x4ea69c(0xcb)](removeBlacklistEntry,_0x2c755d[_0x4ea69c(0xd4)],_0x2c755d[_0x4ea69c(0xda)],_0x2c755d[_0x4ea69c(0xb5)]);_0x25fd0e&&_0x4f6196[_0x4ea69c(0xdc)](_0x167b2f);}),_0xfd1a0e[_0x51c470(0xae)](_0x94c6b7);}_0x167b2f[_0x51c470(0xae)](_0xfd1a0e),_0x4f6196[_0x51c470(0xae)](_0x167b2f);}export async function addBlacklistEntry(_0xff2a9e,_0x1ca6b6,_0x598e14){const _0xf685d5=a0_0x1e3e,_0x2127ef={'JjSNB':function(_0x56ee7a,_0x33b051,_0x80512b){return _0x56ee7a(_0x33b051,_0x80512b);},'KGEUw':'add','tfjcX':function(_0x5695f7,_0x388a43){return _0x5695f7===_0x388a43;},'LIBda':_0xf685d5(0xe3),'QasVC':_0xf685d5(0xc5),'kUiTQ':function(_0x3f920b,_0x2f5326){return _0x3f920b-_0x2f5326;}},_0x61b341={'type':_0xff2a9e,'value':_0x1ca6b6,'scope':_0x598e14},_0x471a31=await _0x2127ef[_0xf685d5(0xb6)](updateBlacklistInDatabase,_0x61b341,_0x2127ef[_0xf685d5(0x95)]);if(!_0x471a31||_0x2127ef[_0xf685d5(0xb0)](_0x471a31[_0xf685d5(0xbe)],0x0)){a0_0x18fd56[_0xf685d5(0xdd)](_0x2127ef[_0xf685d5(0xea)],_0x2127ef['QasVC']);return;}updateBlacklistInStorage(_0x471a31);const _0x206451=document['getElementById'](_0xf685d5(0xe9)),_0x5b3ae4=_0x2127ef['kUiTQ'](_0x206451['rows'][_0xf685d5(0xbe)],0x1);addRowToTable(_0x206451,_0x61b341,_0x5b3ae4);}