(function(_0x197f3f,_0x2ac730){const _0x4016fd=a0_0x4338,_0x30b341=_0x197f3f();while(!![]){try{const _0x15c9de=parseInt(_0x4016fd(0x1f6))/0x1*(-parseInt(_0x4016fd(0x1f2))/0x2)+-parseInt(_0x4016fd(0x1ea))/0x3+parseInt(_0x4016fd(0x1e7))/0x4+-parseInt(_0x4016fd(0x1fb))/0x5*(parseInt(_0x4016fd(0x21f))/0x6)+parseInt(_0x4016fd(0x213))/0x7+-parseInt(_0x4016fd(0x211))/0x8+parseInt(_0x4016fd(0x219))/0x9;if(_0x15c9de===_0x2ac730)break;else _0x30b341['push'](_0x30b341['shift']());}catch(_0x349e78){_0x30b341['push'](_0x30b341['shift']());}}}(a0_0x1068,0x8e102));import a0_0x49402a from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x17c962){const _0x5471ab=a0_0x4338,_0x2b1ea2={'roDki':function(_0x2e1872,_0x3772bd){return _0x2e1872===_0x3772bd;},'gCRFk':_0x5471ab(0x209),'oTegt':function(_0x9a6911,_0x2eeb66){return _0x9a6911!==_0x2eeb66;},'jHVch':function(_0x506aa6,_0x3608d0){return _0x506aa6===_0x3608d0;},'svPEl':function(_0x2de177,_0x902919,_0x41e5d1,_0x1ef07d){return _0x2de177(_0x902919,_0x41e5d1,_0x1ef07d);},'WQkqN':_0x5471ab(0x208),'mLtAC':function(_0x284999,_0x17659a){return _0x284999>_0x17659a;}},_0x17569b=document['getElementById'](_0x2b1ea2[_0x5471ab(0x1d4)]);while(_0x2b1ea2[_0x5471ab(0x204)](_0x17569b[_0x5471ab(0x1d3)][_0x5471ab(0x207)],0x1)){_0x17569b[_0x5471ab(0x1e0)](0x1);}Array['isArray'](_0x17c962)?(_0x17c962['sort']((_0x319549,_0x277c3e)=>{const _0x1fd35c=_0x5471ab;if(_0x2b1ea2[_0x1fd35c(0x20c)](_0x319549[_0x1fd35c(0x1e6)],_0x2b1ea2[_0x1fd35c(0x1f7)])&&_0x2b1ea2[_0x1fd35c(0x1dd)](_0x277c3e['scope'],_0x2b1ea2[_0x1fd35c(0x1f7)]))return-0x1;if(_0x2b1ea2[_0x1fd35c(0x1dd)](_0x319549[_0x1fd35c(0x1e6)],_0x2b1ea2[_0x1fd35c(0x1f7)])&&_0x2b1ea2[_0x1fd35c(0x21e)](_0x277c3e['scope'],_0x2b1ea2[_0x1fd35c(0x1f7)]))return 0x1;return 0x0;}),_0x17c962[_0x5471ab(0x1d9)]((_0x266b90,_0x26049d)=>{const _0x24ad91=_0x5471ab;_0x2b1ea2[_0x24ad91(0x1fc)](addRowToTable,_0x17569b,_0x266b90,_0x26049d);})):_0x2b1ea2[_0x5471ab(0x1fc)](addRowToTable,_0x17569b,_0x17c962,0x0);}export function loadBlacklist(){const _0x3776b1=a0_0x4338,_0x3c9919={'vMfqA':_0x3776b1(0x1ce),'PvIpc':_0x3776b1(0x1fe),'uDmnx':function(_0x5bda9c,_0x81475a){return _0x5bda9c(_0x81475a);},'soUmr':function(_0x594adf){return _0x594adf();},'hYufw':function(_0x3b8900,_0x287722){return _0x3b8900!==_0x287722;},'URaHj':_0x3776b1(0x1f0),'VmVNo':_0x3776b1(0x210),'kUamZ':_0x3776b1(0x212),'hvYqR':_0x3776b1(0x1cd),'laqVK':_0x3776b1(0x21c)},_0x1a5494=_0x3c9919[_0x3776b1(0x1e1)](getAccountType);_0x3c9919[_0x3776b1(0x201)](_0x1a5494,_0x3c9919[_0x3776b1(0x1db)])&&(document[_0x3776b1(0x1ff)](_0x3c9919['VmVNo'])[_0x3776b1(0x1f9)]=!![]);try{chrome['storage'][_0x3776b1(0x1e8)][_0x3776b1(0x1d0)](_0x3c9919['kUamZ'],_0xe47dab=>{const _0x1f8677=_0x3776b1;if(chrome[_0x1f8677(0x1d6)][_0x1f8677(0x20e)]){a0_0x49402a[_0x1f8677(0x1e5)](_0x3c9919[_0x1f8677(0x214)],_0x3c9919[_0x1f8677(0x1d2)]);return;}const _0x22b911=_0xe47dab[_0x1f8677(0x212)]||{},_0xcb5f0d=Object[_0x1f8677(0x1d5)](_0x22b911);_0x3c9919[_0x1f8677(0x1fa)](populateBlacklistTable,_0xcb5f0d);});}catch(_0x5c3f25){console['error'](_0x3c9919[_0x3776b1(0x1ee)],_0x5c3f25),a0_0x49402a[_0x3776b1(0x1e5)](_0x3c9919['laqVK'],_0x3776b1(0x200));}}export async function removeBlacklistEntry(_0x524da2,_0x3f7efe,_0x41c6a0){const _0x7d521b=a0_0x4338,_0x49edfe={'TqzNn':_0x7d521b(0x1c9),'Xupjw':'Could\x20not\x20remove\x20entry\x20from\x20database','oXrjZ':_0x7d521b(0x200)},_0x4b4b92={'type':_0x524da2,'value':_0x3f7efe,'scope':_0x41c6a0},_0x3e1354=await updateBlacklistInDatabase(_0x4b4b92,_0x49edfe['TqzNn']);if(!_0x3e1354||_0x3e1354[_0x7d521b(0x207)]===0x0)return a0_0x49402a['error'](_0x49edfe[_0x7d521b(0x1ef)],_0x49edfe[_0x7d521b(0x220)]),![];return updateBlacklistInStorage(_0x3e1354),!![];}function a0_0x4338(_0x1cd1ad,_0x3d7d12){const _0x1068c6=a0_0x1068();return a0_0x4338=function(_0x433869,_0x460de5){_0x433869=_0x433869-0x1c9;let _0x3f2d1e=_0x1068c6[_0x433869];return _0x3f2d1e;},a0_0x4338(_0x1cd1ad,_0x3d7d12);}export async function updateBlacklistInDatabase(_0x29b97c,_0x3bf9fa){const _0xf15e2c=a0_0x4338,_0x21f4d0={'hjZrl':function(_0x14ef67){return _0x14ef67();},'tveWI':function(_0x253aac,_0x42a229,_0x3c7e99){return _0x253aac(_0x42a229,_0x3c7e99);},'UqxQT':_0xf15e2c(0x205),'lajhV':'Error\x20updating\x20blacklist:','LoVfO':'Error\x20updating\x20item\x20in\x20blacklist','VhzVN':_0xf15e2c(0x200)};try{const _0x34fbef=_0x21f4d0['hjZrl'](getEmail),_0x35233b=_0x21f4d0[_0xf15e2c(0x1e3)](getCompanyName),_0x2df181=_0x21f4d0[_0xf15e2c(0x1e3)](getLoginKey),_0x79f3e7=backendAddress+_0xf15e2c(0x218),_0x52b5d6={'companyName':_0x35233b,'email':_0x34fbef,'loginKey':_0x2df181,'type':_0x29b97c[_0xf15e2c(0x206)],'value':_0x29b97c['value'],'scope':_0x29b97c['scope'],'action':_0x3bf9fa},_0xa7e955=await _0x21f4d0[_0xf15e2c(0x21b)](fetch,_0x79f3e7,{'method':_0xf15e2c(0x1d1),'headers':{'Content-Type':_0x21f4d0[_0xf15e2c(0x1f3)]},'body':JSON['stringify'](_0x52b5d6)});if(!_0xa7e955['ok']){const _0x3f8fdb=_0xf15e2c(0x1ca)+_0xa7e955['status'];throw new Error(_0x3f8fdb);}const _0xcb6690=await _0xa7e955[_0xf15e2c(0x1cc)]();return _0xcb6690['blacklist'];}catch(_0x4d95e0){return console[_0xf15e2c(0x1e5)](_0x21f4d0['lajhV'],_0x4d95e0),a0_0x49402a[_0xf15e2c(0x1e5)](_0x21f4d0[_0xf15e2c(0x1da)],_0x21f4d0[_0xf15e2c(0x1ed)]),[];}}export function updateBlacklistInStorage(_0x1cd8bb){const _0x429f74=a0_0x4338,_0x54ad68={'ioGZf':_0x429f74(0x1eb),'fJeaK':_0x429f74(0x1fe),'cEODv':'Error\x20in\x20updateBlacklistInStorage:','xhQPZ':_0x429f74(0x1f4)};try{chrome[_0x429f74(0x216)][_0x429f74(0x1e8)][_0x429f74(0x1dc)]({'blacklist':_0x1cd8bb},function(){const _0x30ba5e=_0x429f74;chrome[_0x30ba5e(0x1d6)]['lastError']&&a0_0x49402a[_0x30ba5e(0x1e5)](_0x54ad68[_0x30ba5e(0x1e9)],_0x54ad68[_0x30ba5e(0x215)]);});}catch(_0x490984){console[_0x429f74(0x1e5)](_0x54ad68[_0x429f74(0x1cf)],_0x490984),a0_0x49402a[_0x429f74(0x1e5)](_0x54ad68[_0x429f74(0x1e2)],'Storage\x20Error');}}export function addRowToTable(_0x373611,_0x56bdca,_0x2eb071){const _0x38f646=a0_0x4338,_0x222f2b={'aAjtA':function(_0x15224e,_0x259825,_0x46b72b,_0x41f037){return _0x15224e(_0x259825,_0x46b72b,_0x41f037);},'goNjk':function(_0x2a014a){return _0x2a014a();},'YDfTG':function(_0xbd456d,_0x2c3a73){return _0xbd456d===_0x2c3a73;},'NImmh':_0x38f646(0x1f0),'eTEaB':'company','cWcqd':_0x38f646(0x1f8),'UVpZF':'delete-table-row-button','kCUld':'click'},_0x5f1786=_0x2eb071+0x1,_0x3edcf9=document['createElement']('tr'),_0x4c9f61={'numbering':_0x5f1786,..._0x56bdca},_0x4233bd=document[_0x38f646(0x1d7)]('td');_0x4233bd[_0x38f646(0x20a)](document[_0x38f646(0x21d)](_0x5f1786)),_0x3edcf9[_0x38f646(0x20a)](_0x4233bd);const _0x2cbd6d=document[_0x38f646(0x1d7)]('td');_0x2cbd6d['appendChild'](document[_0x38f646(0x21d)](_0x4c9f61[_0x38f646(0x206)])),_0x3edcf9[_0x38f646(0x20a)](_0x2cbd6d);const _0xd3de55=document[_0x38f646(0x1d7)]('td');_0xd3de55[_0x38f646(0x20a)](document[_0x38f646(0x21d)](_0x4c9f61[_0x38f646(0x1f1)])),_0x3edcf9[_0x38f646(0x20a)](_0xd3de55);const _0x3e790b=document[_0x38f646(0x1d7)]('td');_0x3e790b[_0x38f646(0x20a)](document[_0x38f646(0x21d)](_0x4c9f61[_0x38f646(0x1e6)])),_0x3edcf9['appendChild'](_0x3e790b);const _0x423453=document[_0x38f646(0x1d7)]('td'),_0x1f64ce=_0x222f2b[_0x38f646(0x202)](getAccountType);if(_0x222f2b['YDfTG'](_0x1f64ce,_0x222f2b[_0x38f646(0x21a)])||_0x4c9f61[_0x38f646(0x1e6)]!==_0x222f2b['eTEaB']){const _0x34ad56=document['createElement'](_0x222f2b[_0x38f646(0x1f5)]);_0x34ad56[_0x38f646(0x1e4)]=_0x222f2b['UVpZF'],_0x34ad56[_0x38f646(0x1df)](_0x222f2b[_0x38f646(0x20b)],async function(){const _0x5ac533=_0x38f646,_0x36dfac=await _0x222f2b['aAjtA'](removeBlacklistEntry,_0x4c9f61[_0x5ac533(0x206)],_0x4c9f61[_0x5ac533(0x1f1)],_0x4c9f61[_0x5ac533(0x1e6)]);_0x36dfac&&_0x373611[_0x5ac533(0x1ec)](_0x3edcf9);}),_0x423453['appendChild'](_0x34ad56);}_0x3edcf9[_0x38f646(0x20a)](_0x423453),_0x373611[_0x38f646(0x20a)](_0x3edcf9);}function a0_0x1068(){const _0x3ce2b2=['scope','619452VZLPdN','local','ioGZf','1588188NrSLgn','Error\x20saving\x20blacklist\x20to\x20storage','removeChild','VhzVN','hvYqR','Xupjw','manager','value','912274beMgKh','UqxQT','Error\x20updating\x20storage','cWcqd','1auSdwx','gCRFk','button','disabled','uDmnx','545490eoamCl','svPEl','BZbEz','Storage\x20Error','getElementById','Error','hYufw','goNjk','NywFA','mLtAC','application/json','type','length','tableBody','personal','appendChild','kCUld','roDki','add','lastError','mplAH','addBlacklistItemScopeInput','3084792wgHmyA','blacklist','5367376fHZVmk','vMfqA','fJeaK','storage','hYsbg','/api/updateblacklist','13210047lFHsih','NImmh','tveWI','Error\x20loading\x20blacklist','createTextNode','jHVch','24qVkybw','oXrjZ','StObF','remove','Server\x20responded\x20with\x20status\x20','OsDiy','json','Error\x20in\x20loadBlacklist:','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','cEODv','get','POST','PvIpc','rows','WQkqN','values','runtime','createElement','tghWw','forEach','LoVfO','URaHj','set','oTegt','HGLCl','addEventListener','deleteRow','soUmr','xhQPZ','hjZrl','className','error'];a0_0x1068=function(){return _0x3ce2b2;};return a0_0x1068();}export async function addBlacklistEntry(_0x206e82,_0x5b57cb,_0x59eb60){const _0xea12be=a0_0x4338,_0xe3b3fb={'WusDZ':function(_0x20694c,_0x2e86ab,_0x2df425){return _0x20694c(_0x2e86ab,_0x2df425);},'mplAH':_0xea12be(0x20d),'StObF':function(_0xb91a55,_0x543786){return _0xb91a55===_0x543786;},'BZbEz':'Could\x20not\x20add\x20entry\x20to\x20database','hYsbg':_0xea12be(0x200),'tghWw':function(_0x318fca,_0x4dd511){return _0x318fca(_0x4dd511);},'HGLCl':_0xea12be(0x208),'OsDiy':function(_0x7402e0,_0x54f55c){return _0x7402e0-_0x54f55c;},'NywFA':function(_0x5e5612,_0x252808,_0x177f02,_0x9e5ccd){return _0x5e5612(_0x252808,_0x177f02,_0x9e5ccd);}},_0xd9d05c={'type':_0x206e82,'value':_0x5b57cb,'scope':_0x59eb60},_0x3ff112=await _0xe3b3fb['WusDZ'](updateBlacklistInDatabase,_0xd9d05c,_0xe3b3fb[_0xea12be(0x20f)]);if(!_0x3ff112||_0xe3b3fb[_0xea12be(0x221)](_0x3ff112[_0xea12be(0x207)],0x0)){a0_0x49402a[_0xea12be(0x1e5)](_0xe3b3fb[_0xea12be(0x1fd)],_0xe3b3fb[_0xea12be(0x217)]);return;}_0xe3b3fb[_0xea12be(0x1d8)](updateBlacklistInStorage,_0x3ff112);const _0x506cff=document['getElementById'](_0xe3b3fb[_0xea12be(0x1de)]),_0x1f8063=_0xe3b3fb[_0xea12be(0x1cb)](_0x506cff[_0xea12be(0x1d3)][_0xea12be(0x207)],0x1);_0xe3b3fb[_0xea12be(0x203)](addRowToTable,_0x506cff,_0xd9d05c,_0x1f8063);}