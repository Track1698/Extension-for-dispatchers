(function(_0x233b3b,_0x2ac913){const _0x256f61=a0_0x22f3,_0x54730a=_0x233b3b();while(!![]){try{const _0x386a8b=parseInt(_0x256f61(0x80))/0x1+-parseInt(_0x256f61(0xac))/0x2+-parseInt(_0x256f61(0x94))/0x3*(-parseInt(_0x256f61(0xa2))/0x4)+-parseInt(_0x256f61(0x70))/0x5+parseInt(_0x256f61(0xc0))/0x6*(-parseInt(_0x256f61(0xbb))/0x7)+parseInt(_0x256f61(0x6b))/0x8*(parseInt(_0x256f61(0xa6))/0x9)+parseInt(_0x256f61(0xb4))/0xa*(parseInt(_0x256f61(0x76))/0xb);if(_0x386a8b===_0x2ac913)break;else _0x54730a['push'](_0x54730a['shift']());}catch(_0x4bc503){_0x54730a['push'](_0x54730a['shift']());}}}(a0_0x2535,0xe5127));import a0_0x498b3d from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x48106b){const _0x47b5a0=a0_0x22f3,_0x138406={'EbnHU':function(_0x368f5d,_0x13613f){return _0x368f5d===_0x13613f;},'kZHdr':_0x47b5a0(0xc1),'dCAWB':function(_0x446a0e,_0x42e9b7,_0x194eef,_0x1b10bb){return _0x446a0e(_0x42e9b7,_0x194eef,_0x1b10bb);},'iPLtt':_0x47b5a0(0x7e),'UmTGk':function(_0x539629,_0x2f855f){return _0x539629>_0x2f855f;},'JnwQH':function(_0x3d1abe,_0x927699,_0x173b4e,_0x5bf741){return _0x3d1abe(_0x927699,_0x173b4e,_0x5bf741);}},_0x2ebaf6=document[_0x47b5a0(0xaa)](_0x138406[_0x47b5a0(0x7b)]);while(_0x138406[_0x47b5a0(0x88)](_0x2ebaf6[_0x47b5a0(0xb5)]['length'],0x1)){_0x2ebaf6[_0x47b5a0(0x85)](0x1);}Array[_0x47b5a0(0x9b)](_0x48106b)?(_0x48106b[_0x47b5a0(0xbc)]((_0x30d878,_0x29e01a)=>{const _0x2d2d87=_0x47b5a0;if(_0x138406[_0x2d2d87(0x78)](_0x30d878[_0x2d2d87(0x71)],_0x138406['kZHdr'])&&_0x29e01a['scope']!==_0x138406[_0x2d2d87(0xc3)])return-0x1;if(_0x30d878[_0x2d2d87(0x71)]!==_0x138406[_0x2d2d87(0xc3)]&&_0x29e01a[_0x2d2d87(0x71)]===_0x2d2d87(0xc1))return 0x1;return 0x0;}),_0x48106b['forEach']((_0x57500c,_0xfa1199)=>{const _0x49c7f9=_0x47b5a0;_0x138406[_0x49c7f9(0x74)](addRowToTable,_0x2ebaf6,_0x57500c,_0xfa1199);})):_0x138406[_0x47b5a0(0x87)](addRowToTable,_0x2ebaf6,_0x48106b,0x0);}function a0_0x22f3(_0x32c0b1,_0x40c11f){const _0x253504=a0_0x2535();return a0_0x22f3=function(_0x22f387,_0x1c4079){_0x22f387=_0x22f387-0x6a;let _0x521d9d=_0x253504[_0x22f387];return _0x521d9d;},a0_0x22f3(_0x32c0b1,_0x40c11f);}export function loadBlacklist(){const _0x6f7fb7=a0_0x22f3,_0x1747da={'tasfh':_0x6f7fb7(0x92),'xvtgA':function(_0x3c929d,_0x353d9c){return _0x3c929d(_0x353d9c);},'KnOEY':function(_0x483318){return _0x483318();},'QLdBW':function(_0x38d5c4,_0x5f314e){return _0x38d5c4!==_0x5f314e;},'XGZUs':_0x6f7fb7(0x86),'laxKd':_0x6f7fb7(0x77),'oEWZf':_0x6f7fb7(0x6c),'iLLnf':_0x6f7fb7(0xa7)},_0x40fa8b=_0x1747da[_0x6f7fb7(0xa0)](getAccountType);_0x1747da[_0x6f7fb7(0xba)](_0x40fa8b,_0x6f7fb7(0x72))&&(document[_0x6f7fb7(0xaa)](_0x6f7fb7(0x79))[_0x6f7fb7(0xa8)]=!![]);try{chrome[_0x6f7fb7(0x96)][_0x6f7fb7(0x98)]['get'](_0x1747da[_0x6f7fb7(0x99)],_0x85164d=>{const _0x4b2486=_0x6f7fb7;if(chrome[_0x4b2486(0x93)][_0x4b2486(0x89)]){a0_0x498b3d[_0x4b2486(0xb8)]('Error\x20retrieving\x20blacklist\x20data\x20from\x20storage',_0x1747da[_0x4b2486(0x7c)]);return;}const _0x52ef93=_0x85164d['blacklist']||{},_0x42e4de=Object[_0x4b2486(0xb1)](_0x52ef93);_0x1747da[_0x4b2486(0x6e)](populateBlacklistTable,_0x42e4de);});}catch(_0x2b759a){console[_0x6f7fb7(0xb8)](_0x1747da[_0x6f7fb7(0xb2)],_0x2b759a),a0_0x498b3d[_0x6f7fb7(0xb8)](_0x1747da[_0x6f7fb7(0x9e)],_0x1747da[_0x6f7fb7(0x6f)]);}}export async function removeBlacklistEntry(_0x334cae,_0x577263,_0x578f17){const _0x3199c0=a0_0x22f3,_0x291535={'JIAtX':_0x3199c0(0xb9),'gOhmK':function(_0x14f319,_0x43af2a){return _0x14f319===_0x43af2a;},'GPtSh':_0x3199c0(0xad),'SHCYR':_0x3199c0(0xa7),'TxLYE':function(_0x151b7f,_0x549a0f){return _0x151b7f(_0x549a0f);}},_0x1874e4={'type':_0x334cae,'value':_0x577263,'scope':_0x578f17},_0x9dbe35=await updateBlacklistInDatabase(_0x1874e4,_0x291535[_0x3199c0(0x7f)]);if(!_0x9dbe35||_0x291535[_0x3199c0(0x9c)](_0x9dbe35[_0x3199c0(0x84)],0x0))return a0_0x498b3d[_0x3199c0(0xb8)](_0x291535[_0x3199c0(0xb7)],_0x291535['SHCYR']),![];return _0x291535['TxLYE'](updateBlacklistInStorage,_0x9dbe35),!![];}export async function updateBlacklistInDatabase(_0xe3618c,_0xd19b1b){const _0x5a3bab=a0_0x22f3,_0x1a1404={'WRvjD':function(_0x1e3383){return _0x1e3383();},'lkHNa':function(_0x9e74c0,_0x4cce59,_0x243b46){return _0x9e74c0(_0x4cce59,_0x243b46);},'swOzS':'application/json','dnzgS':_0x5a3bab(0xb0),'jlsOc':_0x5a3bab(0x8d),'viZcu':_0x5a3bab(0xa7)};try{const _0x17a0c9=getEmail(),_0x4ad58c=_0x1a1404[_0x5a3bab(0xbf)](getCompanyName),_0x546316=getLoginKey(),_0x2b3ec7=backendAddress+_0x5a3bab(0x90),_0x6a7bd1={'companyName':_0x4ad58c,'email':_0x17a0c9,'loginKey':_0x546316,'type':_0xe3618c[_0x5a3bab(0x6d)],'value':_0xe3618c['value'],'scope':_0xe3618c[_0x5a3bab(0x71)],'action':_0xd19b1b},_0x29865f=await _0x1a1404[_0x5a3bab(0x8a)](fetch,_0x2b3ec7,{'method':_0x5a3bab(0x75),'headers':{'Content-Type':_0x1a1404['swOzS']},'body':JSON['stringify'](_0x6a7bd1)});if(!_0x29865f['ok']){const _0x1437f8=_0x5a3bab(0x82)+_0x29865f[_0x5a3bab(0xa3)];throw new Error(_0x1437f8);}const _0x4a5223=await _0x29865f[_0x5a3bab(0x97)]();return _0x4a5223[_0x5a3bab(0x86)];}catch(_0x41131c){return console[_0x5a3bab(0xb8)](_0x1a1404[_0x5a3bab(0x73)],_0x41131c),a0_0x498b3d[_0x5a3bab(0xb8)](_0x1a1404[_0x5a3bab(0x7a)],_0x1a1404['viZcu']),[];}}export function updateBlacklistInStorage(_0x3ffe3d){const _0x3f7e6e=a0_0x22f3,_0x37c2d2={'vohMB':'Error\x20saving\x20blacklist\x20to\x20storage','ijrZn':_0x3f7e6e(0x92),'VTgTe':'Error\x20in\x20updateBlacklistInStorage:','RqLaF':_0x3f7e6e(0xaf)};try{chrome[_0x3f7e6e(0x96)][_0x3f7e6e(0x98)][_0x3f7e6e(0x8c)]({'blacklist':_0x3ffe3d},function(){const _0x272a87=_0x3f7e6e;chrome[_0x272a87(0x93)][_0x272a87(0x89)]&&a0_0x498b3d[_0x272a87(0xb8)](_0x37c2d2['vohMB'],_0x37c2d2['ijrZn']);});}catch(_0x2f76ef){console[_0x3f7e6e(0xb8)](_0x37c2d2['VTgTe'],_0x2f76ef),a0_0x498b3d[_0x3f7e6e(0xb8)](_0x37c2d2[_0x3f7e6e(0xa1)],_0x37c2d2['ijrZn']);}}export function addRowToTable(_0x34105d,_0x570e26,_0x15ef5d){const _0x440024=a0_0x22f3,_0x2cd8e2={'BVhNF':function(_0x1c4ace,_0x3c96b7,_0x581836,_0x12ca3d){return _0x1c4ace(_0x3c96b7,_0x581836,_0x12ca3d);},'xjSWV':function(_0x43b2fc,_0x2dbe29){return _0x43b2fc+_0x2dbe29;},'UeGPF':function(_0x4c37f9){return _0x4c37f9();},'jyelE':function(_0x1a35e3,_0x3a3d6c){return _0x1a35e3===_0x3a3d6c;},'npdyE':_0x440024(0x72),'RtBLa':function(_0x1ea515,_0x35b7a9){return _0x1ea515!==_0x35b7a9;},'QZVcl':_0x440024(0xbe),'nrlsH':_0x440024(0xb3)},_0x19273f=_0x2cd8e2[_0x440024(0xc2)](_0x15ef5d,0x1),_0x159ea8=document[_0x440024(0xab)]('tr'),_0x104e38={'numbering':_0x19273f,..._0x570e26},_0x7bdba2=document[_0x440024(0xab)]('td');_0x7bdba2[_0x440024(0x95)](document[_0x440024(0x9d)](_0x19273f)),_0x159ea8['appendChild'](_0x7bdba2);const _0x41cdb2=document[_0x440024(0xab)]('td');_0x41cdb2[_0x440024(0x95)](document[_0x440024(0x9d)](_0x104e38[_0x440024(0x6d)])),_0x159ea8['appendChild'](_0x41cdb2);const _0x43a9fb=document[_0x440024(0xab)]('td');_0x43a9fb[_0x440024(0x95)](document[_0x440024(0x9d)](_0x104e38[_0x440024(0xae)])),_0x159ea8['appendChild'](_0x43a9fb);const _0x43a80f=document[_0x440024(0xab)]('td');_0x43a80f[_0x440024(0x95)](document[_0x440024(0x9d)](_0x104e38[_0x440024(0x71)])),_0x159ea8[_0x440024(0x95)](_0x43a80f);const _0x49ce2a=document['createElement']('td'),_0x4aeeef=_0x2cd8e2[_0x440024(0x6a)](getAccountType);if(_0x2cd8e2[_0x440024(0x81)](_0x4aeeef,_0x2cd8e2[_0x440024(0xa9)])||_0x2cd8e2[_0x440024(0x9a)](_0x104e38[_0x440024(0x71)],_0x440024(0x8f))){const _0xff615=document[_0x440024(0xab)](_0x2cd8e2[_0x440024(0xa5)]);_0xff615['className']=_0x2cd8e2[_0x440024(0x8e)],_0xff615['addEventListener']('click',async function(){const _0x110bfa=_0x440024,_0x4b15d4=await _0x2cd8e2[_0x110bfa(0x7d)](removeBlacklistEntry,_0x104e38['type'],_0x104e38[_0x110bfa(0xae)],_0x104e38[_0x110bfa(0x71)]);_0x4b15d4&&_0x34105d[_0x110bfa(0x8b)](_0x159ea8);}),_0x49ce2a['appendChild'](_0xff615);}_0x159ea8[_0x440024(0x95)](_0x49ce2a),_0x34105d[_0x440024(0x95)](_0x159ea8);}export async function addBlacklistEntry(_0x4a97f7,_0x4a3475,_0x5a590d){const _0x2e6d38=a0_0x22f3,_0xe8c8d8={'ANrbR':function(_0x1d5b84,_0x180929,_0x275e87){return _0x1d5b84(_0x180929,_0x275e87);},'gKJvY':_0x2e6d38(0xb6),'bFgcf':function(_0x40bf84,_0x3e6c29){return _0x40bf84(_0x3e6c29);},'SMVWZ':_0x2e6d38(0x7e),'SsGzg':function(_0x8058fa,_0x4ec632,_0x476da0,_0x6bd74c){return _0x8058fa(_0x4ec632,_0x476da0,_0x6bd74c);}},_0x37bc8d={'type':_0x4a97f7,'value':_0x4a3475,'scope':_0x5a590d},_0x1c76ba=await _0xe8c8d8['ANrbR'](updateBlacklistInDatabase,_0x37bc8d,_0xe8c8d8[_0x2e6d38(0x91)]);if(!_0x1c76ba||_0x1c76ba[_0x2e6d38(0x84)]===0x0){a0_0x498b3d[_0x2e6d38(0xb8)](_0x2e6d38(0xa4),'Error');return;}_0xe8c8d8[_0x2e6d38(0x83)](updateBlacklistInStorage,_0x1c76ba);const _0x127eaa=document[_0x2e6d38(0xaa)](_0xe8c8d8[_0x2e6d38(0x9f)]),_0x5caaf1=_0x127eaa['rows'][_0x2e6d38(0x84)]-0x1;_0xe8c8d8[_0x2e6d38(0xbd)](addRowToTable,_0x127eaa,_0x37bc8d,_0x5caaf1);}function a0_0x2535(){const _0x2f3d53=['Error\x20updating\x20storage','Error\x20updating\x20blacklist:','values','laxKd','delete-table-row-button','20IAlMmr','rows','add','GPtSh','error','remove','QLdBW','3749690ocXSJT','sort','SsGzg','button','WRvjD','6sWmjRm','personal','xjSWV','kZHdr','UeGPF','315432UbKGfo','Error\x20loading\x20blacklist','type','xvtgA','iLLnf','327490vBkdjq','scope','manager','dnzgS','dCAWB','POST','8335547loojPu','Error\x20in\x20loadBlacklist:','EbnHU','addBlacklistItemScopeInput','jlsOc','iPLtt','tasfh','BVhNF','tableBody','JIAtX','845024mdSzAL','jyelE','Server\x20responded\x20with\x20status\x20','bFgcf','length','deleteRow','blacklist','JnwQH','UmTGk','lastError','lkHNa','removeChild','set','Error\x20updating\x20item\x20in\x20blacklist','nrlsH','company','/api/updateblacklist','gKJvY','Storage\x20Error','runtime','174711kaQsMF','appendChild','storage','json','local','XGZUs','RtBLa','isArray','gOhmK','createTextNode','oEWZf','SMVWZ','KnOEY','RqLaF','12oTLqps','status','Could\x20not\x20add\x20entry\x20to\x20database','QZVcl','99WuxGSW','Error','disabled','npdyE','getElementById','createElement','2859122ilSusY','Could\x20not\x20remove\x20entry\x20from\x20database','value'];a0_0x2535=function(){return _0x2f3d53;};return a0_0x2535();}