function a0_0x330d(_0x346bfe,_0x1a96de){const _0x134092=a0_0x1340();return a0_0x330d=function(_0x330d04,_0x3b40b2){_0x330d04=_0x330d04-0x17b;let _0x1cf644=_0x134092[_0x330d04];return _0x1cf644;},a0_0x330d(_0x346bfe,_0x1a96de);}(function(_0x107a46,_0x5b5fab){const _0x204f59=a0_0x330d,_0x523dab=_0x107a46();while(!![]){try{const _0x1e3dc6=parseInt(_0x204f59(0x1cd))/0x1+parseInt(_0x204f59(0x187))/0x2*(-parseInt(_0x204f59(0x194))/0x3)+-parseInt(_0x204f59(0x193))/0x4*(parseInt(_0x204f59(0x1ad))/0x5)+-parseInt(_0x204f59(0x1ba))/0x6*(parseInt(_0x204f59(0x18f))/0x7)+-parseInt(_0x204f59(0x1a3))/0x8+parseInt(_0x204f59(0x1b5))/0x9+parseInt(_0x204f59(0x1d3))/0xa*(parseInt(_0x204f59(0x18d))/0xb);if(_0x1e3dc6===_0x5b5fab)break;else _0x523dab['push'](_0x523dab['shift']());}catch(_0xc68095){_0x523dab['push'](_0x523dab['shift']());}}}(a0_0x1340,0x9cc36));import a0_0x3e48b9 from'./alerts.js';import{backendAddress}from'./main.js';function a0_0x1340(){const _0x56202f=['appendChild','qXrXT','SyLOU','POST','Ahcvr','Could\x20not\x20remove\x20entry\x20from\x20database','1601370EvebnQ','sort','iBgOX','length','company','1374XpsyBZ','createElement','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','KjYST','VXTHR','lastError','personal','xxYFV','ZjFTs','status','TIxGF','ebSuE','Error\x20in\x20loadBlacklist:','Error\x20updating\x20storage','createTextNode','json','Error\x20saving\x20blacklist\x20to\x20storage','addBlacklistItemScopeInput','application/json','287226zIMxuU','BxwsH','stringify','Error\x20updating\x20item\x20in\x20blacklist','buWJu','className','10myBhdf','storage','getElementById','Could\x20not\x20add\x20entry\x20to\x20database','kjbZI','error','delete-table-row-button','oxOHw','Storage\x20Error','Idvow','button','runtime','manager','rows','Error\x20loading\x20blacklist','98zumDzz','LEzrL','WlTBh','URGog','BkZWH','isArray','48247463nGpgKM','gnlSJ','37429PimxFz','mAvjc','value','zTTMW','1712nYaEqp','71835MvlQsf','type','AmpOY','ESGXq','fkYJH','get','local','Error\x20in\x20updateBlacklistInStorage:','forEach','scope','values','chOxq','gfiDo','ECCRu','TBWRZ','5660856oNVEoV','Error','tableBody','remove','ITPiS','set','bzCED','blacklist','BdpJA','DNdfu','12895DixXDm','ZXZYA'];a0_0x1340=function(){return _0x56202f;};return a0_0x1340();}import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x3fd621){const _0x3a7b22=a0_0x330d,_0x534fc9={'ITPiS':function(_0x64088a,_0x75fc29){return _0x64088a===_0x75fc29;},'VXTHR':_0x3a7b22(0x1c0),'TBWRZ':function(_0x992b,_0x52dbba){return _0x992b!==_0x52dbba;},'Ahcvr':function(_0x15be6d,_0x1bcd0a){return _0x15be6d>_0x1bcd0a;},'zTTMW':function(_0x474578,_0x551dd9,_0x242642,_0x6617dc){return _0x474578(_0x551dd9,_0x242642,_0x6617dc);}},_0x27a93d=document['getElementById']('tableBody');while(_0x534fc9[_0x3a7b22(0x1b3)](_0x27a93d['rows'][_0x3a7b22(0x1b8)],0x1)){_0x27a93d['deleteRow'](0x1);}Array[_0x3a7b22(0x18c)](_0x3fd621)?(_0x3fd621[_0x3a7b22(0x1b6)]((_0x629986,_0x25bb57)=>{const _0x31b5eb=_0x3a7b22;if(_0x534fc9[_0x31b5eb(0x1a7)](_0x629986['scope'],_0x534fc9['VXTHR'])&&_0x534fc9[_0x31b5eb(0x1a2)](_0x25bb57[_0x31b5eb(0x19d)],_0x534fc9[_0x31b5eb(0x1be)]))return-0x1;if(_0x534fc9['TBWRZ'](_0x629986[_0x31b5eb(0x19d)],_0x534fc9[_0x31b5eb(0x1be)])&&_0x534fc9[_0x31b5eb(0x1a7)](_0x25bb57['scope'],_0x31b5eb(0x1c0)))return 0x1;return 0x0;}),_0x3fd621[_0x3a7b22(0x19c)]((_0x4fd245,_0x1cf100)=>{addRowToTable(_0x27a93d,_0x4fd245,_0x1cf100);})):_0x534fc9[_0x3a7b22(0x192)](addRowToTable,_0x27a93d,_0x3fd621,0x0);}export function loadBlacklist(){const _0x5f0d17=a0_0x330d,_0x2a7c6b={'KjYST':_0x5f0d17(0x1bc),'BxwsH':'Storage\x20Error','oxOHw':function(_0x54eae3,_0x337587){return _0x54eae3(_0x337587);},'gfiDo':function(_0x24e609){return _0x24e609();},'buWJu':function(_0x310055,_0x4446b3){return _0x310055!==_0x4446b3;},'vZLZf':_0x5f0d17(0x184),'xxYFV':_0x5f0d17(0x1cb),'ZXZYA':_0x5f0d17(0x1aa),'SyLOU':_0x5f0d17(0x1c6),'tANoT':_0x5f0d17(0x186),'fkYJH':_0x5f0d17(0x1a4)},_0x3133d2=_0x2a7c6b[_0x5f0d17(0x1a0)](getAccountType);_0x2a7c6b[_0x5f0d17(0x1d1)](_0x3133d2,_0x2a7c6b['vZLZf'])&&(document['getElementById'](_0x2a7c6b[_0x5f0d17(0x1c1)])['disabled']=!![]);try{chrome[_0x5f0d17(0x1d4)][_0x5f0d17(0x19a)][_0x5f0d17(0x199)](_0x2a7c6b[_0x5f0d17(0x1ae)],_0x4b6733=>{const _0x2b90f3=_0x5f0d17;if(chrome[_0x2b90f3(0x183)][_0x2b90f3(0x1bf)]){a0_0x3e48b9[_0x2b90f3(0x17d)](_0x2a7c6b[_0x2b90f3(0x1bd)],_0x2a7c6b[_0x2b90f3(0x1ce)]);return;}const _0x1c5024=_0x4b6733[_0x2b90f3(0x1aa)]||{},_0x50141c=Object[_0x2b90f3(0x19e)](_0x1c5024);_0x2a7c6b[_0x2b90f3(0x17f)](populateBlacklistTable,_0x50141c);});}catch(_0x40abac){console[_0x5f0d17(0x17d)](_0x2a7c6b[_0x5f0d17(0x1b1)],_0x40abac),a0_0x3e48b9[_0x5f0d17(0x17d)](_0x2a7c6b['tANoT'],_0x2a7c6b[_0x5f0d17(0x198)]);}}export async function removeBlacklistEntry(_0x262468,_0x107b2f,_0x129c2d){const _0x1d2459=a0_0x330d,_0x14f3aa={'rrhzC':function(_0x335b4d,_0x18b6da,_0x211fda){return _0x335b4d(_0x18b6da,_0x211fda);},'MHMUL':_0x1d2459(0x1b4),'plfcd':'Error','TIxGF':function(_0x1f1b11,_0x2da9e5){return _0x1f1b11(_0x2da9e5);}},_0x129e38={'type':_0x262468,'value':_0x107b2f,'scope':_0x129c2d},_0x2e3238=await _0x14f3aa['rrhzC'](updateBlacklistInDatabase,_0x129e38,_0x1d2459(0x1a6));if(!_0x2e3238||_0x2e3238['length']===0x0)return a0_0x3e48b9[_0x1d2459(0x17d)](_0x14f3aa['MHMUL'],_0x14f3aa['plfcd']),![];return _0x14f3aa[_0x1d2459(0x1c4)](updateBlacklistInStorage,_0x2e3238),!![];}export async function updateBlacklistInDatabase(_0x927c7,_0x948836){const _0x192f19=a0_0x330d,_0x3bbe13={'LEzrL':function(_0x58ce22){return _0x58ce22();},'fEIxS':function(_0xb89928,_0x1300a6,_0x1e134d){return _0xb89928(_0x1300a6,_0x1e134d);},'Idvow':_0x192f19(0x1b2),'bzCED':_0x192f19(0x1cc),'DNdfu':'Error\x20updating\x20blacklist:','chOxq':_0x192f19(0x1a4)};try{const _0x17fdec=getEmail(),_0x4ab924=_0x3bbe13['LEzrL'](getCompanyName),_0x16ac3c=_0x3bbe13[_0x192f19(0x188)](getLoginKey),_0x29cbe9=backendAddress+'/api/updateblacklist',_0x4d77a9={'companyName':_0x4ab924,'email':_0x17fdec,'loginKey':_0x16ac3c,'type':_0x927c7[_0x192f19(0x195)],'value':_0x927c7[_0x192f19(0x191)],'scope':_0x927c7['scope'],'action':_0x948836},_0x2cb557=await _0x3bbe13['fEIxS'](fetch,_0x29cbe9,{'method':_0x3bbe13[_0x192f19(0x181)],'headers':{'Content-Type':_0x3bbe13[_0x192f19(0x1a9)]},'body':JSON[_0x192f19(0x1cf)](_0x4d77a9)});if(!_0x2cb557['ok']){const _0x3a1495='Server\x20responded\x20with\x20status\x20'+_0x2cb557[_0x192f19(0x1c3)];throw new Error(_0x3a1495);}const _0x4fd481=await _0x2cb557[_0x192f19(0x1c9)]();return _0x4fd481[_0x192f19(0x1aa)];}catch(_0x1ae6f8){return console[_0x192f19(0x17d)](_0x3bbe13[_0x192f19(0x1ac)],_0x1ae6f8),a0_0x3e48b9[_0x192f19(0x17d)](_0x192f19(0x1d0),_0x3bbe13[_0x192f19(0x19f)]),[];}}export function updateBlacklistInStorage(_0x3144dc){const _0x266c51=a0_0x330d,_0x1aff5c={'BFiGL':_0x266c51(0x1ca),'ESGXq':_0x266c51(0x180),'ECCRu':_0x266c51(0x19b),'mAvjc':_0x266c51(0x1c7)};try{chrome[_0x266c51(0x1d4)]['local'][_0x266c51(0x1a8)]({'blacklist':_0x3144dc},function(){const _0x4e7fad=_0x266c51;chrome[_0x4e7fad(0x183)][_0x4e7fad(0x1bf)]&&a0_0x3e48b9[_0x4e7fad(0x17d)](_0x1aff5c['BFiGL'],_0x1aff5c[_0x4e7fad(0x197)]);});}catch(_0x2a7632){console[_0x266c51(0x17d)](_0x1aff5c[_0x266c51(0x1a1)],_0x2a7632),a0_0x3e48b9[_0x266c51(0x17d)](_0x1aff5c[_0x266c51(0x190)],_0x1aff5c[_0x266c51(0x197)]);}}export function addRowToTable(_0x3d9497,_0x24ad64,_0x5a4584){const _0x331146=a0_0x330d,_0x47b83e={'BkZWH':function(_0x1487ab,_0x4f34d5,_0x2e35f8,_0x1cfb83){return _0x1487ab(_0x4f34d5,_0x2e35f8,_0x1cfb83);},'AmpOY':function(_0xb3e56f,_0x3505bc){return _0xb3e56f+_0x3505bc;},'ZjFTs':function(_0x229c9e){return _0x229c9e();},'qXrXT':function(_0x53e5e3,_0x17b2e4){return _0x53e5e3===_0x17b2e4;},'WlTBh':function(_0x5ba000,_0x6be70b){return _0x5ba000!==_0x6be70b;},'iOARJ':_0x331146(0x1b9),'BdpJA':_0x331146(0x182),'ebSuE':'click'},_0x5cfe53=_0x47b83e[_0x331146(0x196)](_0x5a4584,0x1),_0x795aef=document['createElement']('tr'),_0x4a15ad={'numbering':_0x5cfe53,..._0x24ad64},_0x54b989=document['createElement']('td');_0x54b989[_0x331146(0x1af)](document[_0x331146(0x1c8)](_0x5cfe53)),_0x795aef[_0x331146(0x1af)](_0x54b989);const _0x2806a3=document[_0x331146(0x1bb)]('td');_0x2806a3[_0x331146(0x1af)](document['createTextNode'](_0x4a15ad['type'])),_0x795aef[_0x331146(0x1af)](_0x2806a3);const _0x5e7ab7=document[_0x331146(0x1bb)]('td');_0x5e7ab7[_0x331146(0x1af)](document[_0x331146(0x1c8)](_0x4a15ad['value'])),_0x795aef[_0x331146(0x1af)](_0x5e7ab7);const _0x5b4f74=document[_0x331146(0x1bb)]('td');_0x5b4f74[_0x331146(0x1af)](document['createTextNode'](_0x4a15ad['scope'])),_0x795aef[_0x331146(0x1af)](_0x5b4f74);const _0x2a96aa=document[_0x331146(0x1bb)]('td'),_0x55924d=_0x47b83e[_0x331146(0x1c2)](getAccountType);if(_0x47b83e[_0x331146(0x1b0)](_0x55924d,_0x331146(0x184))||_0x47b83e[_0x331146(0x189)](_0x4a15ad[_0x331146(0x19d)],_0x47b83e['iOARJ'])){const _0x19fba9=document['createElement'](_0x47b83e[_0x331146(0x1ab)]);_0x19fba9[_0x331146(0x1d2)]=_0x331146(0x17e),_0x19fba9['addEventListener'](_0x47b83e[_0x331146(0x1c5)],async function(){const _0x4ca972=_0x331146,_0x32f5c5=await _0x47b83e[_0x4ca972(0x18b)](removeBlacklistEntry,_0x4a15ad['type'],_0x4a15ad[_0x4ca972(0x191)],_0x4a15ad['scope']);_0x32f5c5&&_0x3d9497['removeChild'](_0x795aef);}),_0x2a96aa[_0x331146(0x1af)](_0x19fba9);}_0x795aef['appendChild'](_0x2a96aa),_0x3d9497[_0x331146(0x1af)](_0x795aef);}export async function addBlacklistEntry(_0x4e8f2e,_0x2c9d7f,_0x4a2472){const _0x36457d=a0_0x330d,_0x2219a1={'jDnxn':function(_0x131958,_0x1b8563,_0x2306c9){return _0x131958(_0x1b8563,_0x2306c9);},'dPzbI':function(_0xcad344,_0x3538b9){return _0xcad344===_0x3538b9;},'kjbZI':_0x36457d(0x17b),'rUTGH':_0x36457d(0x1a4),'URGog':function(_0x48336e,_0x29e81d){return _0x48336e(_0x29e81d);},'gnlSJ':_0x36457d(0x1a5),'iBgOX':function(_0x6d1f9d,_0x6d1d04,_0x5bfdc8,_0x36ce80){return _0x6d1f9d(_0x6d1d04,_0x5bfdc8,_0x36ce80);}},_0xa882e0={'type':_0x4e8f2e,'value':_0x2c9d7f,'scope':_0x4a2472},_0x520fab=await _0x2219a1['jDnxn'](updateBlacklistInDatabase,_0xa882e0,'add');if(!_0x520fab||_0x2219a1['dPzbI'](_0x520fab[_0x36457d(0x1b8)],0x0)){a0_0x3e48b9[_0x36457d(0x17d)](_0x2219a1[_0x36457d(0x17c)],_0x2219a1['rUTGH']);return;}_0x2219a1[_0x36457d(0x18a)](updateBlacklistInStorage,_0x520fab);const _0x10292c=document[_0x36457d(0x1d5)](_0x2219a1[_0x36457d(0x18e)]),_0x34d34a=_0x10292c[_0x36457d(0x185)]['length']-0x1;_0x2219a1[_0x36457d(0x1b7)](addRowToTable,_0x10292c,_0xa882e0,_0x34d34a);}