(function(_0x6c1a12,_0x55a628){const _0x4db1e0=a0_0x5c57,_0x505cde=_0x6c1a12();while(!![]){try{const _0xc6391b=-parseInt(_0x4db1e0(0xa0))/0x1+-parseInt(_0x4db1e0(0x89))/0x2*(-parseInt(_0x4db1e0(0xd3))/0x3)+-parseInt(_0x4db1e0(0xa1))/0x4*(parseInt(_0x4db1e0(0xba))/0x5)+parseInt(_0x4db1e0(0xb9))/0x6*(-parseInt(_0x4db1e0(0xc2))/0x7)+parseInt(_0x4db1e0(0x99))/0x8*(-parseInt(_0x4db1e0(0x83))/0x9)+-parseInt(_0x4db1e0(0x8e))/0xa+parseInt(_0x4db1e0(0xd2))/0xb*(parseInt(_0x4db1e0(0x86))/0xc);if(_0xc6391b===_0x55a628)break;else _0x505cde['push'](_0x505cde['shift']());}catch(_0x4146e9){_0x505cde['push'](_0x505cde['shift']());}}}(a0_0x2f5b,0x68f1c));function a0_0x2f5b(){const _0x4bdb03=['lduFl','348wSBrHm','5EMYzZq','rCebL','/api/updateblacklist','QjDah','SFNho','CUqSf','Error\x20updating\x20storage','YfvMc','91105exWcVn','createTextNode','wtRqL','addEventListener','get','tableBody','Error\x20in\x20updateBlacklistInStorage:','Could\x20not\x20add\x20entry\x20to\x20database','application/json','addBlacklistItemScopeInput','Server\x20responded\x20with\x20status\x20','add','CiUYa','POST','rows','className','253ZzzcgL','29973BDeROj','Storage\x20Error','jSpBF','FVpUY','isArray','PpBgc','3027267mounNr','error','createElement','1521576yqRtaZ','lastError','uRREg','104RwnPJt','QfYsA','ISfnM','vFqwv','cudmw','3868780dDnLzK','removeChild','XvFyV','length','personal','Error','Error\x20updating\x20item\x20in\x20blacklist','ZJBoj','value','PzXMK','rkbsE','16qttydx','blacklist','manager','forEach','json','scope','jDBzD','847116UtUxYp','1377776DEfADn','CzlHl','Error\x20loading\x20blacklist','sort','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','runtime','set','delete-table-row-button','type','PXQKR','xrDvF','Could\x20not\x20remove\x20entry\x20from\x20database','appendChild','getElementById','NfbIY','local','deleteRow','storage','Error\x20in\x20loadBlacklist:','ldUWi','GOejI','Error\x20saving\x20blacklist\x20to\x20storage','disabled'];a0_0x2f5b=function(){return _0x4bdb03;};return a0_0x2f5b();}import a0_0x4c6923 from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyId,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x3829f2){const _0x58a4c0=a0_0x5c57,_0x3f75db={'ZJBoj':function(_0x18d82a,_0x55440f){return _0x18d82a===_0x55440f;},'CiUYa':_0x58a4c0(0x92),'jSpBF':function(_0x49efcd,_0x463cf6){return _0x49efcd!==_0x463cf6;},'PzXMK':function(_0x1a1366,_0x42eddd){return _0x1a1366===_0x42eddd;},'lduFl':_0x58a4c0(0xc7),'SsqSy':function(_0x396fff,_0x5176f5){return _0x396fff>_0x5176f5;},'GOejI':function(_0x3a6af9,_0x5c9d1a,_0x42d0c8,_0x1b3060){return _0x3a6af9(_0x5c9d1a,_0x42d0c8,_0x1b3060);}},_0x5bac39=document[_0x58a4c0(0xae)](_0x3f75db[_0x58a4c0(0xb8)]);while(_0x3f75db['SsqSy'](_0x5bac39['rows']['length'],0x1)){_0x5bac39[_0x58a4c0(0xb1)](0x1);}Array[_0x58a4c0(0x81)](_0x3829f2)?(_0x3829f2[_0x58a4c0(0xa4)]((_0x1b1046,_0x4736bb)=>{const _0x18595a=_0x58a4c0;if(_0x3f75db[_0x18595a(0x95)](_0x1b1046['scope'],_0x3f75db[_0x18595a(0xce)])&&_0x3f75db[_0x18595a(0x7f)](_0x4736bb[_0x18595a(0x9e)],_0x18595a(0x92)))return-0x1;if(_0x3f75db['jSpBF'](_0x1b1046[_0x18595a(0x9e)],_0x3f75db['CiUYa'])&&_0x3f75db[_0x18595a(0x97)](_0x4736bb[_0x18595a(0x9e)],_0x18595a(0x92)))return 0x1;return 0x0;}),_0x3829f2[_0x58a4c0(0x9c)]((_0x27bf36,_0x517dd0)=>{addRowToTable(_0x5bac39,_0x27bf36,_0x517dd0);})):_0x3f75db[_0x58a4c0(0xb5)](addRowToTable,_0x5bac39,_0x3829f2,0x0);}export function loadBlacklist(){const _0x7feaf2=a0_0x5c57,_0x525fcc={'wDsaK':_0x7feaf2(0xa5),'CUqSf':_0x7feaf2(0xd4),'rCebL':function(_0x37b8af,_0x58e0f7){return _0x37b8af(_0x58e0f7);},'QfYsA':function(_0x1fbb58){return _0x1fbb58();},'PpBgc':function(_0x622691,_0x5d8ff8){return _0x622691!==_0x5d8ff8;},'uRREg':_0x7feaf2(0x9b),'jNCzm':_0x7feaf2(0xcb),'sYmNd':_0x7feaf2(0xa3),'VHahE':_0x7feaf2(0x93)},_0x18004e=_0x525fcc[_0x7feaf2(0x8a)](getAccountType);_0x525fcc[_0x7feaf2(0x82)](_0x18004e,_0x525fcc[_0x7feaf2(0x88)])&&(document[_0x7feaf2(0xae)](_0x525fcc['jNCzm'])[_0x7feaf2(0xb7)]=!![]);try{chrome[_0x7feaf2(0xb2)][_0x7feaf2(0xb0)][_0x7feaf2(0xc6)](_0x7feaf2(0x9a),_0x330cf5=>{const _0x51e9ad=_0x7feaf2;if(chrome[_0x51e9ad(0xa6)][_0x51e9ad(0x87)]){a0_0x4c6923['error'](_0x525fcc['wDsaK'],_0x525fcc[_0x51e9ad(0xbf)]);return;}const _0x59a56d=_0x330cf5[_0x51e9ad(0x9a)]||{},_0xfa5ee1=Object['values'](_0x59a56d);_0x525fcc[_0x51e9ad(0xbb)](populateBlacklistTable,_0xfa5ee1);});}catch(_0x244d11){console['error'](_0x7feaf2(0xb3),_0x244d11),a0_0x4c6923['error'](_0x525fcc['sYmNd'],_0x525fcc['VHahE']);}}export async function removeBlacklistEntry(_0x560796,_0x56a651,_0x229500){const _0x67b2=a0_0x5c57,_0x19d4af={'SFNho':function(_0x4e1d78,_0x4edc38){return _0x4e1d78(_0x4edc38);}},_0x55b801={'type':_0x560796,'value':_0x56a651,'scope':_0x229500},_0xa122ba=await updateBlacklistInDatabase(_0x55b801,'remove');if(!_0xa122ba||_0xa122ba['length']===0x0)return a0_0x4c6923[_0x67b2(0x84)](_0x67b2(0xac),'Error'),![];return _0x19d4af[_0x67b2(0xbe)](updateBlacklistInStorage,_0xa122ba),!![];}export async function updateBlacklistInDatabase(_0x290e8f,_0x2aeb12){const _0x2d876f=a0_0x5c57,_0x360fb5={'oHQQu':function(_0x5aecfc){return _0x5aecfc();},'ldUWi':function(_0x4ddc33){return _0x4ddc33();},'xrDvF':function(_0x37018f,_0x25663b,_0xb4e9d1){return _0x37018f(_0x25663b,_0xb4e9d1);},'izTgE':_0x2d876f(0xcf),'PXQKR':_0x2d876f(0xca),'NfbIY':'Error\x20updating\x20blacklist:'};try{const _0x2dbda8=_0x360fb5['oHQQu'](getEmail),_0xe3cc42=getCompanyId(),_0x5cf3b3=_0x360fb5[_0x2d876f(0xb4)](getLoginKey),_0x5df3a2=backendAddress+_0x2d876f(0xbc),_0x571e3a={'companyId':_0xe3cc42,'email':_0x2dbda8,'loginKey':_0x5cf3b3,'type':_0x290e8f[_0x2d876f(0xa9)],'value':_0x290e8f['value'],'scope':_0x290e8f['scope'],'action':_0x2aeb12},_0x1401f5=await _0x360fb5[_0x2d876f(0xab)](fetch,_0x5df3a2,{'method':_0x360fb5['izTgE'],'headers':{'Content-Type':_0x360fb5[_0x2d876f(0xaa)]},'body':JSON['stringify'](_0x571e3a)});if(!_0x1401f5['ok']){const _0x4f2bc7=_0x2d876f(0xcc)+_0x1401f5['status'];throw new Error(_0x4f2bc7);}const _0x2b80db=await _0x1401f5[_0x2d876f(0x9d)]();return _0x2b80db['blacklist'];}catch(_0x23df4f){return console['error'](_0x360fb5[_0x2d876f(0xaf)],_0x23df4f),a0_0x4c6923[_0x2d876f(0x84)](_0x2d876f(0x94),_0x2d876f(0x93)),[];}}export function updateBlacklistInStorage(_0x140fad){const _0x2b2bc9=a0_0x5c57,_0x411c30={'FVpUY':_0x2b2bc9(0xb6),'LwlwK':_0x2b2bc9(0xd4),'ISfnM':_0x2b2bc9(0xc8),'QjDah':_0x2b2bc9(0xc0)};try{chrome[_0x2b2bc9(0xb2)][_0x2b2bc9(0xb0)][_0x2b2bc9(0xa7)]({'blacklist':_0x140fad},function(){const _0x27575d=_0x2b2bc9;chrome[_0x27575d(0xa6)][_0x27575d(0x87)]&&a0_0x4c6923[_0x27575d(0x84)](_0x411c30[_0x27575d(0x80)],_0x411c30['LwlwK']);});}catch(_0x3776d1){console[_0x2b2bc9(0x84)](_0x411c30[_0x2b2bc9(0x8b)],_0x3776d1),a0_0x4c6923['error'](_0x411c30[_0x2b2bc9(0xbd)],_0x2b2bc9(0xd4));}}export function addRowToTable(_0x456b4a,_0x263bf8,_0x582e0d){const _0x24b010=a0_0x5c57,_0x4f9e71={'iXzmm':function(_0xc0dca7,_0x402194,_0x4fc0c7,_0x4fb3ba){return _0xc0dca7(_0x402194,_0x4fc0c7,_0x4fb3ba);},'wtRqL':'company','XvFyV':'button','cudmw':'click'},_0x31805b=_0x582e0d+0x1,_0x5c2672=document[_0x24b010(0x85)]('tr'),_0x3454d1={'numbering':_0x31805b,..._0x263bf8},_0x1d86b8=document[_0x24b010(0x85)]('td');_0x1d86b8[_0x24b010(0xad)](document[_0x24b010(0xc3)](_0x31805b)),_0x5c2672[_0x24b010(0xad)](_0x1d86b8);const _0x13804b=document['createElement']('td');_0x13804b[_0x24b010(0xad)](document[_0x24b010(0xc3)](_0x3454d1[_0x24b010(0xa9)])),_0x5c2672[_0x24b010(0xad)](_0x13804b);const _0x40fde4=document[_0x24b010(0x85)]('td');_0x40fde4['appendChild'](document['createTextNode'](_0x3454d1['value'])),_0x5c2672[_0x24b010(0xad)](_0x40fde4);const _0xdd4189=document[_0x24b010(0x85)]('td');_0xdd4189[_0x24b010(0xad)](document[_0x24b010(0xc3)](_0x3454d1[_0x24b010(0x9e)])),_0x5c2672['appendChild'](_0xdd4189);const _0x58732f=document[_0x24b010(0x85)]('td'),_0x46c7b3=getAccountType();if(_0x46c7b3===_0x24b010(0x9b)||_0x3454d1[_0x24b010(0x9e)]!==_0x4f9e71[_0x24b010(0xc4)]){const _0x8518fc=document[_0x24b010(0x85)](_0x4f9e71[_0x24b010(0x90)]);_0x8518fc[_0x24b010(0xd1)]=_0x24b010(0xa8),_0x8518fc[_0x24b010(0xc5)](_0x4f9e71[_0x24b010(0x8d)],async function(){const _0x5bc0e0=_0x24b010,_0x5d35c9=await _0x4f9e71['iXzmm'](removeBlacklistEntry,_0x3454d1['type'],_0x3454d1[_0x5bc0e0(0x96)],_0x3454d1['scope']);_0x5d35c9&&_0x456b4a[_0x5bc0e0(0x8f)](_0x5c2672);}),_0x58732f[_0x24b010(0xad)](_0x8518fc);}_0x5c2672['appendChild'](_0x58732f),_0x456b4a[_0x24b010(0xad)](_0x5c2672);}function a0_0x5c57(_0x358ec3,_0x31840c){const _0x2f5b53=a0_0x2f5b();return a0_0x5c57=function(_0x5c57d6,_0x21b447){_0x5c57d6=_0x5c57d6-0x7f;let _0x206118=_0x2f5b53[_0x5c57d6];return _0x206118;},a0_0x5c57(_0x358ec3,_0x31840c);}export async function addBlacklistEntry(_0x15b38c,_0x2e0396,_0x538392){const _0x454c40=a0_0x5c57,_0x418af3={'FsBrn':function(_0x2cc67f,_0x55b156,_0x322ae9){return _0x2cc67f(_0x55b156,_0x322ae9);},'jOweG':_0x454c40(0xcd),'CzlHl':function(_0x569386,_0x26cd0b){return _0x569386===_0x26cd0b;},'jDBzD':_0x454c40(0xc9),'rkbsE':function(_0x47c9bb,_0x137521){return _0x47c9bb(_0x137521);},'vFqwv':function(_0x3280b3,_0x34fbda){return _0x3280b3-_0x34fbda;},'YfvMc':function(_0x4a915e,_0x270991,_0x3a7d09,_0x230615){return _0x4a915e(_0x270991,_0x3a7d09,_0x230615);}},_0x4b16d5={'type':_0x15b38c,'value':_0x2e0396,'scope':_0x538392},_0x292ce1=await _0x418af3['FsBrn'](updateBlacklistInDatabase,_0x4b16d5,_0x418af3['jOweG']);if(!_0x292ce1||_0x418af3[_0x454c40(0xa2)](_0x292ce1[_0x454c40(0x91)],0x0)){a0_0x4c6923[_0x454c40(0x84)](_0x418af3[_0x454c40(0x9f)],'Error');return;}_0x418af3[_0x454c40(0x98)](updateBlacklistInStorage,_0x292ce1);const _0x2e7004=document[_0x454c40(0xae)](_0x454c40(0xc7)),_0x230a40=_0x418af3[_0x454c40(0x8c)](_0x2e7004[_0x454c40(0xd0)]['length'],0x1);_0x418af3[_0x454c40(0xc1)](addRowToTable,_0x2e7004,_0x4b16d5,_0x230a40);}