(function(_0x5d0538,_0xa17d3c){const _0x125373=a0_0x8b29,_0x4373ec=_0x5d0538();while(!![]){try{const _0x48ecb3=parseInt(_0x125373(0xef))/0x1+parseInt(_0x125373(0xf7))/0x2+parseInt(_0x125373(0x10b))/0x3*(parseInt(_0x125373(0xd2))/0x4)+-parseInt(_0x125373(0xe5))/0x5+parseInt(_0x125373(0xdf))/0x6*(parseInt(_0x125373(0x10c))/0x7)+parseInt(_0x125373(0x11f))/0x8*(-parseInt(_0x125373(0xd5))/0x9)+parseInt(_0x125373(0x117))/0xa;if(_0x48ecb3===_0xa17d3c)break;else _0x4373ec['push'](_0x4373ec['shift']());}catch(_0x417d04){_0x4373ec['push'](_0x4373ec['shift']());}}}(a0_0x42f2,0xb2350));function a0_0x8b29(_0x5ad344,_0x2a5ae3){const _0x42f2ad=a0_0x42f2();return a0_0x8b29=function(_0x8b29c4,_0x5dc6d6){_0x8b29c4=_0x8b29c4-0xcb;let _0x1d80f9=_0x42f2ad[_0x8b29c4];return _0x1d80f9;},a0_0x8b29(_0x5ad344,_0x2a5ae3);}import a0_0xe53af2 from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x1c1d49){const _0x4fccc6=a0_0x8b29,_0x2a021b={'RguUF':function(_0x5942ef,_0x436ea3){return _0x5942ef===_0x436ea3;},'oExaV':function(_0x5878fa,_0x18f73b){return _0x5878fa!==_0x18f73b;},'iPOEv':_0x4fccc6(0xfa),'jAFKb':function(_0x3f3ffb,_0x5d8fc8){return _0x3f3ffb===_0x5d8fc8;},'yXNjI':function(_0x28a08b,_0x343562,_0x2c4bfc,_0xa0ae98){return _0x28a08b(_0x343562,_0x2c4bfc,_0xa0ae98);},'UbSEY':_0x4fccc6(0xf6),'JvqeM':function(_0x301073,_0x415e1e){return _0x301073>_0x415e1e;}},_0x20e1b5=document[_0x4fccc6(0xe9)](_0x2a021b[_0x4fccc6(0x108)]);while(_0x2a021b[_0x4fccc6(0x123)](_0x20e1b5[_0x4fccc6(0xd3)]['length'],0x1)){_0x20e1b5['deleteRow'](0x1);}Array[_0x4fccc6(0x121)](_0x1c1d49)?(_0x1c1d49[_0x4fccc6(0xed)]((_0xd1a57a,_0x39cd1f)=>{const _0x2f91f6=_0x4fccc6;if(_0x2a021b[_0x2f91f6(0xe3)](_0xd1a57a['scope'],'personal')&&_0x2a021b[_0x2f91f6(0x103)](_0x39cd1f[_0x2f91f6(0xd9)],_0x2f91f6(0xfa)))return-0x1;if(_0xd1a57a[_0x2f91f6(0xd9)]!==_0x2a021b[_0x2f91f6(0x115)]&&_0x2a021b[_0x2f91f6(0xe7)](_0x39cd1f[_0x2f91f6(0xd9)],_0x2a021b[_0x2f91f6(0x115)]))return 0x1;return 0x0;}),_0x1c1d49['forEach']((_0x153111,_0x682ad)=>{_0x2a021b['yXNjI'](addRowToTable,_0x20e1b5,_0x153111,_0x682ad);})):addRowToTable(_0x20e1b5,_0x1c1d49,0x0);}export function loadBlacklist(){const _0x591e45=a0_0x8b29,_0x8937fe={'Hspgj':'Storage\x20Error','RfFap':function(_0x1b0174,_0x552bae){return _0x1b0174(_0x552bae);},'vMhFs':function(_0x33de05,_0x3bb0bb){return _0x33de05!==_0x3bb0bb;},'mYVpU':'manager','tWDRu':_0x591e45(0xe0),'bZoZC':_0x591e45(0xd7),'mFZbm':_0x591e45(0x11c),'ZBlZw':_0x591e45(0x10f)},_0x39a5bf=getAccountType();_0x8937fe[_0x591e45(0xcd)](_0x39a5bf,_0x8937fe[_0x591e45(0xda)])&&(document[_0x591e45(0xe9)](_0x8937fe[_0x591e45(0xeb)])[_0x591e45(0x109)]=!![]);try{chrome[_0x591e45(0x100)][_0x591e45(0x116)][_0x591e45(0x102)](_0x8937fe[_0x591e45(0xe1)],_0x51217f=>{const _0x1fd37b=_0x591e45;if(chrome[_0x1fd37b(0xe6)][_0x1fd37b(0xee)]){a0_0xe53af2[_0x1fd37b(0xdd)]('Error\x20retrieving\x20blacklist\x20data\x20from\x20storage',_0x8937fe[_0x1fd37b(0x112)]);return;}const _0xabf73a=_0x51217f['blacklist']||{},_0x31639a=Object[_0x1fd37b(0x11d)](_0xabf73a);_0x8937fe['RfFap'](populateBlacklistTable,_0x31639a);});}catch(_0x2c7ea6){console[_0x591e45(0xdd)](_0x591e45(0xd8),_0x2c7ea6),a0_0xe53af2['error'](_0x8937fe['mFZbm'],_0x8937fe[_0x591e45(0xec)]);}}export async function removeBlacklistEntry(_0x2882b1,_0x9d7143,_0x2c398f){const _0xbf49c1=a0_0x8b29,_0x509fae={'yzCYr':function(_0x42b00e,_0x3a28cb){return _0x42b00e===_0x3a28cb;},'HGCNy':_0xbf49c1(0x10d),'HQQVL':_0xbf49c1(0x10f)},_0x2be14c={'type':_0x2882b1,'value':_0x9d7143,'scope':_0x2c398f},_0x20220b=await updateBlacklistInDatabase(_0x2be14c,'remove');if(!_0x20220b||_0x509fae[_0xbf49c1(0x122)](_0x20220b[_0xbf49c1(0x105)],0x0))return a0_0xe53af2['error'](_0x509fae[_0xbf49c1(0xdc)],_0x509fae[_0xbf49c1(0x113)]),![];return updateBlacklistInStorage(_0x20220b),!![];}export async function updateBlacklistInDatabase(_0x2f20ae,_0xb045fc){const _0xd0b210=a0_0x8b29,_0x2d0e12={'hFOBR':function(_0x536d43){return _0x536d43();},'eLJxA':function(_0x280287){return _0x280287();},'xjnca':_0xd0b210(0xdb),'lRoWc':'Error\x20updating\x20blacklist:','URWmK':'Error\x20updating\x20item\x20in\x20blacklist','xsdRd':'Error'};try{const _0x54ac06=_0x2d0e12[_0xd0b210(0x120)](getEmail),_0x9619af=_0x2d0e12[_0xd0b210(0x114)](getCompanyName),_0xaa7c20=_0x2d0e12['eLJxA'](getLoginKey),_0x3933f3=backendAddress+_0xd0b210(0xe8),_0x9cb406={'companyName':_0x9619af,'email':_0x54ac06,'loginKey':_0xaa7c20,'type':_0x2f20ae[_0xd0b210(0xfe)],'value':_0x2f20ae[_0xd0b210(0xd6)],'scope':_0x2f20ae[_0xd0b210(0xd9)],'action':_0xb045fc},_0x43c2ae=await fetch(_0x3933f3,{'method':_0x2d0e12[_0xd0b210(0x106)],'headers':{'Content-Type':_0xd0b210(0x126)},'body':JSON[_0xd0b210(0xcf)](_0x9cb406)});if(!_0x43c2ae['ok']){const _0x303088=_0xd0b210(0xe4)+_0x43c2ae[_0xd0b210(0xf0)];throw new Error(_0x303088);}const _0x20135b=await _0x43c2ae[_0xd0b210(0xf4)]();return _0x20135b[_0xd0b210(0xd7)];}catch(_0x1e6789){return console[_0xd0b210(0xdd)](_0x2d0e12['lRoWc'],_0x1e6789),a0_0xe53af2[_0xd0b210(0xdd)](_0x2d0e12[_0xd0b210(0x11b)],_0x2d0e12['xsdRd']),[];}}export function updateBlacklistInStorage(_0x513c6a){const _0x320a27=a0_0x8b29,_0x5ab1e3={'NONZv':_0x320a27(0x11e),'QxnOa':_0x320a27(0xf9),'kJFbV':_0x320a27(0x10e),'GcqXT':'Error\x20updating\x20storage'};try{chrome[_0x320a27(0x100)]['local'][_0x320a27(0xd1)]({'blacklist':_0x513c6a},function(){const _0x58184b=_0x320a27;chrome[_0x58184b(0xe6)][_0x58184b(0xee)]&&a0_0xe53af2[_0x58184b(0xdd)](_0x5ab1e3[_0x58184b(0xf8)],_0x5ab1e3[_0x58184b(0x11a)]);});}catch(_0x577a8e){console[_0x320a27(0xdd)](_0x5ab1e3[_0x320a27(0xd4)],_0x577a8e),a0_0xe53af2[_0x320a27(0xdd)](_0x5ab1e3[_0x320a27(0xff)],_0x5ab1e3[_0x320a27(0x11a)]);}}export function addRowToTable(_0x2b24da,_0x2dce89,_0x35f17e){const _0x1646c1=a0_0x8b29,_0x353605={'vyyUS':function(_0x2a42ad,_0x1a387c,_0x380399,_0xcc2ecd){return _0x2a42ad(_0x1a387c,_0x380399,_0xcc2ecd);},'NUXHc':function(_0x532c7a,_0x448ded){return _0x532c7a+_0x448ded;},'nwkzE':function(_0x44b8bc){return _0x44b8bc();},'HMpke':function(_0x1aad0f,_0x572d9c){return _0x1aad0f===_0x572d9c;},'GglCT':'manager','ChmJp':function(_0x34fad8,_0x3c42a1){return _0x34fad8!==_0x3c42a1;},'LDncN':'company','QEpYA':_0x1646c1(0x127),'zshAf':'delete-table-row-button','fLIis':_0x1646c1(0xde)},_0x17e9b6=_0x353605[_0x1646c1(0xcb)](_0x35f17e,0x1),_0x177cae=document['createElement']('tr'),_0x5eb062={'numbering':_0x17e9b6,..._0x2dce89},_0x3bec18=document[_0x1646c1(0xf5)]('td');_0x3bec18[_0x1646c1(0x125)](document['createTextNode'](_0x17e9b6)),_0x177cae[_0x1646c1(0x125)](_0x3bec18);const _0x38d721=document[_0x1646c1(0xf5)]('td');_0x38d721[_0x1646c1(0x125)](document['createTextNode'](_0x5eb062[_0x1646c1(0xfe)])),_0x177cae[_0x1646c1(0x125)](_0x38d721);const _0x237cb5=document[_0x1646c1(0xf5)]('td');_0x237cb5[_0x1646c1(0x125)](document[_0x1646c1(0xd0)](_0x5eb062['value'])),_0x177cae[_0x1646c1(0x125)](_0x237cb5);const _0x31f49c=document[_0x1646c1(0xf5)]('td');_0x31f49c[_0x1646c1(0x125)](document[_0x1646c1(0xd0)](_0x5eb062[_0x1646c1(0xd9)])),_0x177cae[_0x1646c1(0x125)](_0x31f49c);const _0x5c7f99=document[_0x1646c1(0xf5)]('td'),_0xd5fbd6=_0x353605[_0x1646c1(0xfc)](getAccountType);if(_0x353605[_0x1646c1(0xcc)](_0xd5fbd6,_0x353605[_0x1646c1(0x124)])||_0x353605['ChmJp'](_0x5eb062[_0x1646c1(0xd9)],_0x353605[_0x1646c1(0xf1)])){const _0x3d4a67=document[_0x1646c1(0xf5)](_0x353605[_0x1646c1(0xfb)]);_0x3d4a67['className']=_0x353605[_0x1646c1(0x10a)],_0x3d4a67[_0x1646c1(0xf2)](_0x353605[_0x1646c1(0x111)],async function(){const _0x15e77a=_0x1646c1,_0x20a338=await _0x353605[_0x15e77a(0x104)](removeBlacklistEntry,_0x5eb062[_0x15e77a(0xfe)],_0x5eb062[_0x15e77a(0xd6)],_0x5eb062[_0x15e77a(0xd9)]);_0x20a338&&_0x2b24da[_0x15e77a(0xe2)](_0x177cae);}),_0x5c7f99[_0x1646c1(0x125)](_0x3d4a67);}_0x177cae[_0x1646c1(0x125)](_0x5c7f99),_0x2b24da[_0x1646c1(0x125)](_0x177cae);}export async function addBlacklistEntry(_0x1d6f9f,_0x3c3e30,_0x390d6e){const _0x3f8f7c=a0_0x8b29,_0x209aca={'QuTiv':function(_0x16dad2,_0x35e163,_0x25c119){return _0x16dad2(_0x35e163,_0x25c119);},'mhxZt':_0x3f8f7c(0xfd),'drqOH':function(_0x348cc6,_0xbe4365){return _0x348cc6===_0xbe4365;},'vnYiV':_0x3f8f7c(0xea),'gaucb':_0x3f8f7c(0x10f),'UFOnE':function(_0x451e03,_0x24f002){return _0x451e03(_0x24f002);},'sVNVO':_0x3f8f7c(0xf6),'zSCiy':function(_0x1d1046,_0x5953f9,_0x3d91e7,_0x467ef0){return _0x1d1046(_0x5953f9,_0x3d91e7,_0x467ef0);}},_0x4d8f25={'type':_0x1d6f9f,'value':_0x3c3e30,'scope':_0x390d6e},_0xda1a3b=await _0x209aca[_0x3f8f7c(0x119)](updateBlacklistInDatabase,_0x4d8f25,_0x209aca[_0x3f8f7c(0xf3)]);if(!_0xda1a3b||_0x209aca[_0x3f8f7c(0xce)](_0xda1a3b[_0x3f8f7c(0x105)],0x0)){a0_0xe53af2[_0x3f8f7c(0xdd)](_0x209aca[_0x3f8f7c(0x118)],_0x209aca[_0x3f8f7c(0x110)]);return;}_0x209aca[_0x3f8f7c(0x107)](updateBlacklistInStorage,_0xda1a3b);const _0x201e99=document[_0x3f8f7c(0xe9)](_0x209aca[_0x3f8f7c(0x101)]),_0x8a29a1=_0x201e99[_0x3f8f7c(0xd3)]['length']-0x1;_0x209aca['zSCiy'](addRowToTable,_0x201e99,_0x4d8f25,_0x8a29a1);}function a0_0x42f2(){const _0x59ce2f=['values','Error\x20saving\x20blacklist\x20to\x20storage','1709688pOqwSi','hFOBR','isArray','yzCYr','JvqeM','GglCT','appendChild','application/json','button','NUXHc','HMpke','vMhFs','drqOH','stringify','createTextNode','set','1932508eihXGl','rows','kJFbV','45sCxzmh','value','blacklist','Error\x20in\x20loadBlacklist:','scope','mYVpU','POST','HGCNy','error','click','3390SxHkAL','addBlacklistItemScopeInput','bZoZC','removeChild','RguUF','Server\x20responded\x20with\x20status\x20','6135505WHAbMf','runtime','jAFKb','/api/updateblacklist','getElementById','Could\x20not\x20add\x20entry\x20to\x20database','tWDRu','ZBlZw','sort','lastError','365553NUCrNn','status','LDncN','addEventListener','mhxZt','json','createElement','tableBody','306304nrQmsO','NONZv','Storage\x20Error','personal','QEpYA','nwkzE','add','type','GcqXT','storage','sVNVO','get','oExaV','vyyUS','length','xjnca','UFOnE','UbSEY','disabled','zshAf','6IPSqiR','16471iuFvqX','Could\x20not\x20remove\x20entry\x20from\x20database','Error\x20in\x20updateBlacklistInStorage:','Error','gaucb','fLIis','Hspgj','HQQVL','eLJxA','iPOEv','local','2111880LWSAoH','vnYiV','QuTiv','QxnOa','URWmK','Error\x20loading\x20blacklist'];a0_0x42f2=function(){return _0x59ce2f;};return a0_0x42f2();}