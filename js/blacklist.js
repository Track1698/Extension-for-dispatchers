(function(_0x1d7aac,_0xe23697){const _0x335119=a0_0x2ea8,_0x444b0d=_0x1d7aac();while(!![]){try{const _0xe7c167=parseInt(_0x335119(0x18e))/0x1+parseInt(_0x335119(0x186))/0x2+parseInt(_0x335119(0x1a4))/0x3+-parseInt(_0x335119(0x1da))/0x4*(-parseInt(_0x335119(0x1c7))/0x5)+-parseInt(_0x335119(0x183))/0x6*(parseInt(_0x335119(0x18c))/0x7)+-parseInt(_0x335119(0x1b3))/0x8+parseInt(_0x335119(0x1a6))/0x9*(-parseInt(_0x335119(0x1c1))/0xa);if(_0xe7c167===_0xe23697)break;else _0x444b0d['push'](_0x444b0d['shift']());}catch(_0x4330c9){_0x444b0d['push'](_0x444b0d['shift']());}}}(a0_0x371c,0x42676));import a0_0x4728ae from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x2db4fc){const _0x388ccb=a0_0x2ea8,_0x4504bd={'SsXkI':_0x388ccb(0x1aa),'XTRRB':function(_0x47ca80,_0xeb26ba){return _0x47ca80!==_0xeb26ba;},'DlYxg':function(_0xe359ef,_0x2a9777){return _0xe359ef===_0x2a9777;},'Mgwlh':function(_0xe216b0,_0x5e0849,_0x3d0610,_0x558649){return _0xe216b0(_0x5e0849,_0x3d0610,_0x558649);},'RIXSa':function(_0x21a9a6,_0x2782eb){return _0x21a9a6>_0x2782eb;}},_0x47725c=document[_0x388ccb(0x1b9)](_0x388ccb(0x1b2));while(_0x4504bd[_0x388ccb(0x1c2)](_0x47725c[_0x388ccb(0x1a1)]['length'],0x1)){_0x47725c[_0x388ccb(0x1d5)](0x1);}Array['isArray'](_0x2db4fc)?(_0x2db4fc[_0x388ccb(0x1bc)]((_0x2f8645,_0x5981bd)=>{const _0x30fc77=_0x388ccb;if(_0x2f8645[_0x30fc77(0x1b6)]===_0x4504bd[_0x30fc77(0x1cf)]&&_0x4504bd[_0x30fc77(0x1b8)](_0x5981bd[_0x30fc77(0x1b6)],_0x4504bd[_0x30fc77(0x1cf)]))return-0x1;if(_0x2f8645['scope']!==_0x4504bd[_0x30fc77(0x1cf)]&&_0x4504bd[_0x30fc77(0x1a8)](_0x5981bd[_0x30fc77(0x1b6)],_0x4504bd['SsXkI']))return 0x1;return 0x0;}),_0x2db4fc[_0x388ccb(0x1ae)]((_0x3db3d9,_0x18b75f)=>{const _0x4f3f8e=_0x388ccb;_0x4504bd[_0x4f3f8e(0x1b4)](addRowToTable,_0x47725c,_0x3db3d9,_0x18b75f);})):_0x4504bd[_0x388ccb(0x1b4)](addRowToTable,_0x47725c,_0x2db4fc,0x0);}function a0_0x371c(){const _0x5bed50=['SsXkI','Server\x20responded\x20with\x20status\x20','wGewh','xOiei','createTextNode','storage','deleteRow','KOEEP','zMXSc','NjRNR','removeChild','1996YkQaCY','Error\x20saving\x20blacklist\x20to\x20storage','Could\x20not\x20add\x20entry\x20to\x20database','mULdu','createElement','cKLWR','6LxzJkF','Could\x20not\x20remove\x20entry\x20from\x20database','fhmvY','481398oRLbtI','MDAYo','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','runtime','lbtzm','addBlacklistItemScopeInput','1871366aovPje','manager','21869jdCvtX','NajVc','BxbDC','WUVcW','/api/updateblacklist','Error\x20in\x20loadBlacklist:','addEventListener','Error\x20loading\x20blacklist','LsGZg','appendChild','aPKzq','Error\x20updating\x20storage','fYQFR','blacklist','POST','remove','drhKl','dpxdx','Cnmrc','rows','company','Ucmkz','953472zGesTg','dwUso','31779JmFcKG','nkDbp','DlYxg','zPTUf','personal','error','fNLBa','Error\x20in\x20updateBlacklistInStorage:','forEach','add','length','delete-table-row-button','tableBody','970936vMeChN','Mgwlh','value','scope','get','XTRRB','getElementById','status','XpJOO','sort','json','Storage\x20Error','application/json','values','1060yabAsw','RIXSa','NPHAF','UjcbN','VBBjm','NebRk','4555ycjQtL','VDMvg','local','type','lastError','Error\x20updating\x20item\x20in\x20blacklist','Error','kbnqy'];a0_0x371c=function(){return _0x5bed50;};return a0_0x371c();}export function loadBlacklist(){const _0x4efab0=a0_0x2ea8,_0x21d14a={'xOiei':_0x4efab0(0x188),'lbtzm':_0x4efab0(0x1be),'aPKzq':function(_0x2ff9a4,_0x3164f7){return _0x2ff9a4(_0x3164f7);},'VDMvg':function(_0x522263){return _0x522263();},'XDXCG':function(_0x1c2869,_0x29492f){return _0x1c2869!==_0x29492f;},'Ucmkz':'manager','wGewh':_0x4efab0(0x18b),'fhmvY':_0x4efab0(0x19b),'VBBjm':_0x4efab0(0x193),'NPHAF':'Error'},_0x4ecabc=_0x21d14a[_0x4efab0(0x1c8)](getAccountType);_0x21d14a['XDXCG'](_0x4ecabc,_0x21d14a[_0x4efab0(0x1a3)])&&(document[_0x4efab0(0x1b9)](_0x21d14a[_0x4efab0(0x1d1)])['disabled']=!![]);try{chrome[_0x4efab0(0x1d4)][_0x4efab0(0x1c9)][_0x4efab0(0x1b7)](_0x21d14a[_0x4efab0(0x185)],_0x14ef8f=>{const _0x45aa3e=_0x4efab0;if(chrome['runtime'][_0x45aa3e(0x1cb)]){a0_0x4728ae['error'](_0x21d14a[_0x45aa3e(0x1d2)],_0x21d14a[_0x45aa3e(0x18a)]);return;}const _0x24c1fc=_0x14ef8f[_0x45aa3e(0x19b)]||{},_0x5c12f3=Object[_0x45aa3e(0x1c0)](_0x24c1fc);_0x21d14a[_0x45aa3e(0x198)](populateBlacklistTable,_0x5c12f3);});}catch(_0x582682){console[_0x4efab0(0x1ab)](_0x21d14a[_0x4efab0(0x1c5)],_0x582682),a0_0x4728ae[_0x4efab0(0x1ab)](_0x4efab0(0x195),_0x21d14a[_0x4efab0(0x1c3)]);}}export async function removeBlacklistEntry(_0x1d984d,_0x43ea0d,_0x44563d){const _0xd54ae1=a0_0x2ea8,_0x48da84={'dpxdx':_0xd54ae1(0x19d),'XpJOO':function(_0x3cd3f7,_0x51509e){return _0x3cd3f7===_0x51509e;},'gBkUT':_0xd54ae1(0x1cd)},_0x5c2eda={'type':_0x1d984d,'value':_0x43ea0d,'scope':_0x44563d},_0x49a922=await updateBlacklistInDatabase(_0x5c2eda,_0x48da84[_0xd54ae1(0x19f)]);if(!_0x49a922||_0x48da84[_0xd54ae1(0x1bb)](_0x49a922[_0xd54ae1(0x1b0)],0x0))return a0_0x4728ae['error'](_0xd54ae1(0x184),_0x48da84['gBkUT']),![];return updateBlacklistInStorage(_0x49a922),!![];}export async function updateBlacklistInDatabase(_0x4b5928,_0x2715ed){const _0x39d9b0=a0_0x2ea8,_0x14e982={'NjRNR':function(_0x305752){return _0x305752();},'fNLBa':function(_0x1d13b9,_0x39ce72,_0x457f7d){return _0x1d13b9(_0x39ce72,_0x457f7d);},'otcyp':_0x39d9b0(0x1bf),'WUVcW':_0x39d9b0(0x1cc),'cKLWR':_0x39d9b0(0x1cd)};try{const _0x1fcef2=getEmail(),_0x495255=_0x14e982[_0x39d9b0(0x1d8)](getCompanyName),_0x40adad=getLoginKey(),_0x2a08c9=backendAddress+_0x39d9b0(0x192),_0x1e424e={'companyName':_0x495255,'email':_0x1fcef2,'loginKey':_0x40adad,'type':_0x4b5928[_0x39d9b0(0x1ca)],'value':_0x4b5928[_0x39d9b0(0x1b5)],'scope':_0x4b5928[_0x39d9b0(0x1b6)],'action':_0x2715ed},_0x45fced=await _0x14e982[_0x39d9b0(0x1ac)](fetch,_0x2a08c9,{'method':_0x39d9b0(0x19c),'headers':{'Content-Type':_0x14e982['otcyp']},'body':JSON['stringify'](_0x1e424e)});if(!_0x45fced['ok']){const _0xfe30d1=_0x39d9b0(0x1d0)+_0x45fced[_0x39d9b0(0x1ba)];throw new Error(_0xfe30d1);}const _0x55ab26=await _0x45fced[_0x39d9b0(0x1bd)]();return _0x55ab26[_0x39d9b0(0x19b)];}catch(_0x224404){return console['error']('Error\x20updating\x20blacklist:',_0x224404),a0_0x4728ae[_0x39d9b0(0x1ab)](_0x14e982[_0x39d9b0(0x191)],_0x14e982[_0x39d9b0(0x182)]),[];}}function a0_0x2ea8(_0x3ca49e,_0x3fc4be){const _0x371c5c=a0_0x371c();return a0_0x2ea8=function(_0x2ea82c,_0x5a3753){_0x2ea82c=_0x2ea82c-0x17f;let _0x495aa9=_0x371c5c[_0x2ea82c];return _0x495aa9;},a0_0x2ea8(_0x3ca49e,_0x3fc4be);}export function updateBlacklistInStorage(_0x5a72a0){const _0x6707f5=a0_0x2ea8,_0x192f16={'mULdu':_0x6707f5(0x1db),'APrxY':_0x6707f5(0x1be),'toStT':_0x6707f5(0x1ad)};try{chrome[_0x6707f5(0x1d4)][_0x6707f5(0x1c9)]['set']({'blacklist':_0x5a72a0},function(){const _0x2ae4fa=_0x6707f5;chrome[_0x2ae4fa(0x189)][_0x2ae4fa(0x1cb)]&&a0_0x4728ae[_0x2ae4fa(0x1ab)](_0x192f16[_0x2ae4fa(0x180)],_0x192f16['APrxY']);});}catch(_0x26a512){console['error'](_0x192f16['toStT'],_0x26a512),a0_0x4728ae['error'](_0x6707f5(0x199),_0x192f16['APrxY']);}}export function addRowToTable(_0x4453f3,_0x5b963e,_0xdbba79){const _0x182ba5=a0_0x2ea8,_0x132ff1={'BxbDC':function(_0x2c4c7b,_0x3af2ad,_0xf0eba,_0x5eed48){return _0x2c4c7b(_0x3af2ad,_0xf0eba,_0x5eed48);},'LsGZg':function(_0x32c476,_0x58ba99){return _0x32c476+_0x58ba99;},'KOEEP':function(_0x513508){return _0x513508();},'Cnmrc':function(_0x3c14d3,_0x37c65d){return _0x3c14d3===_0x37c65d;},'Qkybh':_0x182ba5(0x18d),'uZCVR':function(_0x375b38,_0x10acf4){return _0x375b38!==_0x10acf4;},'zPTUf':_0x182ba5(0x1a2),'zMXSc':'button','nkDbp':_0x182ba5(0x1b1),'UjcbN':'click'},_0x588081=_0x132ff1[_0x182ba5(0x196)](_0xdbba79,0x1),_0x5bf3e4=document[_0x182ba5(0x181)]('tr'),_0x1916b0={'numbering':_0x588081,..._0x5b963e},_0x1894e8=document['createElement']('td');_0x1894e8['appendChild'](document[_0x182ba5(0x1d3)](_0x588081)),_0x5bf3e4[_0x182ba5(0x197)](_0x1894e8);const _0xe1324f=document[_0x182ba5(0x181)]('td');_0xe1324f[_0x182ba5(0x197)](document['createTextNode'](_0x1916b0[_0x182ba5(0x1ca)])),_0x5bf3e4[_0x182ba5(0x197)](_0xe1324f);const _0x4a46eb=document[_0x182ba5(0x181)]('td');_0x4a46eb['appendChild'](document[_0x182ba5(0x1d3)](_0x1916b0['value'])),_0x5bf3e4['appendChild'](_0x4a46eb);const _0x5cfa60=document[_0x182ba5(0x181)]('td');_0x5cfa60[_0x182ba5(0x197)](document[_0x182ba5(0x1d3)](_0x1916b0[_0x182ba5(0x1b6)])),_0x5bf3e4[_0x182ba5(0x197)](_0x5cfa60);const _0xff020a=document[_0x182ba5(0x181)]('td'),_0x3cce26=_0x132ff1[_0x182ba5(0x1d6)](getAccountType);if(_0x132ff1[_0x182ba5(0x1a0)](_0x3cce26,_0x132ff1['Qkybh'])||_0x132ff1['uZCVR'](_0x1916b0[_0x182ba5(0x1b6)],_0x132ff1[_0x182ba5(0x1a9)])){const _0x870346=document[_0x182ba5(0x181)](_0x132ff1[_0x182ba5(0x1d7)]);_0x870346['className']=_0x132ff1[_0x182ba5(0x1a7)],_0x870346[_0x182ba5(0x194)](_0x132ff1[_0x182ba5(0x1c4)],async function(){const _0x42aa94=_0x182ba5,_0x24d895=await _0x132ff1[_0x42aa94(0x190)](removeBlacklistEntry,_0x1916b0[_0x42aa94(0x1ca)],_0x1916b0['value'],_0x1916b0[_0x42aa94(0x1b6)]);_0x24d895&&_0x4453f3[_0x42aa94(0x1d9)](_0x5bf3e4);}),_0xff020a[_0x182ba5(0x197)](_0x870346);}_0x5bf3e4['appendChild'](_0xff020a),_0x4453f3[_0x182ba5(0x197)](_0x5bf3e4);}export async function addBlacklistEntry(_0x1acc5a,_0x31a32a,_0xabdfd6){const _0x1f345b=a0_0x2ea8,_0x1088e8={'MDAYo':function(_0x426aa8,_0xd24e29,_0x32d2e4){return _0x426aa8(_0xd24e29,_0x32d2e4);},'drhKl':_0x1f345b(0x1af),'NajVc':function(_0x10200c,_0x5be4c3){return _0x10200c===_0x5be4c3;},'NebRk':_0x1f345b(0x17f),'dwUso':'Error','fYQFR':function(_0x17e0d7,_0x4bba5a){return _0x17e0d7(_0x4bba5a);},'kbnqy':_0x1f345b(0x1b2)},_0x10ec46={'type':_0x1acc5a,'value':_0x31a32a,'scope':_0xabdfd6},_0x2e8982=await _0x1088e8[_0x1f345b(0x187)](updateBlacklistInDatabase,_0x10ec46,_0x1088e8[_0x1f345b(0x19e)]);if(!_0x2e8982||_0x1088e8[_0x1f345b(0x18f)](_0x2e8982[_0x1f345b(0x1b0)],0x0)){a0_0x4728ae[_0x1f345b(0x1ab)](_0x1088e8[_0x1f345b(0x1c6)],_0x1088e8[_0x1f345b(0x1a5)]);return;}_0x1088e8[_0x1f345b(0x19a)](updateBlacklistInStorage,_0x2e8982);const _0x389afb=document[_0x1f345b(0x1b9)](_0x1088e8[_0x1f345b(0x1ce)]),_0xc3fec6=_0x389afb[_0x1f345b(0x1a1)]['length']-0x1;addRowToTable(_0x389afb,_0x10ec46,_0xc3fec6);}