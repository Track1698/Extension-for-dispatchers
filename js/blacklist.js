(function(_0x577607,_0x2cad92){const _0x5a49f8=a0_0x1de1,_0x409827=_0x577607();while(!![]){try{const _0x3cf5b5=-parseInt(_0x5a49f8(0x1dd))/0x1*(parseInt(_0x5a49f8(0x205))/0x2)+parseInt(_0x5a49f8(0x1d9))/0x3+parseInt(_0x5a49f8(0x1fb))/0x4*(-parseInt(_0x5a49f8(0x214))/0x5)+parseInt(_0x5a49f8(0x1f6))/0x6+-parseInt(_0x5a49f8(0x1f3))/0x7+parseInt(_0x5a49f8(0x1d0))/0x8+parseInt(_0x5a49f8(0x200))/0x9;if(_0x3cf5b5===_0x2cad92)break;else _0x409827['push'](_0x409827['shift']());}catch(_0x95af16){_0x409827['push'](_0x409827['shift']());}}}(a0_0x5def,0x6de8b));function a0_0x5def(){const _0x3048e9=['appendChild','disabled','application/json','yYamH','huhdu','length','TbexY','453951MgDZQf','scope','Error\x20in\x20loadBlacklist:','stringify','63xCwwKr','status','add','VgFfP','POST','QsTvo','local','foKUc','delete-table-row-button','manager','storage','zCMDW','tableBody','lastError','blacklist','MmnBX','set','createElement','ylgMF','BxaIf','error','FSZhf','6017249NRRMyR','DhBws','personal','2644950zrGtcf','dtMmC','addBlacklistItemScopeInput','OedhY','ZptkD','4gzGDoo','Error\x20updating\x20item\x20in\x20blacklist','wQqNI','yuoYQ','Storage\x20Error','16449552xGKSTZ','createTextNode','IHBUt','Error\x20loading\x20blacklist','Error\x20updating\x20blacklist:','17462gqzmBc','rPWrC','click','value','XdkYk','getElementById','VTGIK','deleteRow','eNvJQ','RPpOq','hGefN','Could\x20not\x20remove\x20entry\x20from\x20database','Error\x20updating\x20storage','SDLHp','XFdoD','3734230FzibpM','forEach','isArray','EdZtS','Error','Error\x20in\x20updateBlacklistInStorage:','rows','company','className','json','values','sort','Server\x20responded\x20with\x20status\x20','runtime','remove','Eyuah','MNTAB','button','type','1494584mjiqgD','BGgEz'];a0_0x5def=function(){return _0x3048e9;};return a0_0x5def();}function a0_0x1de1(_0xc8f6ed,_0x172f57){const _0x5def36=a0_0x5def();return a0_0x1de1=function(_0x1de146,_0x3a8068){_0x1de146=_0x1de146-0x1cd;let _0x4472f3=_0x5def36[_0x1de146];return _0x4472f3;},a0_0x1de1(_0xc8f6ed,_0x172f57);}import a0_0xa1f159 from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x3a9de4){const _0x28a093=a0_0x1de1,_0x51044b={'DhBws':function(_0xf22731,_0x2e3472){return _0xf22731===_0x2e3472;},'RPpOq':_0x28a093(0x1f5),'dtMmC':function(_0xb0c9e7,_0x324843){return _0xb0c9e7!==_0x324843;},'TbexY':function(_0x414ba8,_0x57232d){return _0x414ba8!==_0x57232d;},'MmnBX':function(_0x2a7734,_0x4c05e9){return _0x2a7734===_0x4c05e9;},'Ytaiv':'tableBody','OedhY':function(_0x460475,_0x83bdf9){return _0x460475>_0x83bdf9;},'hGefN':function(_0x42ca0a,_0x546e6a,_0x24eb82,_0x9a11ed){return _0x42ca0a(_0x546e6a,_0x24eb82,_0x9a11ed);}},_0x49c378=document[_0x28a093(0x20a)](_0x51044b['Ytaiv']);while(_0x51044b[_0x28a093(0x1f9)](_0x49c378[_0x28a093(0x21a)][_0x28a093(0x1d7)],0x1)){_0x49c378[_0x28a093(0x20c)](0x1);}Array[_0x28a093(0x216)](_0x3a9de4)?(_0x3a9de4[_0x28a093(0x21f)]((_0x1664cd,_0x5ae49d)=>{const _0xb4a7b6=_0x28a093;if(_0x51044b[_0xb4a7b6(0x1f4)](_0x1664cd[_0xb4a7b6(0x1da)],_0x51044b[_0xb4a7b6(0x20e)])&&_0x51044b[_0xb4a7b6(0x1f7)](_0x5ae49d[_0xb4a7b6(0x1da)],_0x51044b[_0xb4a7b6(0x20e)]))return-0x1;if(_0x51044b[_0xb4a7b6(0x1d8)](_0x1664cd['scope'],_0x51044b[_0xb4a7b6(0x20e)])&&_0x51044b[_0xb4a7b6(0x1ec)](_0x5ae49d['scope'],_0x51044b[_0xb4a7b6(0x20e)]))return 0x1;return 0x0;}),_0x3a9de4[_0x28a093(0x215)]((_0x46e06c,_0x122e13)=>{addRowToTable(_0x49c378,_0x46e06c,_0x122e13);})):_0x51044b[_0x28a093(0x20f)](addRowToTable,_0x49c378,_0x3a9de4,0x0);}export function loadBlacklist(){const _0x354443=a0_0x1de1,_0x361ffb={'CWgzJ':'Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','wQqNI':function(_0x134923,_0x577a0f){return _0x134923(_0x577a0f);},'BxaIf':function(_0x27641b){return _0x27641b();},'ernCM':_0x354443(0x1f8),'IHBUt':_0x354443(0x1eb),'FSZhf':_0x354443(0x1db)},_0x58a69a=_0x361ffb[_0x354443(0x1f0)](getAccountType);_0x58a69a!==_0x354443(0x1e6)&&(document[_0x354443(0x20a)](_0x361ffb['ernCM'])[_0x354443(0x1d3)]=!![]);try{chrome[_0x354443(0x1e7)][_0x354443(0x1e3)]['get'](_0x361ffb[_0x354443(0x202)],_0x3e33e4=>{const _0x5cdf26=_0x354443;if(chrome[_0x5cdf26(0x221)][_0x5cdf26(0x1ea)]){a0_0xa1f159[_0x5cdf26(0x1f1)](_0x361ffb['CWgzJ'],_0x5cdf26(0x1ff));return;}const _0x1e58b4=_0x3e33e4['blacklist']||{},_0x440d2c=Object[_0x5cdf26(0x21e)](_0x1e58b4);_0x361ffb[_0x5cdf26(0x1fd)](populateBlacklistTable,_0x440d2c);});}catch(_0x20f609){console['error'](_0x361ffb[_0x354443(0x1f2)],_0x20f609),a0_0xa1f159['error'](_0x354443(0x203),'Error');}}export async function removeBlacklistEntry(_0xbad9d9,_0x3cdbe4,_0x48fae4){const _0x509e27=a0_0x1de1,_0x123a03={'EdZtS':_0x509e27(0x210),'xKVZS':_0x509e27(0x218),'lNDNN':function(_0x4388d6,_0x3695e9){return _0x4388d6(_0x3695e9);}},_0x5c7270={'type':_0xbad9d9,'value':_0x3cdbe4,'scope':_0x48fae4},_0x558a3b=await updateBlacklistInDatabase(_0x5c7270,_0x509e27(0x222));if(!_0x558a3b||_0x558a3b[_0x509e27(0x1d7)]===0x0)return a0_0xa1f159[_0x509e27(0x1f1)](_0x123a03[_0x509e27(0x217)],_0x123a03['xKVZS']),![];return _0x123a03['lNDNN'](updateBlacklistInStorage,_0x558a3b),!![];}export async function updateBlacklistInDatabase(_0x2f3115,_0x5c5249){const _0x2a868c=a0_0x1de1,_0x87aa04={'rPWrC':function(_0x3991b){return _0x3991b();},'HUHSn':function(_0x53f43d,_0x1eb132,_0x5c7522){return _0x53f43d(_0x1eb132,_0x5c7522);},'XdkYk':_0x2a868c(0x1d4),'SDLHp':_0x2a868c(0x204),'foKUc':_0x2a868c(0x218)};try{const _0x494bbd=_0x87aa04[_0x2a868c(0x206)](getEmail),_0x1b2530=getCompanyName(),_0x48dc0b=getLoginKey(),_0x4cde06=backendAddress+'/api/updateblacklist',_0xbe9b71={'companyName':_0x1b2530,'email':_0x494bbd,'loginKey':_0x48dc0b,'type':_0x2f3115[_0x2a868c(0x1cf)],'value':_0x2f3115[_0x2a868c(0x208)],'scope':_0x2f3115[_0x2a868c(0x1da)],'action':_0x5c5249},_0x100bc0=await _0x87aa04['HUHSn'](fetch,_0x4cde06,{'method':_0x2a868c(0x1e1),'headers':{'Content-Type':_0x87aa04[_0x2a868c(0x209)]},'body':JSON[_0x2a868c(0x1dc)](_0xbe9b71)});if(!_0x100bc0['ok']){const _0x4a0f34=_0x2a868c(0x220)+_0x100bc0[_0x2a868c(0x1de)];throw new Error(_0x4a0f34);}const _0x55b251=await _0x100bc0[_0x2a868c(0x21d)]();return _0x55b251[_0x2a868c(0x1eb)];}catch(_0x51492a){return console[_0x2a868c(0x1f1)](_0x87aa04[_0x2a868c(0x212)],_0x51492a),a0_0xa1f159[_0x2a868c(0x1f1)](_0x2a868c(0x1fc),_0x87aa04[_0x2a868c(0x1e4)]),[];}}export function updateBlacklistInStorage(_0x3b609d){const _0x1f7848=a0_0x1de1,_0x31e8a1={'Eyuah':'Error\x20saving\x20blacklist\x20to\x20storage','MNTAB':_0x1f7848(0x219),'MnJZw':_0x1f7848(0x211),'BGgEz':_0x1f7848(0x1ff)};try{chrome['storage']['local'][_0x1f7848(0x1ed)]({'blacklist':_0x3b609d},function(){const _0x59e619=_0x1f7848;chrome[_0x59e619(0x221)][_0x59e619(0x1ea)]&&a0_0xa1f159['error'](_0x31e8a1[_0x59e619(0x223)],_0x59e619(0x1ff));});}catch(_0xbc49a6){console[_0x1f7848(0x1f1)](_0x31e8a1[_0x1f7848(0x1cd)],_0xbc49a6),a0_0xa1f159[_0x1f7848(0x1f1)](_0x31e8a1['MnJZw'],_0x31e8a1[_0x1f7848(0x1d1)]);}}export function addRowToTable(_0xc40f7b,_0x7916f5,_0x82bae){const _0x5c15ac=a0_0x1de1,_0x118fd9={'XFdoD':function(_0x4ad57c,_0x358ed4,_0x100049,_0x27ca14){return _0x4ad57c(_0x358ed4,_0x100049,_0x27ca14);},'qzIrk':function(_0x5d0326,_0x2845ae){return _0x5d0326+_0x2845ae;},'ylgMF':function(_0x5a1f85){return _0x5a1f85();},'yYamH':function(_0x59d3e6,_0x3f600e){return _0x59d3e6===_0x3f600e;},'QsTvo':function(_0x2137ef,_0x3b5323){return _0x2137ef!==_0x3b5323;},'zCMDW':_0x5c15ac(0x21b),'JkEqK':_0x5c15ac(0x1ce),'ZptkD':_0x5c15ac(0x1e5),'huhdu':_0x5c15ac(0x207)},_0x5cd809=_0x118fd9['qzIrk'](_0x82bae,0x1),_0x5982e4=document[_0x5c15ac(0x1ee)]('tr'),_0x4260af={'numbering':_0x5cd809,..._0x7916f5},_0x15024f=document['createElement']('td');_0x15024f[_0x5c15ac(0x1d2)](document['createTextNode'](_0x5cd809)),_0x5982e4[_0x5c15ac(0x1d2)](_0x15024f);const _0x48b41b=document[_0x5c15ac(0x1ee)]('td');_0x48b41b[_0x5c15ac(0x1d2)](document[_0x5c15ac(0x201)](_0x4260af[_0x5c15ac(0x1cf)])),_0x5982e4[_0x5c15ac(0x1d2)](_0x48b41b);const _0x58f52b=document[_0x5c15ac(0x1ee)]('td');_0x58f52b[_0x5c15ac(0x1d2)](document[_0x5c15ac(0x201)](_0x4260af[_0x5c15ac(0x208)])),_0x5982e4[_0x5c15ac(0x1d2)](_0x58f52b);const _0x3fa2ca=document[_0x5c15ac(0x1ee)]('td');_0x3fa2ca['appendChild'](document[_0x5c15ac(0x201)](_0x4260af[_0x5c15ac(0x1da)])),_0x5982e4[_0x5c15ac(0x1d2)](_0x3fa2ca);const _0x4f4a85=document['createElement']('td'),_0x162e8f=_0x118fd9[_0x5c15ac(0x1ef)](getAccountType);if(_0x118fd9[_0x5c15ac(0x1d5)](_0x162e8f,_0x5c15ac(0x1e6))||_0x118fd9[_0x5c15ac(0x1e2)](_0x4260af[_0x5c15ac(0x1da)],_0x118fd9[_0x5c15ac(0x1e8)])){const _0x7df2b2=document[_0x5c15ac(0x1ee)](_0x118fd9['JkEqK']);_0x7df2b2[_0x5c15ac(0x21c)]=_0x118fd9[_0x5c15ac(0x1fa)],_0x7df2b2['addEventListener'](_0x118fd9[_0x5c15ac(0x1d6)],async function(){const _0x15f918=_0x5c15ac,_0x18b1c8=await _0x118fd9[_0x15f918(0x213)](removeBlacklistEntry,_0x4260af[_0x15f918(0x1cf)],_0x4260af[_0x15f918(0x208)],_0x4260af[_0x15f918(0x1da)]);_0x18b1c8&&_0xc40f7b['removeChild'](_0x5982e4);}),_0x4f4a85[_0x5c15ac(0x1d2)](_0x7df2b2);}_0x5982e4[_0x5c15ac(0x1d2)](_0x4f4a85),_0xc40f7b[_0x5c15ac(0x1d2)](_0x5982e4);}export async function addBlacklistEntry(_0xcac467,_0x4de5ee,_0x3bdc2b){const _0x58618b=a0_0x1de1,_0x85fa7={'lkbEX':function(_0x3c2b51,_0x4294a3,_0x3f23c8){return _0x3c2b51(_0x4294a3,_0x3f23c8);},'AtdDe':_0x58618b(0x1df),'yuoYQ':function(_0x124ca3,_0x1d40c1){return _0x124ca3===_0x1d40c1;},'xWWaf':'Could\x20not\x20add\x20entry\x20to\x20database','meuKp':'Error','VTGIK':function(_0x458833,_0x2ef533){return _0x458833(_0x2ef533);},'sywgL':_0x58618b(0x1e9),'VgFfP':function(_0x3825ef,_0x2a853f){return _0x3825ef-_0x2a853f;},'eNvJQ':function(_0xa3383f,_0xb8cc6d,_0x9671c4,_0x3910d8){return _0xa3383f(_0xb8cc6d,_0x9671c4,_0x3910d8);}},_0x2b7a3e={'type':_0xcac467,'value':_0x4de5ee,'scope':_0x3bdc2b},_0x3d3344=await _0x85fa7['lkbEX'](updateBlacklistInDatabase,_0x2b7a3e,_0x85fa7['AtdDe']);if(!_0x3d3344||_0x85fa7[_0x58618b(0x1fe)](_0x3d3344['length'],0x0)){a0_0xa1f159['error'](_0x85fa7['xWWaf'],_0x85fa7['meuKp']);return;}_0x85fa7[_0x58618b(0x20b)](updateBlacklistInStorage,_0x3d3344);const _0x1cea3e=document[_0x58618b(0x20a)](_0x85fa7['sywgL']),_0x72925a=_0x85fa7[_0x58618b(0x1e0)](_0x1cea3e[_0x58618b(0x21a)][_0x58618b(0x1d7)],0x1);_0x85fa7[_0x58618b(0x20d)](addRowToTable,_0x1cea3e,_0x2b7a3e,_0x72925a);}