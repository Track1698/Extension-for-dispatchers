function a0_0x2bd7(){const _0x545b29=['2925792JcpmpV','xizxJ','35tDFzYt','LEvBA','sort','WePKY','ujRPD','values','AdEcY','239550IfxoEm','Error\x20updating\x20blacklist:','storage','EbYhN','scope','set','BCctl','/api/updateblacklist','Storage\x20Error','delete-table-row-button','tableBody','Error\x20updating\x20item\x20in\x20blacklist','sXzQF','company','wxScL','lastError','lcSuS','YhfGh','length','3005618KJGyjY','NYCBy','local','rIvuw','rows','VGwpE','Error\x20in\x20loadBlacklist:','appendChild','11yTesUy','Error','removeChild','32AAJKBd','addBlacklistItemScopeInput','status','createElement','XAuGH','vNinH','Error\x20updating\x20storage','hMINb','json','getElementById','1927210amGHrc','fETUV','deleteRow','error','GVUkN','CRPGO','blacklist','BhUJx','UTAzb','addEventListener','isArray','POST','HYPfl','value','vllEV','21077230LFtjsR','UfCAy','mEcyL','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','Error\x20loading\x20blacklist','runtime','type','hbDUD','createTextNode','button','manager','vgmdI','SBaNn','lBzkS','4740208BVagjY','personal','2346006jztpfF','forEach','Error\x20in\x20updateBlacklistInStorage:','1jmrTsL','click'];a0_0x2bd7=function(){return _0x545b29;};return a0_0x2bd7();}(function(_0x12ac5,_0x109b38){const _0x5be647=a0_0x5e93,_0x21543e=_0x12ac5();while(!![]){try{const _0x1eae5b=parseInt(_0x5be647(0x185))/0x1*(parseInt(_0x5be647(0x163))/0x2)+parseInt(_0x5be647(0x182))/0x3+-parseInt(_0x5be647(0x180))/0x4+parseInt(_0x5be647(0x189))/0x5*(-parseInt(_0x5be647(0x190))/0x6)+-parseInt(_0x5be647(0x1a3))/0x7+parseInt(_0x5be647(0x159))/0x8*(-parseInt(_0x5be647(0x187))/0x9)+-parseInt(_0x5be647(0x172))/0xa*(-parseInt(_0x5be647(0x1ab))/0xb);if(_0x1eae5b===_0x109b38)break;else _0x21543e['push'](_0x21543e['shift']());}catch(_0x1cf819){_0x21543e['push'](_0x21543e['shift']());}}}(a0_0x2bd7,0xa0e85));import a0_0x10985b from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x227ee0){const _0x2c6025=a0_0x5e93,_0x3d97b3={'vgmdI':function(_0xac5245,_0x16f7a7){return _0xac5245===_0x16f7a7;},'WePKY':_0x2c6025(0x181),'UfCAy':function(_0x530c64,_0x4fbfbe){return _0x530c64!==_0x4fbfbe;},'UMAWP':function(_0x3079b3,_0x350a17){return _0x3079b3!==_0x350a17;},'AdEcY':function(_0x52959b,_0x125b2f){return _0x52959b===_0x125b2f;},'hMINb':_0x2c6025(0x19a),'wxScL':function(_0x4fcc15,_0x3aba79){return _0x4fcc15>_0x3aba79;},'mEcyL':function(_0x426c54,_0x2b7fae,_0x4f2202,_0x333109){return _0x426c54(_0x2b7fae,_0x4f2202,_0x333109);}},_0x50e6e9=document[_0x2c6025(0x162)](_0x3d97b3[_0x2c6025(0x160)]);while(_0x3d97b3[_0x2c6025(0x19e)](_0x50e6e9[_0x2c6025(0x1a7)][_0x2c6025(0x1a2)],0x1)){_0x50e6e9[_0x2c6025(0x165)](0x1);}Array[_0x2c6025(0x16d)](_0x227ee0)?(_0x227ee0[_0x2c6025(0x18b)]((_0x57ea19,_0x5944c3)=>{const _0x18992c=_0x2c6025;if(_0x3d97b3[_0x18992c(0x17d)](_0x57ea19[_0x18992c(0x194)],_0x3d97b3[_0x18992c(0x18c)])&&_0x3d97b3[_0x18992c(0x173)](_0x5944c3[_0x18992c(0x194)],_0x18992c(0x181)))return-0x1;if(_0x3d97b3['UMAWP'](_0x57ea19[_0x18992c(0x194)],_0x3d97b3[_0x18992c(0x18c)])&&_0x3d97b3[_0x18992c(0x18f)](_0x5944c3[_0x18992c(0x194)],_0x3d97b3[_0x18992c(0x18c)]))return 0x1;return 0x0;}),_0x227ee0[_0x2c6025(0x183)]((_0x3c622d,_0x975457)=>{addRowToTable(_0x50e6e9,_0x3c622d,_0x975457);})):_0x3d97b3[_0x2c6025(0x174)](addRowToTable,_0x50e6e9,_0x227ee0,0x0);}export function loadBlacklist(){const _0x5d0441=a0_0x5e93,_0x41c401={'BhUJx':_0x5d0441(0x175),'sXzQF':_0x5d0441(0x198),'NKDvi':function(_0x27085d,_0x2a1e81){return _0x27085d(_0x2a1e81);},'msKnP':function(_0x2bc86c){return _0x2bc86c();},'hbDUD':'manager','xizxJ':_0x5d0441(0x15a),'epvEm':_0x5d0441(0x1a9),'HYPfl':_0x5d0441(0x176),'WoKaY':_0x5d0441(0x157)},_0xa3bd6=_0x41c401['msKnP'](getAccountType);_0xa3bd6!==_0x41c401[_0x5d0441(0x179)]&&(document['getElementById'](_0x41c401[_0x5d0441(0x188)])['disabled']=!![]);try{chrome['storage']['local']['get'](_0x5d0441(0x169),_0x1d3599=>{const _0x36e566=_0x5d0441;if(chrome[_0x36e566(0x177)][_0x36e566(0x19f)]){a0_0x10985b[_0x36e566(0x166)](_0x41c401[_0x36e566(0x16a)],_0x41c401[_0x36e566(0x19c)]);return;}const _0x2d3ab8=_0x1d3599[_0x36e566(0x169)]||{},_0x1ae041=Object[_0x36e566(0x18e)](_0x2d3ab8);_0x41c401['NKDvi'](populateBlacklistTable,_0x1ae041);});}catch(_0x62a6dd){console['error'](_0x41c401['epvEm'],_0x62a6dd),a0_0x10985b[_0x5d0441(0x166)](_0x41c401[_0x5d0441(0x16f)],_0x41c401['WoKaY']);}}export async function removeBlacklistEntry(_0x5129c3,_0x34d025,_0x5e4727){const _0x218860=a0_0x5e93,_0x5375f4={'OYmPv':function(_0x4bd5f7,_0x175ade,_0x59cf31){return _0x4bd5f7(_0x175ade,_0x59cf31);},'kAWCR':'remove','wLRZV':function(_0x3bb01e,_0x5c0170){return _0x3bb01e===_0x5c0170;},'ujRPD':'Could\x20not\x20remove\x20entry\x20from\x20database','CkHOd':_0x218860(0x157),'ulPoI':function(_0x3b6cd7,_0x15e4c7){return _0x3b6cd7(_0x15e4c7);}},_0x41b7ab={'type':_0x5129c3,'value':_0x34d025,'scope':_0x5e4727},_0x4edc2e=await _0x5375f4['OYmPv'](updateBlacklistInDatabase,_0x41b7ab,_0x5375f4['kAWCR']);if(!_0x4edc2e||_0x5375f4['wLRZV'](_0x4edc2e['length'],0x0))return a0_0x10985b[_0x218860(0x166)](_0x5375f4[_0x218860(0x18d)],_0x5375f4['CkHOd']),![];return _0x5375f4['ulPoI'](updateBlacklistInStorage,_0x4edc2e),!![];}export async function updateBlacklistInDatabase(_0x410943,_0x36421d){const _0x38679b=a0_0x5e93,_0x46242c={'XAuGH':function(_0x3d847a){return _0x3d847a();},'fVbTM':function(_0x4f3e3a,_0x3cd13c,_0x20e5fe){return _0x4f3e3a(_0x3cd13c,_0x20e5fe);},'VaZoc':_0x38679b(0x16e),'dKMYF':'application/json','BCctl':_0x38679b(0x191),'sSouT':_0x38679b(0x19b),'lBzkS':_0x38679b(0x157)};try{const _0x48d8e8=_0x46242c['XAuGH'](getEmail),_0x397335=getCompanyName(),_0x168d89=_0x46242c[_0x38679b(0x15d)](getLoginKey),_0x10718c=backendAddress+_0x38679b(0x197),_0x34543f={'companyName':_0x397335,'email':_0x48d8e8,'loginKey':_0x168d89,'type':_0x410943['type'],'value':_0x410943[_0x38679b(0x170)],'scope':_0x410943[_0x38679b(0x194)],'action':_0x36421d},_0x26375b=await _0x46242c['fVbTM'](fetch,_0x10718c,{'method':_0x46242c['VaZoc'],'headers':{'Content-Type':_0x46242c['dKMYF']},'body':JSON['stringify'](_0x34543f)});if(!_0x26375b['ok']){const _0x1f9246='Server\x20responded\x20with\x20status\x20'+_0x26375b[_0x38679b(0x15b)];throw new Error(_0x1f9246);}const _0x3a4f3a=await _0x26375b[_0x38679b(0x161)]();return _0x3a4f3a[_0x38679b(0x169)];}catch(_0x3b0f6c){return console[_0x38679b(0x166)](_0x46242c[_0x38679b(0x196)],_0x3b0f6c),a0_0x10985b['error'](_0x46242c['sSouT'],_0x46242c[_0x38679b(0x17f)]),[];}}function a0_0x5e93(_0x2585ce,_0x3b54a8){const _0x2bd7a3=a0_0x2bd7();return a0_0x5e93=function(_0x5e93e5,_0x454434){_0x5e93e5=_0x5e93e5-0x157;let _0x1aa62b=_0x2bd7a3[_0x5e93e5];return _0x1aa62b;},a0_0x5e93(_0x2585ce,_0x3b54a8);}export function updateBlacklistInStorage(_0x158f66){const _0x560589=a0_0x5e93,_0x4f98f0={'VGwpE':_0x560589(0x198),'rIvuw':_0x560589(0x184)};try{chrome[_0x560589(0x192)][_0x560589(0x1a5)][_0x560589(0x195)]({'blacklist':_0x158f66},function(){const _0x301af3=_0x560589;chrome[_0x301af3(0x177)][_0x301af3(0x19f)]&&a0_0x10985b[_0x301af3(0x166)]('Error\x20saving\x20blacklist\x20to\x20storage',_0x4f98f0[_0x301af3(0x1a8)]);});}catch(_0x216def){console[_0x560589(0x166)](_0x4f98f0[_0x560589(0x1a6)],_0x216def),a0_0x10985b['error'](_0x560589(0x15f),_0x4f98f0[_0x560589(0x1a8)]);}}export function addRowToTable(_0xbae99,_0x6ffb2a,_0x5051b8){const _0x434c0c=a0_0x5e93,_0x4c6016={'iornZ':function(_0x3e8c4d,_0x461fa0,_0x5f036f,_0x346dfc){return _0x3e8c4d(_0x461fa0,_0x5f036f,_0x346dfc);},'EbYhN':function(_0x2719af,_0x3bc9a5){return _0x2719af+_0x3bc9a5;},'NYCBy':function(_0x2e5ea4,_0x425125){return _0x2e5ea4===_0x425125;},'fvXEw':function(_0x26f5ff,_0x2f63b9){return _0x26f5ff!==_0x2f63b9;},'CRPGO':_0x434c0c(0x19d),'GVUkN':_0x434c0c(0x17b),'lcSuS':_0x434c0c(0x199),'vllEV':_0x434c0c(0x186)},_0x14d772=_0x4c6016[_0x434c0c(0x193)](_0x5051b8,0x1),_0x1857b5=document['createElement']('tr'),_0x548f1b={'numbering':_0x14d772,..._0x6ffb2a},_0x53d9b9=document['createElement']('td');_0x53d9b9['appendChild'](document[_0x434c0c(0x17a)](_0x14d772)),_0x1857b5[_0x434c0c(0x1aa)](_0x53d9b9);const _0x29d79b=document[_0x434c0c(0x15c)]('td');_0x29d79b['appendChild'](document[_0x434c0c(0x17a)](_0x548f1b[_0x434c0c(0x178)])),_0x1857b5['appendChild'](_0x29d79b);const _0x2bdbb1=document[_0x434c0c(0x15c)]('td');_0x2bdbb1['appendChild'](document[_0x434c0c(0x17a)](_0x548f1b[_0x434c0c(0x170)])),_0x1857b5[_0x434c0c(0x1aa)](_0x2bdbb1);const _0x88ef1a=document[_0x434c0c(0x15c)]('td');_0x88ef1a['appendChild'](document['createTextNode'](_0x548f1b['scope'])),_0x1857b5[_0x434c0c(0x1aa)](_0x88ef1a);const _0x2dbe73=document[_0x434c0c(0x15c)]('td'),_0x4770f5=getAccountType();if(_0x4c6016[_0x434c0c(0x1a4)](_0x4770f5,_0x434c0c(0x17c))||_0x4c6016['fvXEw'](_0x548f1b[_0x434c0c(0x194)],_0x4c6016[_0x434c0c(0x168)])){const _0x1e08e3=document[_0x434c0c(0x15c)](_0x4c6016[_0x434c0c(0x167)]);_0x1e08e3['className']=_0x4c6016[_0x434c0c(0x1a0)],_0x1e08e3[_0x434c0c(0x16c)](_0x4c6016[_0x434c0c(0x171)],async function(){const _0x5e594f=_0x434c0c,_0x54685c=await _0x4c6016['iornZ'](removeBlacklistEntry,_0x548f1b[_0x5e594f(0x178)],_0x548f1b[_0x5e594f(0x170)],_0x548f1b[_0x5e594f(0x194)]);_0x54685c&&_0xbae99[_0x5e594f(0x158)](_0x1857b5);}),_0x2dbe73[_0x434c0c(0x1aa)](_0x1e08e3);}_0x1857b5[_0x434c0c(0x1aa)](_0x2dbe73),_0xbae99['appendChild'](_0x1857b5);}export async function addBlacklistEntry(_0x48eaed,_0x35864e,_0xe19fdc){const _0x3c3ea1=a0_0x5e93,_0xbb3b42={'SBaNn':function(_0x4ea264,_0x586bca,_0x5cddbf){return _0x4ea264(_0x586bca,_0x5cddbf);},'UTAzb':'add','fETUV':function(_0x15635d,_0x18a2a3){return _0x15635d===_0x18a2a3;},'YhfGh':function(_0x4219a4,_0x57654d){return _0x4219a4(_0x57654d);},'LEvBA':_0x3c3ea1(0x19a),'vNinH':function(_0x4f1d3a,_0x37e681){return _0x4f1d3a-_0x37e681;}},_0x3f3179={'type':_0x48eaed,'value':_0x35864e,'scope':_0xe19fdc},_0x50d813=await _0xbb3b42[_0x3c3ea1(0x17e)](updateBlacklistInDatabase,_0x3f3179,_0xbb3b42[_0x3c3ea1(0x16b)]);if(!_0x50d813||_0xbb3b42[_0x3c3ea1(0x164)](_0x50d813['length'],0x0)){a0_0x10985b[_0x3c3ea1(0x166)]('Could\x20not\x20add\x20entry\x20to\x20database',_0x3c3ea1(0x157));return;}_0xbb3b42[_0x3c3ea1(0x1a1)](updateBlacklistInStorage,_0x50d813);const _0x2370e6=document[_0x3c3ea1(0x162)](_0xbb3b42[_0x3c3ea1(0x18a)]),_0xde9eb2=_0xbb3b42[_0x3c3ea1(0x15e)](_0x2370e6[_0x3c3ea1(0x1a7)]['length'],0x1);addRowToTable(_0x2370e6,_0x3f3179,_0xde9eb2);}