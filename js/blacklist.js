(function(_0x5a2e7b,_0x4044e6){const _0x2c69d8=a0_0x86a3,_0x53ab69=_0x5a2e7b();while(!![]){try{const _0x2a48a1=-parseInt(_0x2c69d8(0x1d5))/0x1*(-parseInt(_0x2c69d8(0x200))/0x2)+-parseInt(_0x2c69d8(0x1bb))/0x3*(parseInt(_0x2c69d8(0x1e2))/0x4)+-parseInt(_0x2c69d8(0x1f4))/0x5*(parseInt(_0x2c69d8(0x1ed))/0x6)+-parseInt(_0x2c69d8(0x1e3))/0x7+parseInt(_0x2c69d8(0x201))/0x8*(-parseInt(_0x2c69d8(0x1e5))/0x9)+-parseInt(_0x2c69d8(0x1da))/0xa*(parseInt(_0x2c69d8(0x1f5))/0xb)+parseInt(_0x2c69d8(0x1d8))/0xc;if(_0x2a48a1===_0x4044e6)break;else _0x53ab69['push'](_0x53ab69['shift']());}catch(_0x1b3a15){_0x53ab69['push'](_0x53ab69['shift']());}}}(a0_0x1201,0xf04b7));import a0_0x295720 from'./alerts.js';function a0_0x1201(){const _0x5a3dd0=['iseYK','lastError','ZZsGN','ugFze','fRcZb','12VgDSUb','SwXhL','addEventListener','json','length','personal','vmDHY','3798185wGngbU','517dIkiIW','nqQNV','vMYdt','PGLfl','rows','Could\x20not\x20add\x20entry\x20to\x20database','klznA','value','Error\x20saving\x20blacklist\x20to\x20storage','Zlwdv','wZkxD','2KQiVux','48FElpkS','Error\x20in\x20loadBlacklist:','xtkwk','nztkp','PuCZI','manager','Error\x20loading\x20blacklist','storage','MWqQV','values','createTextNode','WglUL','appendChild','otuPx','kpkmy','3szLxhD','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','addBlacklistItemScopeInput','PXUOi','SIPLA','Error','add','blacklist','EdDGd','lOjrm','mJFnh','PsQUA','Error\x20in\x20updateBlacklistInStorage:','Error\x20updating\x20blacklist:','button','error','EubuI','set','ckzrs','type','Storage\x20Error','scope','click','tableBody','Could\x20not\x20remove\x20entry\x20from\x20database','ypSEB','494804TpKBwj','Server\x20responded\x20with\x20status\x20','getElementById','45181620aeKuar','local','68710GGESkM','Error\x20updating\x20item\x20in\x20blacklist','forEach','get','stringify','createElement','UxIcl','VeQYQ','300028ZufQkN','1661912lMbCVc','runtime','1681587wEclmu','fASAB','isArray'];a0_0x1201=function(){return _0x5a3dd0;};return a0_0x1201();}import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x59eef7){const _0x128af7=a0_0x86a3,_0x19de85={'mEXVo':function(_0x40dfe8,_0x24a07b){return _0x40dfe8===_0x24a07b;},'xtkwk':_0x128af7(0x1f2),'mJFnh':function(_0x234423,_0x6f4a66){return _0x234423!==_0x6f4a66;},'iseYK':function(_0x2375b4,_0x46a5d3){return _0x2375b4!==_0x46a5d3;},'PXUOi':function(_0x4e55e0,_0x5aa9f2,_0x234899,_0x4e20d7){return _0x4e55e0(_0x5aa9f2,_0x234899,_0x4e20d7);},'ckzrs':_0x128af7(0x1d2)},_0x17cce9=document[_0x128af7(0x1d7)](_0x19de85[_0x128af7(0x1cd)]);while(_0x17cce9[_0x128af7(0x1f9)]['length']>0x1){_0x17cce9['deleteRow'](0x1);}Array[_0x128af7(0x1e7)](_0x59eef7)?(_0x59eef7['sort']((_0x4564db,_0x4a8c7f)=>{const _0x98368f=_0x128af7;if(_0x19de85['mEXVo'](_0x4564db['scope'],_0x19de85[_0x98368f(0x203)])&&_0x19de85[_0x98368f(0x1c5)](_0x4a8c7f[_0x98368f(0x1d0)],_0x19de85[_0x98368f(0x203)]))return-0x1;if(_0x19de85[_0x98368f(0x1e8)](_0x4564db[_0x98368f(0x1d0)],_0x98368f(0x1f2))&&_0x19de85['mEXVo'](_0x4a8c7f[_0x98368f(0x1d0)],_0x19de85[_0x98368f(0x203)]))return 0x1;return 0x0;}),_0x59eef7[_0x128af7(0x1dc)]((_0x21a508,_0x332715)=>{const _0x50b758=_0x128af7;_0x19de85[_0x50b758(0x1be)](addRowToTable,_0x17cce9,_0x21a508,_0x332715);})):_0x19de85[_0x128af7(0x1be)](addRowToTable,_0x17cce9,_0x59eef7,0x0);}function a0_0x86a3(_0x29ef75,_0x1c3af7){const _0x1201f6=a0_0x1201();return a0_0x86a3=function(_0x86a3ff,_0x4a5a29){_0x86a3ff=_0x86a3ff-0x1ba;let _0x168f34=_0x1201f6[_0x86a3ff];return _0x168f34;},a0_0x86a3(_0x29ef75,_0x1c3af7);}export function loadBlacklist(){const _0x509003=a0_0x86a3,_0x7ac92e={'EdDGd':_0x509003(0x1bc),'wZkxD':_0x509003(0x1cf),'PsQUA':function(_0x4d7ec2,_0x3e29dd){return _0x4d7ec2(_0x3e29dd);},'ypSEB':function(_0x5b6180){return _0x5b6180();},'MWqQV':function(_0x4d7663,_0x2a88b4){return _0x4d7663!==_0x2a88b4;},'EubuI':_0x509003(0x206),'nqQNV':_0x509003(0x1bd),'VBvHg':'blacklist','psByd':_0x509003(0x202),'brLbP':_0x509003(0x1c0)},_0x2b8810=_0x7ac92e[_0x509003(0x1d4)](getAccountType);_0x7ac92e[_0x509003(0x209)](_0x2b8810,_0x7ac92e[_0x509003(0x1cb)])&&(document[_0x509003(0x1d7)](_0x7ac92e[_0x509003(0x1f6)])['disabled']=!![]);try{chrome[_0x509003(0x208)][_0x509003(0x1d9)][_0x509003(0x1dd)](_0x7ac92e['VBvHg'],_0x4a404e=>{const _0x5d819f=_0x509003;if(chrome[_0x5d819f(0x1e4)][_0x5d819f(0x1e9)]){a0_0x295720[_0x5d819f(0x1ca)](_0x7ac92e[_0x5d819f(0x1c3)],_0x7ac92e[_0x5d819f(0x1ff)]);return;}const _0x3b7c0c=_0x4a404e[_0x5d819f(0x1c2)]||{},_0x2a5026=Object[_0x5d819f(0x20a)](_0x3b7c0c);_0x7ac92e[_0x5d819f(0x1c6)](populateBlacklistTable,_0x2a5026);});}catch(_0x441e42){console[_0x509003(0x1ca)](_0x7ac92e['psByd'],_0x441e42),a0_0x295720[_0x509003(0x1ca)](_0x509003(0x207),_0x7ac92e['brLbP']);}}export async function removeBlacklistEntry(_0x1a5fbd,_0x49e1fe,_0xa02676){const _0x226e36=a0_0x86a3,_0x593f0c={'lOjrm':function(_0x547496,_0x5c88ba,_0x489b83){return _0x547496(_0x5c88ba,_0x489b83);},'xYVcS':'remove','SIPLA':function(_0x3e6b57,_0x1ddd93){return _0x3e6b57===_0x1ddd93;},'VeQYQ':_0x226e36(0x1d3),'fRcZb':'Error','vmDHY':function(_0x2fee96,_0xf71350){return _0x2fee96(_0xf71350);}},_0x2ac046={'type':_0x1a5fbd,'value':_0x49e1fe,'scope':_0xa02676},_0x219144=await _0x593f0c[_0x226e36(0x1c4)](updateBlacklistInDatabase,_0x2ac046,_0x593f0c['xYVcS']);if(!_0x219144||_0x593f0c[_0x226e36(0x1bf)](_0x219144[_0x226e36(0x1f1)],0x0))return a0_0x295720[_0x226e36(0x1ca)](_0x593f0c[_0x226e36(0x1e1)],_0x593f0c[_0x226e36(0x1ec)]),![];return _0x593f0c[_0x226e36(0x1f3)](updateBlacklistInStorage,_0x219144),!![];}export async function updateBlacklistInDatabase(_0x1a682b,_0x230844){const _0x2daa03=a0_0x86a3,_0x43b269={'SwXhL':function(_0x507a68){return _0x507a68();},'pjRyb':function(_0x1434be){return _0x1434be();},'nztkp':function(_0x53bb77,_0x335a67,_0x3f5c20){return _0x53bb77(_0x335a67,_0x3f5c20);},'RyhyE':'application/json','fASAB':_0x2daa03(0x1c8),'leyyH':_0x2daa03(0x1db),'UxIcl':_0x2daa03(0x1c0)};try{const _0x4dbe85=_0x43b269[_0x2daa03(0x1ee)](getEmail),_0x3a5a93=_0x43b269['pjRyb'](getCompanyName),_0x18b686=_0x43b269[_0x2daa03(0x1ee)](getLoginKey),_0x2c0f48=backendAddress+'/api/updateblacklist',_0x2b1aa0={'companyName':_0x3a5a93,'email':_0x4dbe85,'loginKey':_0x18b686,'type':_0x1a682b[_0x2daa03(0x1ce)],'value':_0x1a682b[_0x2daa03(0x1fc)],'scope':_0x1a682b[_0x2daa03(0x1d0)],'action':_0x230844},_0x4c3c69=await _0x43b269[_0x2daa03(0x204)](fetch,_0x2c0f48,{'method':'POST','headers':{'Content-Type':_0x43b269['RyhyE']},'body':JSON[_0x2daa03(0x1de)](_0x2b1aa0)});if(!_0x4c3c69['ok']){const _0x2d5bcf=_0x2daa03(0x1d6)+_0x4c3c69['status'];throw new Error(_0x2d5bcf);}const _0x53e5b2=await _0x4c3c69[_0x2daa03(0x1f0)]();return _0x53e5b2['blacklist'];}catch(_0x4432b5){return console[_0x2daa03(0x1ca)](_0x43b269[_0x2daa03(0x1e6)],_0x4432b5),a0_0x295720[_0x2daa03(0x1ca)](_0x43b269['leyyH'],_0x43b269[_0x2daa03(0x1e0)]),[];}}export function updateBlacklistInStorage(_0x257e3e){const _0x3414a9=a0_0x86a3,_0x4c706e={'Zlwdv':_0x3414a9(0x1fd),'PuCZI':'Storage\x20Error','fIzkg':_0x3414a9(0x1c7),'PGLfl':'Error\x20updating\x20storage'};try{chrome[_0x3414a9(0x208)][_0x3414a9(0x1d9)][_0x3414a9(0x1cc)]({'blacklist':_0x257e3e},function(){const _0x234c47=_0x3414a9;chrome[_0x234c47(0x1e4)][_0x234c47(0x1e9)]&&a0_0x295720[_0x234c47(0x1ca)](_0x4c706e[_0x234c47(0x1fe)],_0x4c706e[_0x234c47(0x205)]);});}catch(_0x3bde03){console[_0x3414a9(0x1ca)](_0x4c706e['fIzkg'],_0x3bde03),a0_0x295720[_0x3414a9(0x1ca)](_0x4c706e[_0x3414a9(0x1f8)],_0x4c706e[_0x3414a9(0x205)]);}}export function addRowToTable(_0x302620,_0x559afa,_0x14150c){const _0x3fb67d=a0_0x86a3,_0x4a3b62={'otuPx':function(_0x2601b4,_0x2af06c){return _0x2601b4+_0x2af06c;},'MAozq':_0x3fb67d(0x206),'ugFze':_0x3fb67d(0x1c9),'SCtSL':'delete-table-row-button','AhwYC':_0x3fb67d(0x1d1)},_0x438021=_0x4a3b62[_0x3fb67d(0x20e)](_0x14150c,0x1),_0x28af61=document[_0x3fb67d(0x1df)]('tr'),_0x409e39={'numbering':_0x438021,..._0x559afa},_0x53c0e3=document[_0x3fb67d(0x1df)]('td');_0x53c0e3['appendChild'](document[_0x3fb67d(0x20b)](_0x438021)),_0x28af61[_0x3fb67d(0x20d)](_0x53c0e3);const _0x559c4d=document['createElement']('td');_0x559c4d[_0x3fb67d(0x20d)](document[_0x3fb67d(0x20b)](_0x409e39[_0x3fb67d(0x1ce)])),_0x28af61[_0x3fb67d(0x20d)](_0x559c4d);const _0x3604b5=document[_0x3fb67d(0x1df)]('td');_0x3604b5['appendChild'](document['createTextNode'](_0x409e39[_0x3fb67d(0x1fc)])),_0x28af61[_0x3fb67d(0x20d)](_0x3604b5);const _0x4f1ee4=document[_0x3fb67d(0x1df)]('td');_0x4f1ee4[_0x3fb67d(0x20d)](document[_0x3fb67d(0x20b)](_0x409e39['scope'])),_0x28af61[_0x3fb67d(0x20d)](_0x4f1ee4);const _0x2c0463=document[_0x3fb67d(0x1df)]('td'),_0x53c8c2=getAccountType();if(_0x53c8c2===_0x4a3b62['MAozq']||_0x409e39['scope']!=='company'){const _0x4398a7=document['createElement'](_0x4a3b62[_0x3fb67d(0x1eb)]);_0x4398a7['className']=_0x4a3b62['SCtSL'],_0x4398a7[_0x3fb67d(0x1ef)](_0x4a3b62['AhwYC'],async function(){const _0x49d4d1=_0x3fb67d,_0x7cf21a=await removeBlacklistEntry(_0x409e39[_0x49d4d1(0x1ce)],_0x409e39[_0x49d4d1(0x1fc)],_0x409e39['scope']);_0x7cf21a&&_0x302620['removeChild'](_0x28af61);}),_0x2c0463[_0x3fb67d(0x20d)](_0x4398a7);}_0x28af61[_0x3fb67d(0x20d)](_0x2c0463),_0x302620[_0x3fb67d(0x20d)](_0x28af61);}export async function addBlacklistEntry(_0x2983d6,_0x4ccdf9,_0x463920){const _0x2f4bc1=a0_0x86a3,_0x2cf4ea={'Ykmqc':function(_0x1e18e3,_0x25116f,_0xbf8759){return _0x1e18e3(_0x25116f,_0xbf8759);},'kpkmy':function(_0x522788,_0x110932){return _0x522788===_0x110932;},'klznA':_0x2f4bc1(0x1c0),'vAJPI':function(_0x5e0264,_0x5c438d){return _0x5e0264(_0x5c438d);},'ZZsGN':_0x2f4bc1(0x1d2),'WglUL':function(_0x3095e5,_0x4207d0){return _0x3095e5-_0x4207d0;},'vMYdt':function(_0x4fc2ee,_0x2a0004,_0x39b2f6,_0x112e85){return _0x4fc2ee(_0x2a0004,_0x39b2f6,_0x112e85);}},_0x17ca30={'type':_0x2983d6,'value':_0x4ccdf9,'scope':_0x463920},_0x2c0386=await _0x2cf4ea['Ykmqc'](updateBlacklistInDatabase,_0x17ca30,_0x2f4bc1(0x1c1));if(!_0x2c0386||_0x2cf4ea[_0x2f4bc1(0x1ba)](_0x2c0386[_0x2f4bc1(0x1f1)],0x0)){a0_0x295720['error'](_0x2f4bc1(0x1fa),_0x2cf4ea[_0x2f4bc1(0x1fb)]);return;}_0x2cf4ea['vAJPI'](updateBlacklistInStorage,_0x2c0386);const _0x158624=document[_0x2f4bc1(0x1d7)](_0x2cf4ea[_0x2f4bc1(0x1ea)]),_0x2942b4=_0x2cf4ea[_0x2f4bc1(0x20c)](_0x158624[_0x2f4bc1(0x1f9)][_0x2f4bc1(0x1f1)],0x1);_0x2cf4ea[_0x2f4bc1(0x1f7)](addRowToTable,_0x158624,_0x17ca30,_0x2942b4);}