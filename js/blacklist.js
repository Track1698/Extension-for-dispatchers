(function(_0x296669,_0x45252c){const _0x523f37=a0_0x58a8,_0x1e3cd1=_0x296669();while(!![]){try{const _0x320765=parseInt(_0x523f37(0x226))/0x1+parseInt(_0x523f37(0x23a))/0x2*(parseInt(_0x523f37(0x1f0))/0x3)+parseInt(_0x523f37(0x218))/0x4+parseInt(_0x523f37(0x228))/0x5+parseInt(_0x523f37(0x233))/0x6*(parseInt(_0x523f37(0x241))/0x7)+parseInt(_0x523f37(0x1f3))/0x8*(parseInt(_0x523f37(0x224))/0x9)+-parseInt(_0x523f37(0x1f5))/0xa;if(_0x320765===_0x45252c)break;else _0x1e3cd1['push'](_0x1e3cd1['shift']());}catch(_0x3faddc){_0x1e3cd1['push'](_0x1e3cd1['shift']());}}}(a0_0x13ed,0x996da));import a0_0x34492b from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x4360e1){const _0x251ad7=a0_0x58a8,_0x3543f0={'AFLxI':function(_0x40d531,_0x308bc4){return _0x40d531===_0x308bc4;},'KhYhm':_0x251ad7(0x1fc),'pROkg':function(_0x23765c,_0x5f49d4){return _0x23765c!==_0x5f49d4;},'aRrVV':function(_0x5c6daa,_0x290b66,_0x3ede67,_0x5af816){return _0x5c6daa(_0x290b66,_0x3ede67,_0x5af816);},'xPgMi':_0x251ad7(0x200),'ytNIU':function(_0x3c4258,_0x2ad87c){return _0x3c4258>_0x2ad87c;},'AjqeE':function(_0x3aa05a,_0x1bbdf5,_0x29655c,_0x505cd9){return _0x3aa05a(_0x1bbdf5,_0x29655c,_0x505cd9);}},_0x591539=document['getElementById'](_0x3543f0['xPgMi']);while(_0x3543f0[_0x251ad7(0x20c)](_0x591539['rows'][_0x251ad7(0x234)],0x1)){_0x591539[_0x251ad7(0x1fa)](0x1);}Array['isArray'](_0x4360e1)?(_0x4360e1[_0x251ad7(0x246)]((_0x245d24,_0x240c9f)=>{const _0x27e6a9=_0x251ad7;if(_0x3543f0[_0x27e6a9(0x23b)](_0x245d24[_0x27e6a9(0x20f)],_0x3543f0[_0x27e6a9(0x236)])&&_0x3543f0[_0x27e6a9(0x23f)](_0x240c9f['scope'],_0x3543f0[_0x27e6a9(0x236)]))return-0x1;if(_0x3543f0[_0x27e6a9(0x23f)](_0x245d24['scope'],_0x3543f0[_0x27e6a9(0x236)])&&_0x240c9f[_0x27e6a9(0x20f)]===_0x3543f0[_0x27e6a9(0x236)])return 0x1;return 0x0;}),_0x4360e1[_0x251ad7(0x20e)]((_0x155edb,_0x49b7f5)=>{const _0x40cfbf=_0x251ad7;_0x3543f0[_0x40cfbf(0x247)](addRowToTable,_0x591539,_0x155edb,_0x49b7f5);})):_0x3543f0['AjqeE'](addRowToTable,_0x591539,_0x4360e1,0x0);}export function loadBlacklist(){const _0x3cc3c6=a0_0x58a8,_0x2f69d3={'sUFLV':'Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','MAjwX':function(_0x54e644,_0x5f33d5){return _0x54e644(_0x5f33d5);},'cnFxj':function(_0x107347,_0x12aa1d){return _0x107347!==_0x12aa1d;},'lUWaR':_0x3cc3c6(0x22e),'KMAUT':'addBlacklistItemScopeInput','iTolX':_0x3cc3c6(0x21a),'AtSIH':'Error\x20in\x20loadBlacklist:','HRYGw':'Error\x20loading\x20blacklist','PfySf':_0x3cc3c6(0x208)},_0x558d55=getAccountType();_0x2f69d3[_0x3cc3c6(0x238)](_0x558d55,_0x2f69d3[_0x3cc3c6(0x1ee)])&&(document[_0x3cc3c6(0x206)](_0x2f69d3[_0x3cc3c6(0x21e)])[_0x3cc3c6(0x207)]=!![]);try{chrome[_0x3cc3c6(0x232)]['local'][_0x3cc3c6(0x212)](_0x2f69d3[_0x3cc3c6(0x242)],_0x3d0c0d=>{const _0x1382a3=_0x3cc3c6;if(chrome['runtime'][_0x1382a3(0x231)]){a0_0x34492b[_0x1382a3(0x225)](_0x2f69d3['sUFLV'],_0x1382a3(0x214));return;}const _0x4c3a9c=_0x3d0c0d[_0x1382a3(0x21a)]||{},_0x460297=Object[_0x1382a3(0x243)](_0x4c3a9c);_0x2f69d3[_0x1382a3(0x23e)](populateBlacklistTable,_0x460297);});}catch(_0xdd72aa){console['error'](_0x2f69d3[_0x3cc3c6(0x219)],_0xdd72aa),a0_0x34492b['error'](_0x2f69d3[_0x3cc3c6(0x240)],_0x2f69d3[_0x3cc3c6(0x229)]);}}export async function removeBlacklistEntry(_0x16b099,_0x540d11,_0x32b1ac){const _0x29fb9e=a0_0x58a8,_0x48856d={'MpQgk':_0x29fb9e(0x1f7),'fCQxj':function(_0x29b36e,_0x50dfd7){return _0x29b36e===_0x50dfd7;},'EsezY':_0x29fb9e(0x244),'hgPJl':_0x29fb9e(0x208)},_0x41ae9f={'type':_0x16b099,'value':_0x540d11,'scope':_0x32b1ac},_0x3f8f71=await updateBlacklistInDatabase(_0x41ae9f,_0x48856d[_0x29fb9e(0x21b)]);if(!_0x3f8f71||_0x48856d[_0x29fb9e(0x21c)](_0x3f8f71[_0x29fb9e(0x234)],0x0))return a0_0x34492b['error'](_0x48856d[_0x29fb9e(0x203)],_0x48856d['hgPJl']),![];return updateBlacklistInStorage(_0x3f8f71),!![];}export async function updateBlacklistInDatabase(_0x29cc6f,_0x31d964){const _0x4bf7a7=a0_0x58a8,_0x59edc2={'SgwUI':function(_0x1ccafa){return _0x1ccafa();},'xufhx':'POST','QFsZH':_0x4bf7a7(0x213),'aAFcK':_0x4bf7a7(0x205),'ecZNu':_0x4bf7a7(0x21d),'jTitq':_0x4bf7a7(0x208)};try{const _0x121165=_0x59edc2['SgwUI'](getEmail),_0x2c0cb3=_0x59edc2[_0x4bf7a7(0x209)](getCompanyName),_0x5e15e8=_0x59edc2['SgwUI'](getLoginKey),_0x1956ee=backendAddress+_0x4bf7a7(0x220),_0x424e87={'companyName':_0x2c0cb3,'email':_0x121165,'loginKey':_0x5e15e8,'type':_0x29cc6f[_0x4bf7a7(0x22b)],'value':_0x29cc6f['value'],'scope':_0x29cc6f[_0x4bf7a7(0x20f)],'action':_0x31d964},_0x24175b=await fetch(_0x1956ee,{'method':_0x59edc2[_0x4bf7a7(0x1fe)],'headers':{'Content-Type':_0x59edc2[_0x4bf7a7(0x211)]},'body':JSON[_0x4bf7a7(0x237)](_0x424e87)});if(!_0x24175b['ok']){const _0x2f6a56='Server\x20responded\x20with\x20status\x20'+_0x24175b[_0x4bf7a7(0x216)];throw new Error(_0x2f6a56);}const _0x44e488=await _0x24175b['json']();return _0x44e488[_0x4bf7a7(0x21a)];}catch(_0x45b882){return console['error'](_0x59edc2[_0x4bf7a7(0x1fb)],_0x45b882),a0_0x34492b[_0x4bf7a7(0x225)](_0x59edc2[_0x4bf7a7(0x221)],_0x59edc2['jTitq']),[];}}export function updateBlacklistInStorage(_0x40b793){const _0x4018fc=a0_0x58a8,_0x86d928={'OSfTy':_0x4018fc(0x223),'vlzpQ':'Storage\x20Error','ewMxS':_0x4018fc(0x1f1),'izjnm':_0x4018fc(0x239)};try{chrome[_0x4018fc(0x232)][_0x4018fc(0x204)][_0x4018fc(0x1f4)]({'blacklist':_0x40b793},function(){const _0x4b2328=_0x4018fc;chrome[_0x4b2328(0x245)][_0x4b2328(0x231)]&&a0_0x34492b[_0x4b2328(0x225)](_0x86d928[_0x4b2328(0x22a)],_0x86d928[_0x4b2328(0x222)]);});}catch(_0x486bbb){console[_0x4018fc(0x225)](_0x86d928[_0x4018fc(0x217)],_0x486bbb),a0_0x34492b[_0x4018fc(0x225)](_0x86d928[_0x4018fc(0x230)],_0x86d928['vlzpQ']);}}function a0_0x13ed(){const _0x5eb307=['pDkKe','Fzkao','deleteRow','aAFcK','personal','SNCbe','xufhx','add','tableBody','uIHir','appendChild','EsezY','local','Error\x20updating\x20blacklist:','getElementById','disabled','Error','SgwUI','createElement','rows','ytNIU','removeChild','forEach','scope','value','QFsZH','get','application/json','Storage\x20Error','click','status','ewMxS','1357524LauwXD','AtSIH','blacklist','MpQgk','fCQxj','Error\x20updating\x20item\x20in\x20blacklist','KMAUT','xhlRM','/api/updateblacklist','ecZNu','vlzpQ','Error\x20saving\x20blacklist\x20to\x20storage','9970155Rizbjt','error','903324aGmLkD','createTextNode','801940DOaChj','PfySf','OSfTy','type','Could\x20not\x20add\x20entry\x20to\x20database','XqCBi','manager','button','izjnm','lastError','storage','1542scxyAm','length','UWGrq','KhYhm','stringify','cnFxj','Error\x20updating\x20storage','2094368TsTFyf','AFLxI','ilvnw','addEventListener','MAjwX','pROkg','HRYGw','1316QVWuLV','iTolX','values','Could\x20not\x20remove\x20entry\x20from\x20database','runtime','sort','aRrVV','company','lUWaR','iHVqB','3KbLANX','Error\x20in\x20updateBlacklistInStorage:','LiuwT','8VaGhXN','set','29779460RxJqYs','ZEmJu','remove'];a0_0x13ed=function(){return _0x5eb307;};return a0_0x13ed();}export function addRowToTable(_0x2f200c,_0x9d1e60,_0x45f0e7){const _0x2a9a32=a0_0x58a8,_0x5d6294={'UWGrq':function(_0x353050,_0x4cce51,_0x560a9e,_0x3f0f1a){return _0x353050(_0x4cce51,_0x560a9e,_0x3f0f1a);},'xhlRM':function(_0x45a9ea,_0x1d030f){return _0x45a9ea+_0x1d030f;},'VwTvs':function(_0x3c3af4,_0x4ab3d1){return _0x3c3af4===_0x4ab3d1;},'uIHir':function(_0x33d228,_0x4a6dc2){return _0x33d228!==_0x4a6dc2;},'pDkKe':_0x2a9a32(0x1ed),'LiuwT':_0x2a9a32(0x22f),'IieeN':'delete-table-row-button','Fzkao':_0x2a9a32(0x215)},_0x396697=_0x5d6294[_0x2a9a32(0x21f)](_0x45f0e7,0x1),_0x87851d=document[_0x2a9a32(0x20a)]('tr'),_0x3ed22a={'numbering':_0x396697,..._0x9d1e60},_0x95af8d=document['createElement']('td');_0x95af8d[_0x2a9a32(0x202)](document[_0x2a9a32(0x227)](_0x396697)),_0x87851d[_0x2a9a32(0x202)](_0x95af8d);const _0x570848=document[_0x2a9a32(0x20a)]('td');_0x570848[_0x2a9a32(0x202)](document[_0x2a9a32(0x227)](_0x3ed22a[_0x2a9a32(0x22b)])),_0x87851d[_0x2a9a32(0x202)](_0x570848);const _0x59fa43=document[_0x2a9a32(0x20a)]('td');_0x59fa43['appendChild'](document[_0x2a9a32(0x227)](_0x3ed22a[_0x2a9a32(0x210)])),_0x87851d['appendChild'](_0x59fa43);const _0xaa111b=document[_0x2a9a32(0x20a)]('td');_0xaa111b[_0x2a9a32(0x202)](document[_0x2a9a32(0x227)](_0x3ed22a[_0x2a9a32(0x20f)])),_0x87851d[_0x2a9a32(0x202)](_0xaa111b);const _0x4c1767=document[_0x2a9a32(0x20a)]('td'),_0x18ba3c=getAccountType();if(_0x5d6294['VwTvs'](_0x18ba3c,_0x2a9a32(0x22e))||_0x5d6294[_0x2a9a32(0x201)](_0x3ed22a[_0x2a9a32(0x20f)],_0x5d6294[_0x2a9a32(0x1f8)])){const _0xf19cd4=document[_0x2a9a32(0x20a)](_0x5d6294[_0x2a9a32(0x1f2)]);_0xf19cd4['className']=_0x5d6294['IieeN'],_0xf19cd4[_0x2a9a32(0x23d)](_0x5d6294[_0x2a9a32(0x1f9)],async function(){const _0x2e2510=_0x2a9a32,_0x1a58be=await _0x5d6294[_0x2e2510(0x235)](removeBlacklistEntry,_0x3ed22a[_0x2e2510(0x22b)],_0x3ed22a[_0x2e2510(0x210)],_0x3ed22a['scope']);_0x1a58be&&_0x2f200c[_0x2e2510(0x20d)](_0x87851d);}),_0x4c1767[_0x2a9a32(0x202)](_0xf19cd4);}_0x87851d[_0x2a9a32(0x202)](_0x4c1767),_0x2f200c[_0x2a9a32(0x202)](_0x87851d);}function a0_0x58a8(_0x6cb720,_0x48af0c){const _0x13ed8c=a0_0x13ed();return a0_0x58a8=function(_0x58a88c,_0x48c840){_0x58a88c=_0x58a88c-0x1ed;let _0x3d8ec0=_0x13ed8c[_0x58a88c];return _0x3d8ec0;},a0_0x58a8(_0x6cb720,_0x48af0c);}export async function addBlacklistEntry(_0x396249,_0x550952,_0x51db9e){const _0x2e4ac7=a0_0x58a8,_0x5d8f2a={'XcCxQ':function(_0x38d9b6,_0xc127e1,_0x4aa217){return _0x38d9b6(_0xc127e1,_0x4aa217);},'iHVqB':_0x2e4ac7(0x1ff),'SNCbe':function(_0x3f419b,_0x5e975a){return _0x3f419b===_0x5e975a;},'AUtrV':_0x2e4ac7(0x22c),'XqCBi':'Error','dqOUc':function(_0x454554,_0x1a5fcd){return _0x454554(_0x1a5fcd);},'ilvnw':function(_0xae7b1b,_0x2448ad){return _0xae7b1b-_0x2448ad;},'ZEmJu':function(_0x53e0c2,_0x506009,_0x1133df,_0x58c66b){return _0x53e0c2(_0x506009,_0x1133df,_0x58c66b);}},_0x50ea2a={'type':_0x396249,'value':_0x550952,'scope':_0x51db9e},_0x2cc066=await _0x5d8f2a['XcCxQ'](updateBlacklistInDatabase,_0x50ea2a,_0x5d8f2a[_0x2e4ac7(0x1ef)]);if(!_0x2cc066||_0x5d8f2a[_0x2e4ac7(0x1fd)](_0x2cc066[_0x2e4ac7(0x234)],0x0)){a0_0x34492b[_0x2e4ac7(0x225)](_0x5d8f2a['AUtrV'],_0x5d8f2a[_0x2e4ac7(0x22d)]);return;}_0x5d8f2a['dqOUc'](updateBlacklistInStorage,_0x2cc066);const _0x323ac5=document[_0x2e4ac7(0x206)](_0x2e4ac7(0x200)),_0x37ec57=_0x5d8f2a[_0x2e4ac7(0x23c)](_0x323ac5[_0x2e4ac7(0x20b)]['length'],0x1);_0x5d8f2a[_0x2e4ac7(0x1f6)](addRowToTable,_0x323ac5,_0x50ea2a,_0x37ec57);}