(function(_0x2eda68,_0x443741){const _0x2b07a=a0_0x466e,_0x5060ee=_0x2eda68();while(!![]){try{const _0x121b07=-parseInt(_0x2b07a(0x186))/0x1*(parseInt(_0x2b07a(0x14d))/0x2)+-parseInt(_0x2b07a(0x169))/0x3+parseInt(_0x2b07a(0x16e))/0x4+-parseInt(_0x2b07a(0x17e))/0x5+parseInt(_0x2b07a(0x151))/0x6+parseInt(_0x2b07a(0x13c))/0x7+-parseInt(_0x2b07a(0x174))/0x8*(parseInt(_0x2b07a(0x17f))/0x9);if(_0x121b07===_0x443741)break;else _0x5060ee['push'](_0x5060ee['shift']());}catch(_0x1e4efa){_0x5060ee['push'](_0x5060ee['shift']());}}}(a0_0x30e4,0x65ce2));import a0_0x392f8b from'./alerts.js';function a0_0x30e4(){const _0x242d94=['error','stiaO','1194160zktPFP','53181EUkJTg','hrJJG','stringify','Error\x20loading\x20blacklist','CVZjD','rows','company','57537pXuRZH','gHZZc','eGOAk','arHjn','remove','createTextNode','Could\x20not\x20add\x20entry\x20to\x20database','className','sort','MMPVT','blacklist','Mosjv','HRiiB','scope','qBmxT','delete-table-row-button','5361013NbaZBF','SNHEn','xJbcy','fFcOy','lastError','json','addEventListener','GgyUo','mSdAJ','storage','click','Error','personal','gGwHp','tsuJE','LxUmM','rIITU','6BWaoBE','psZNQ','set','Error\x20in\x20loadBlacklist:','2329002pyteEZ','Server\x20responded\x20with\x20status\x20','removeChild','SVExj','Storage\x20Error','forEach','tkKOd','COfAz','appendChild','mZNgJ','VVFTW','application/json','type','length','FomEJ','tableBody','ErIak','PlknD','status','kltaX','getElementById','add','value','Error\x20in\x20updateBlacklistInStorage:','1330224wtPPkR','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','AdLkB','nlJNE','hEZXf','1251264QuonXX','runtime','deleteRow','TTsCG','isArray','local','264tNZdTT','/api/updateblacklist','jjOuj','addBlacklistItemScopeInput','createElement','DpYXU','manager','Error\x20updating\x20storage'];a0_0x30e4=function(){return _0x242d94;};return a0_0x30e4();}import{backendAddress}from'./main.js';function a0_0x466e(_0x31aebf,_0x5a284b){const _0x30e46d=a0_0x30e4();return a0_0x466e=function(_0x466e89,_0x2fb145){_0x466e89=_0x466e89-0x13c;let _0x132fba=_0x30e46d[_0x466e89];return _0x132fba;},a0_0x466e(_0x31aebf,_0x5a284b);}import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x29d81a){const _0x388e7f=a0_0x466e,_0xba46d2={'DpYXU':function(_0x2d11c5,_0x394c4f){return _0x2d11c5===_0x394c4f;},'gGwHp':'personal','EPyeE':function(_0x1eb12d,_0x117c56){return _0x1eb12d!==_0x117c56;},'fFcOy':function(_0x1a78f7,_0x28a8f0){return _0x1a78f7===_0x28a8f0;},'mZNgJ':function(_0x3c024c,_0x4ee4b0,_0x50f9e9,_0x4da6e8){return _0x3c024c(_0x4ee4b0,_0x50f9e9,_0x4da6e8);},'ErIak':_0x388e7f(0x160),'HRiiB':function(_0x3bc5dc,_0x4cc0c9){return _0x3bc5dc>_0x4cc0c9;}},_0x28f88c=document[_0x388e7f(0x165)](_0xba46d2[_0x388e7f(0x161)]);while(_0xba46d2[_0x388e7f(0x192)](_0x28f88c[_0x388e7f(0x184)][_0x388e7f(0x15e)],0x1)){_0x28f88c[_0x388e7f(0x170)](0x1);}Array[_0x388e7f(0x172)](_0x29d81a)?(_0x29d81a[_0x388e7f(0x18e)]((_0x575f8c,_0x10d08d)=>{const _0x14b993=_0x388e7f;if(_0xba46d2[_0x14b993(0x179)](_0x575f8c[_0x14b993(0x193)],_0xba46d2['gGwHp'])&&_0x10d08d[_0x14b993(0x193)]!==_0xba46d2[_0x14b993(0x149)])return-0x1;if(_0xba46d2['EPyeE'](_0x575f8c[_0x14b993(0x193)],_0xba46d2[_0x14b993(0x149)])&&_0xba46d2[_0x14b993(0x13f)](_0x10d08d[_0x14b993(0x193)],_0x14b993(0x148)))return 0x1;return 0x0;}),_0x29d81a[_0x388e7f(0x156)]((_0x1a543e,_0x2643f4)=>{const _0x142041=_0x388e7f;_0xba46d2[_0x142041(0x15a)](addRowToTable,_0x28f88c,_0x1a543e,_0x2643f4);})):_0xba46d2[_0x388e7f(0x15a)](addRowToTable,_0x28f88c,_0x29d81a,0x0);}export function loadBlacklist(){const _0x275fc3=a0_0x466e,_0x1964f7={'VVFTW':_0x275fc3(0x16a),'GgyUo':_0x275fc3(0x155),'stiaO':function(_0x3a0dc1,_0x298bdf){return _0x3a0dc1(_0x298bdf);},'TTsCG':function(_0x1016a7){return _0x1016a7();},'uGKhq':_0x275fc3(0x177),'xyZnD':_0x275fc3(0x190),'Yrawi':_0x275fc3(0x182),'psZNQ':_0x275fc3(0x147)},_0x4656d6=_0x1964f7[_0x275fc3(0x171)](getAccountType);_0x4656d6!==_0x275fc3(0x17a)&&(document[_0x275fc3(0x165)](_0x1964f7['uGKhq'])['disabled']=!![]);try{chrome['storage'][_0x275fc3(0x173)]['get'](_0x1964f7['xyZnD'],_0x281413=>{const _0x3a8ff6=_0x275fc3;if(chrome[_0x3a8ff6(0x16f)][_0x3a8ff6(0x140)]){a0_0x392f8b[_0x3a8ff6(0x17c)](_0x1964f7[_0x3a8ff6(0x15b)],_0x1964f7[_0x3a8ff6(0x143)]);return;}const _0x187050=_0x281413[_0x3a8ff6(0x190)]||{},_0x43af3f=Object['values'](_0x187050);_0x1964f7[_0x3a8ff6(0x17d)](populateBlacklistTable,_0x43af3f);});}catch(_0x375ba7){console[_0x275fc3(0x17c)](_0x275fc3(0x150),_0x375ba7),a0_0x392f8b[_0x275fc3(0x17c)](_0x1964f7['Yrawi'],_0x1964f7[_0x275fc3(0x14e)]);}}export async function removeBlacklistEntry(_0x443bf6,_0x209962,_0x35f23c){const _0x4dd1de=a0_0x466e,_0x4876df={'qBmxT':function(_0xa2bc6d,_0x2b3495,_0x2060ee){return _0xa2bc6d(_0x2b3495,_0x2060ee);},'FomEJ':_0x4dd1de(0x18a),'SNHEn':function(_0x5ff68b,_0x1bbb6d){return _0x5ff68b===_0x1bbb6d;},'ZcaCA':'Could\x20not\x20remove\x20entry\x20from\x20database','hIFFF':'Error','CVZjD':function(_0x3cc5fc,_0x3dc70d){return _0x3cc5fc(_0x3dc70d);}},_0x36050c={'type':_0x443bf6,'value':_0x209962,'scope':_0x35f23c},_0x3a2bac=await _0x4876df[_0x4dd1de(0x194)](updateBlacklistInDatabase,_0x36050c,_0x4876df[_0x4dd1de(0x15f)]);if(!_0x3a2bac||_0x4876df[_0x4dd1de(0x13d)](_0x3a2bac[_0x4dd1de(0x15e)],0x0))return a0_0x392f8b[_0x4dd1de(0x17c)](_0x4876df['ZcaCA'],_0x4876df['hIFFF']),![];return _0x4876df[_0x4dd1de(0x183)](updateBlacklistInStorage,_0x3a2bac),!![];}export async function updateBlacklistInDatabase(_0x19b98b,_0x2d0cbb){const _0x41bd7b=a0_0x466e,_0x243e43={'AdLkB':function(_0x1bb841){return _0x1bb841();},'SVExj':function(_0x51128f){return _0x51128f();},'Mosjv':function(_0x15b95b,_0x520278,_0x2b3d6d){return _0x15b95b(_0x520278,_0x2b3d6d);},'hEZXf':'POST','HDxVs':'Error\x20updating\x20blacklist:','LxUmM':'Error\x20updating\x20item\x20in\x20blacklist','kltaX':_0x41bd7b(0x147)};try{const _0x527af5=_0x243e43['AdLkB'](getEmail),_0x99cc90=_0x243e43[_0x41bd7b(0x16b)](getCompanyName),_0x504d53=_0x243e43[_0x41bd7b(0x154)](getLoginKey),_0x49ee80=backendAddress+_0x41bd7b(0x175),_0x4ffba7={'companyName':_0x99cc90,'email':_0x527af5,'loginKey':_0x504d53,'type':_0x19b98b[_0x41bd7b(0x15d)],'value':_0x19b98b[_0x41bd7b(0x167)],'scope':_0x19b98b[_0x41bd7b(0x193)],'action':_0x2d0cbb},_0x9bb46=await _0x243e43[_0x41bd7b(0x191)](fetch,_0x49ee80,{'method':_0x243e43[_0x41bd7b(0x16d)],'headers':{'Content-Type':_0x41bd7b(0x15c)},'body':JSON[_0x41bd7b(0x181)](_0x4ffba7)});if(!_0x9bb46['ok']){const _0x3259d6=_0x41bd7b(0x152)+_0x9bb46[_0x41bd7b(0x163)];throw new Error(_0x3259d6);}const _0x4384a5=await _0x9bb46[_0x41bd7b(0x141)]();return _0x4384a5[_0x41bd7b(0x190)];}catch(_0x5c1b12){return console[_0x41bd7b(0x17c)](_0x243e43['HDxVs'],_0x5c1b12),a0_0x392f8b['error'](_0x243e43[_0x41bd7b(0x14b)],_0x243e43[_0x41bd7b(0x164)]),[];}}export function updateBlacklistInStorage(_0x562ace){const _0x100d30=a0_0x466e,_0x29e713={'XGBTi':'Error\x20saving\x20blacklist\x20to\x20storage','gMMpV':_0x100d30(0x168),'xJbcy':_0x100d30(0x17b),'jjOuj':_0x100d30(0x155)};try{chrome[_0x100d30(0x145)][_0x100d30(0x173)][_0x100d30(0x14f)]({'blacklist':_0x562ace},function(){const _0xd1ad87=_0x100d30;chrome[_0xd1ad87(0x16f)]['lastError']&&a0_0x392f8b[_0xd1ad87(0x17c)](_0x29e713['XGBTi'],'Storage\x20Error');});}catch(_0x506506){console[_0x100d30(0x17c)](_0x29e713['gMMpV'],_0x506506),a0_0x392f8b['error'](_0x29e713[_0x100d30(0x13e)],_0x29e713[_0x100d30(0x176)]);}}export function addRowToTable(_0x27d4c,_0x32040b,_0x4d9834){const _0x54abf3=a0_0x466e,_0x1779d9={'tkKOd':function(_0x532a19,_0x8aed5f,_0x506941,_0x343ee8){return _0x532a19(_0x8aed5f,_0x506941,_0x343ee8);},'COfAz':function(_0x26e1e1,_0x355c57){return _0x26e1e1+_0x355c57;},'rIITU':function(_0x478f7b,_0x2e94c4){return _0x478f7b===_0x2e94c4;},'gHZZc':'manager','BDmDp':function(_0x653bd9,_0xc30c87){return _0x653bd9!==_0xc30c87;},'mSdAJ':'button','tsuJE':_0x54abf3(0x195),'arHjn':_0x54abf3(0x146)},_0x42100f=_0x1779d9[_0x54abf3(0x158)](_0x4d9834,0x1),_0x466525=document[_0x54abf3(0x178)]('tr'),_0x334db5={'numbering':_0x42100f,..._0x32040b},_0x3bd6da=document[_0x54abf3(0x178)]('td');_0x3bd6da[_0x54abf3(0x159)](document[_0x54abf3(0x18b)](_0x42100f)),_0x466525[_0x54abf3(0x159)](_0x3bd6da);const _0x343d6d=document[_0x54abf3(0x178)]('td');_0x343d6d[_0x54abf3(0x159)](document['createTextNode'](_0x334db5[_0x54abf3(0x15d)])),_0x466525[_0x54abf3(0x159)](_0x343d6d);const _0xbecfd3=document[_0x54abf3(0x178)]('td');_0xbecfd3[_0x54abf3(0x159)](document[_0x54abf3(0x18b)](_0x334db5[_0x54abf3(0x167)])),_0x466525[_0x54abf3(0x159)](_0xbecfd3);const _0x4cf872=document[_0x54abf3(0x178)]('td');_0x4cf872['appendChild'](document[_0x54abf3(0x18b)](_0x334db5['scope'])),_0x466525[_0x54abf3(0x159)](_0x4cf872);const _0x1e135f=document[_0x54abf3(0x178)]('td'),_0x4db802=getAccountType();if(_0x1779d9[_0x54abf3(0x14c)](_0x4db802,_0x1779d9[_0x54abf3(0x187)])||_0x1779d9['BDmDp'](_0x334db5[_0x54abf3(0x193)],_0x54abf3(0x185))){const _0x1ab591=document['createElement'](_0x1779d9[_0x54abf3(0x144)]);_0x1ab591[_0x54abf3(0x18d)]=_0x1779d9[_0x54abf3(0x14a)],_0x1ab591[_0x54abf3(0x142)](_0x1779d9[_0x54abf3(0x189)],async function(){const _0x52704a=_0x54abf3,_0x499455=await _0x1779d9[_0x52704a(0x157)](removeBlacklistEntry,_0x334db5['type'],_0x334db5['value'],_0x334db5[_0x52704a(0x193)]);_0x499455&&_0x27d4c[_0x52704a(0x153)](_0x466525);}),_0x1e135f[_0x54abf3(0x159)](_0x1ab591);}_0x466525[_0x54abf3(0x159)](_0x1e135f),_0x27d4c[_0x54abf3(0x159)](_0x466525);}export async function addBlacklistEntry(_0x401003,_0x874c82,_0x4feed2){const _0xe94a42=a0_0x466e,_0xe668d7={'MMPVT':function(_0x6d764b,_0x321b41,_0x3bda92){return _0x6d764b(_0x321b41,_0x3bda92);},'hrJJG':_0xe94a42(0x166),'zbmgd':function(_0x4db180,_0x1b1e75){return _0x4db180===_0x1b1e75;},'nlJNE':_0xe94a42(0x18c),'jKgGW':_0xe94a42(0x147),'PlknD':function(_0x12b130,_0x5cff79){return _0x12b130(_0x5cff79);},'eGOAk':function(_0xdf4984,_0xcd9e3){return _0xdf4984-_0xcd9e3;}},_0x1b97d5={'type':_0x401003,'value':_0x874c82,'scope':_0x4feed2},_0x464d2c=await _0xe668d7[_0xe94a42(0x18f)](updateBlacklistInDatabase,_0x1b97d5,_0xe668d7[_0xe94a42(0x180)]);if(!_0x464d2c||_0xe668d7['zbmgd'](_0x464d2c[_0xe94a42(0x15e)],0x0)){a0_0x392f8b['error'](_0xe668d7[_0xe94a42(0x16c)],_0xe668d7['jKgGW']);return;}_0xe668d7[_0xe94a42(0x162)](updateBlacklistInStorage,_0x464d2c);const _0x4e8cd3=document[_0xe94a42(0x165)](_0xe94a42(0x160)),_0x4b44be=_0xe668d7[_0xe94a42(0x188)](_0x4e8cd3[_0xe94a42(0x184)][_0xe94a42(0x15e)],0x1);addRowToTable(_0x4e8cd3,_0x1b97d5,_0x4b44be);}