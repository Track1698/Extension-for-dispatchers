(function(_0x132220,_0x265d4e){const _0x348ac0=a0_0x1880,_0x4f4314=_0x132220();while(!![]){try{const _0xcd46ac=parseInt(_0x348ac0(0x106))/0x1*(parseInt(_0x348ac0(0x116))/0x2)+-parseInt(_0x348ac0(0x125))/0x3+-parseInt(_0x348ac0(0xdf))/0x4+-parseInt(_0x348ac0(0x105))/0x5*(-parseInt(_0x348ac0(0xdc))/0x6)+parseInt(_0x348ac0(0x10b))/0x7*(parseInt(_0x348ac0(0x11b))/0x8)+-parseInt(_0x348ac0(0x130))/0x9*(-parseInt(_0x348ac0(0xe8))/0xa)+parseInt(_0x348ac0(0x11d))/0xb;if(_0xcd46ac===_0x265d4e)break;else _0x4f4314['push'](_0x4f4314['shift']());}catch(_0x47a39c){_0x4f4314['push'](_0x4f4314['shift']());}}}(a0_0x47dd,0x89a34));import a0_0x31948b from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x159890){const _0x1e6e53=a0_0x1880,_0xc9f690={'afrKM':function(_0x24e9cd,_0x4cc037){return _0x24e9cd===_0x4cc037;},'pjNyt':_0x1e6e53(0xf7),'UrNLm':function(_0x388cba,_0x2d80b4){return _0x388cba!==_0x2d80b4;},'OzJZv':function(_0x3c3ee4,_0x57ef5e){return _0x3c3ee4!==_0x57ef5e;},'EynUE':function(_0x85199b,_0x47bfbf,_0x522928,_0x504e0d){return _0x85199b(_0x47bfbf,_0x522928,_0x504e0d);},'hGLtb':_0x1e6e53(0xeb)},_0x20b8d9=document[_0x1e6e53(0x10c)](_0xc9f690[_0x1e6e53(0xe0)]);while(_0x20b8d9[_0x1e6e53(0xfa)][_0x1e6e53(0x126)]>0x1){_0x20b8d9[_0x1e6e53(0x101)](0x1);}Array[_0x1e6e53(0xd6)](_0x159890)?(_0x159890[_0x1e6e53(0x12f)]((_0x288545,_0x222f5c)=>{const _0x20671a=_0x1e6e53;if(_0xc9f690[_0x20671a(0xfb)](_0x288545[_0x20671a(0xfc)],_0xc9f690[_0x20671a(0x12c)])&&_0xc9f690[_0x20671a(0x10a)](_0x222f5c[_0x20671a(0xfc)],_0x20671a(0xf7)))return-0x1;if(_0xc9f690['OzJZv'](_0x288545[_0x20671a(0xfc)],_0xc9f690['pjNyt'])&&_0xc9f690[_0x20671a(0xfb)](_0x222f5c['scope'],_0xc9f690[_0x20671a(0x12c)]))return 0x1;return 0x0;}),_0x159890[_0x1e6e53(0x119)]((_0x70a29c,_0x3eec55)=>{const _0x318bc5=_0x1e6e53;_0xc9f690[_0x318bc5(0xef)](addRowToTable,_0x20b8d9,_0x70a29c,_0x3eec55);})):_0xc9f690[_0x1e6e53(0xef)](addRowToTable,_0x20b8d9,_0x159890,0x0);}function a0_0x47dd(){const _0x6d8ff5=['wyFKY','appendChild','createTextNode','Server\x20responded\x20with\x20status\x20','addBlacklistItemScopeInput','674BJqwtX','removeChild','status','forEach','POST','8GNzTPI','error','13111120xfCaEf','jUXkn','Error\x20updating\x20item\x20in\x20blacklist','ftduZ','company','className','Error','runtime','3058710pfBEkS','length','Error\x20in\x20loadBlacklist:','Storage\x20Error','cWcCT','KnjNy','Error\x20loading\x20blacklist','pjNyt','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','manager','sort','72XSFTgE','Could\x20not\x20remove\x20entry\x20from\x20database','createElement','isArray','Error\x20updating\x20blacklist:','GMCpw','Error\x20saving\x20blacklist\x20to\x20storage','storage','ZJmNZ','48ofLbua','zvgmW','Error\x20in\x20updateBlacklistInStorage:','3369884cElZTy','hGLtb','stringify','vMtia','button','MljKu','click','sdiHC','json','720350VUhnql','mTGKn','ODdkB','tableBody','lLXEh','jJwxg','disabled','EynUE','addEventListener','set','type','Could\x20not\x20add\x20entry\x20to\x20database','blacklist','Error\x20updating\x20storage','KiYun','personal','dXygM','lastError','rows','afrKM','scope','yMtsy','local','Sfkjx','aFXjQ','deleteRow','dlsSV','ZVabz','value','13745VSjnvl','37KYnxoX','SzILM','remove','OmAFM','UrNLm','4362008CdkLYd','getElementById','GuIQA','KoyyN','add','yVvIj'];a0_0x47dd=function(){return _0x6d8ff5;};return a0_0x47dd();}export function loadBlacklist(){const _0x53a3b0=a0_0x1880,_0xf0ac31={'lLXEh':_0x53a3b0(0x12d),'wyFKY':_0x53a3b0(0x128),'yMtsy':function(_0x370b3d,_0x267764){return _0x370b3d(_0x267764);},'gEXtm':function(_0x22d42f){return _0x22d42f();},'lmCdT':function(_0x3fc620,_0x36226e){return _0x3fc620!==_0x36226e;},'vMtia':_0x53a3b0(0x12e),'dlsSV':_0x53a3b0(0x115),'rqdEE':_0x53a3b0(0xf4),'Xdgoe':_0x53a3b0(0x127),'jUXkn':_0x53a3b0(0x12b),'yVvIj':_0x53a3b0(0x123)},_0x43dde4=_0xf0ac31['gEXtm'](getAccountType);_0xf0ac31['lmCdT'](_0x43dde4,_0xf0ac31[_0x53a3b0(0xe2)])&&(document[_0x53a3b0(0x10c)](_0xf0ac31[_0x53a3b0(0x102)])[_0x53a3b0(0xee)]=!![]);try{chrome[_0x53a3b0(0xda)][_0x53a3b0(0xfe)]['get'](_0xf0ac31['rqdEE'],_0x37e1a2=>{const _0x5a415a=_0x53a3b0;if(chrome[_0x5a415a(0x124)][_0x5a415a(0xf9)]){a0_0x31948b['error'](_0xf0ac31[_0x5a415a(0xec)],_0xf0ac31[_0x5a415a(0x111)]);return;}const _0x2de6bd=_0x37e1a2[_0x5a415a(0xf4)]||{},_0x5d8106=Object['values'](_0x2de6bd);_0xf0ac31[_0x5a415a(0xfd)](populateBlacklistTable,_0x5d8106);});}catch(_0x1d216f){console[_0x53a3b0(0x11c)](_0xf0ac31['Xdgoe'],_0x1d216f),a0_0x31948b[_0x53a3b0(0x11c)](_0xf0ac31[_0x53a3b0(0x11e)],_0xf0ac31[_0x53a3b0(0x110)]);}}export async function removeBlacklistEntry(_0x1ba92f,_0x8ef6fc,_0x50111d){const _0x389168=a0_0x1880,_0x5d4d10={'MljKu':function(_0x339b05,_0x5498c9,_0x4e36d8){return _0x339b05(_0x5498c9,_0x4e36d8);},'ODdkB':_0x389168(0xd4)},_0x28b07f={'type':_0x1ba92f,'value':_0x8ef6fc,'scope':_0x50111d},_0x1440d1=await _0x5d4d10[_0x389168(0xe4)](updateBlacklistInDatabase,_0x28b07f,_0x389168(0x108));if(!_0x1440d1||_0x1440d1['length']===0x0)return a0_0x31948b[_0x389168(0x11c)](_0x5d4d10[_0x389168(0xea)],_0x389168(0x123)),![];return updateBlacklistInStorage(_0x1440d1),!![];}export async function updateBlacklistInDatabase(_0x1c6ee5,_0x3926ed){const _0x17665f=a0_0x1880,_0x56aa9c={'aFXjQ':function(_0xfb573){return _0xfb573();},'uypRl':function(_0x8fd4bc,_0xe59d37,_0x33fa7c){return _0x8fd4bc(_0xe59d37,_0x33fa7c);},'sdiHC':_0x17665f(0x11a),'KiYun':'application/json','mTGKn':_0x17665f(0xd7),'Sfkjx':_0x17665f(0x11f),'cWcCT':_0x17665f(0x123)};try{const _0x4f2ac7=_0x56aa9c[_0x17665f(0x100)](getEmail),_0x22f2e7=_0x56aa9c[_0x17665f(0x100)](getCompanyName),_0x633423=getLoginKey(),_0xc26e33=backendAddress+'/api/updateblacklist',_0x5168c7={'companyName':_0x22f2e7,'email':_0x4f2ac7,'loginKey':_0x633423,'type':_0x1c6ee5['type'],'value':_0x1c6ee5[_0x17665f(0x104)],'scope':_0x1c6ee5[_0x17665f(0xfc)],'action':_0x3926ed},_0xc7fa23=await _0x56aa9c['uypRl'](fetch,_0xc26e33,{'method':_0x56aa9c[_0x17665f(0xe6)],'headers':{'Content-Type':_0x56aa9c[_0x17665f(0xf6)]},'body':JSON[_0x17665f(0xe1)](_0x5168c7)});if(!_0xc7fa23['ok']){const _0x56c52b=_0x17665f(0x114)+_0xc7fa23[_0x17665f(0x118)];throw new Error(_0x56c52b);}const _0x418a73=await _0xc7fa23[_0x17665f(0xe7)]();return _0x418a73[_0x17665f(0xf4)];}catch(_0xd84dc9){return console[_0x17665f(0x11c)](_0x56aa9c[_0x17665f(0xe9)],_0xd84dc9),a0_0x31948b[_0x17665f(0x11c)](_0x56aa9c[_0x17665f(0xff)],_0x56aa9c[_0x17665f(0x129)]),[];}}function a0_0x1880(_0x133b68,_0x4fcb8d){const _0x47dd9b=a0_0x47dd();return a0_0x1880=function(_0x188013,_0x156c16){_0x188013=_0x188013-0xd4;let _0x1d62d7=_0x47dd9b[_0x188013];return _0x1d62d7;},a0_0x1880(_0x133b68,_0x4fcb8d);}export function updateBlacklistInStorage(_0x411b1){const _0x5a42d5=a0_0x1880,_0x5a8e6f={'dXygM':_0x5a42d5(0xd9),'jJwxg':_0x5a42d5(0x128)};try{chrome[_0x5a42d5(0xda)][_0x5a42d5(0xfe)][_0x5a42d5(0xf1)]({'blacklist':_0x411b1},function(){const _0x1bbd61=_0x5a42d5;chrome['runtime'][_0x1bbd61(0xf9)]&&a0_0x31948b[_0x1bbd61(0x11c)](_0x5a8e6f[_0x1bbd61(0xf8)],_0x5a8e6f[_0x1bbd61(0xed)]);});}catch(_0x5922cf){console[_0x5a42d5(0x11c)](_0x5a42d5(0xde),_0x5922cf),a0_0x31948b[_0x5a42d5(0x11c)](_0x5a42d5(0xf5),_0x5a42d5(0x128));}}export function addRowToTable(_0x568425,_0x55a037,_0x5be901){const _0x3ffbb3=a0_0x1880,_0x393e84={'KoyyN':function(_0x5a8aed,_0x5c9102,_0x287b5c,_0x534b8e){return _0x5a8aed(_0x5c9102,_0x287b5c,_0x534b8e);},'YBuFr':function(_0x55e2e2,_0x5e6ed0){return _0x55e2e2+_0x5e6ed0;},'KnjNy':function(_0x64e705){return _0x64e705();},'SzILM':function(_0x435e87,_0x454247){return _0x435e87!==_0x454247;},'LlaMk':_0x3ffbb3(0x121),'OmAFM':_0x3ffbb3(0xe3),'GMCpw':'delete-table-row-button','zvgmW':_0x3ffbb3(0xe5)},_0x1a7861=_0x393e84['YBuFr'](_0x5be901,0x1),_0x3d3ff7=document[_0x3ffbb3(0xd5)]('tr'),_0x194bb5={'numbering':_0x1a7861,..._0x55a037},_0x9fbc98=document[_0x3ffbb3(0xd5)]('td');_0x9fbc98[_0x3ffbb3(0x112)](document[_0x3ffbb3(0x113)](_0x1a7861)),_0x3d3ff7[_0x3ffbb3(0x112)](_0x9fbc98);const _0x22a4d2=document['createElement']('td');_0x22a4d2[_0x3ffbb3(0x112)](document[_0x3ffbb3(0x113)](_0x194bb5[_0x3ffbb3(0xf2)])),_0x3d3ff7[_0x3ffbb3(0x112)](_0x22a4d2);const _0x37e010=document[_0x3ffbb3(0xd5)]('td');_0x37e010['appendChild'](document[_0x3ffbb3(0x113)](_0x194bb5[_0x3ffbb3(0x104)])),_0x3d3ff7[_0x3ffbb3(0x112)](_0x37e010);const _0x492686=document[_0x3ffbb3(0xd5)]('td');_0x492686[_0x3ffbb3(0x112)](document['createTextNode'](_0x194bb5[_0x3ffbb3(0xfc)])),_0x3d3ff7[_0x3ffbb3(0x112)](_0x492686);const _0x43159c=document[_0x3ffbb3(0xd5)]('td'),_0xcf265a=_0x393e84[_0x3ffbb3(0x12a)](getAccountType);if(_0xcf265a===_0x3ffbb3(0x12e)||_0x393e84[_0x3ffbb3(0x107)](_0x194bb5[_0x3ffbb3(0xfc)],_0x393e84['LlaMk'])){const _0x530a27=document[_0x3ffbb3(0xd5)](_0x393e84[_0x3ffbb3(0x109)]);_0x530a27[_0x3ffbb3(0x122)]=_0x393e84[_0x3ffbb3(0xd8)],_0x530a27[_0x3ffbb3(0xf0)](_0x393e84[_0x3ffbb3(0xdd)],async function(){const _0x15ec58=_0x3ffbb3,_0x20becf=await _0x393e84[_0x15ec58(0x10e)](removeBlacklistEntry,_0x194bb5['type'],_0x194bb5['value'],_0x194bb5['scope']);_0x20becf&&_0x568425[_0x15ec58(0x117)](_0x3d3ff7);}),_0x43159c[_0x3ffbb3(0x112)](_0x530a27);}_0x3d3ff7[_0x3ffbb3(0x112)](_0x43159c),_0x568425[_0x3ffbb3(0x112)](_0x3d3ff7);}export async function addBlacklistEntry(_0x255642,_0x1c2fa3,_0x214805){const _0x53ad6e=a0_0x1880,_0x235764={'GuIQA':_0x53ad6e(0x10f),'ftduZ':_0x53ad6e(0xf3),'WtzOV':_0x53ad6e(0x123),'ZVabz':function(_0x18c122,_0x1bc258){return _0x18c122(_0x1bc258);},'ZJmNZ':function(_0xc9b116,_0x28e1b6,_0xadfd3c,_0x29b6c2){return _0xc9b116(_0x28e1b6,_0xadfd3c,_0x29b6c2);}},_0x4e6418={'type':_0x255642,'value':_0x1c2fa3,'scope':_0x214805},_0x4e846d=await updateBlacklistInDatabase(_0x4e6418,_0x235764[_0x53ad6e(0x10d)]);if(!_0x4e846d||_0x4e846d[_0x53ad6e(0x126)]===0x0){a0_0x31948b[_0x53ad6e(0x11c)](_0x235764[_0x53ad6e(0x120)],_0x235764['WtzOV']);return;}_0x235764[_0x53ad6e(0x103)](updateBlacklistInStorage,_0x4e846d);const _0x3b3b1d=document[_0x53ad6e(0x10c)](_0x53ad6e(0xeb)),_0x215dcc=_0x3b3b1d['rows'][_0x53ad6e(0x126)]-0x1;_0x235764[_0x53ad6e(0xdb)](addRowToTable,_0x3b3b1d,_0x4e6418,_0x215dcc);}