(function(_0x4fd556,_0x48ba59){const _0x3ef0bd=a0_0x408d,_0x3aef37=_0x4fd556();while(!![]){try{const _0x37d371=parseInt(_0x3ef0bd(0x212))/0x1+parseInt(_0x3ef0bd(0x1ee))/0x2*(-parseInt(_0x3ef0bd(0x1cc))/0x3)+parseInt(_0x3ef0bd(0x21a))/0x4+parseInt(_0x3ef0bd(0x1fa))/0x5+-parseInt(_0x3ef0bd(0x210))/0x6*(-parseInt(_0x3ef0bd(0x1e9))/0x7)+-parseInt(_0x3ef0bd(0x1e4))/0x8*(parseInt(_0x3ef0bd(0x1c8))/0x9)+-parseInt(_0x3ef0bd(0x216))/0xa;if(_0x37d371===_0x48ba59)break;else _0x3aef37['push'](_0x3aef37['shift']());}catch(_0x2d8dd0){_0x3aef37['push'](_0x3aef37['shift']());}}}(a0_0x1ab9,0xa073a));import a0_0x4d0ff9 from'./alerts.js';import{backendAddress}from'./main.js';function a0_0x1ab9(){const _0x513fdc=['isArray','Error\x20loading\x20blacklist','rlzSd','value','type','addEventListener','ovFds','5844012AOvXPY','ScuhC','553060mvLGwb','sort','Could\x20not\x20add\x20entry\x20to\x20database','Error\x20in\x20loadBlacklist:','4295320RkuUsj','application/json','forEach','storage','4146468MnrKaf','tableBody','manager','fTfoX','delete-table-row-button','status','set','deleteRow','ESaQl','Error\x20saving\x20blacklist\x20to\x20storage','local','424233aFiHRP','hDHKZ','XerKr','Error\x20updating\x20item\x20in\x20blacklist','1481163BKCrFU','runtime','qiRXr','createTextNode','rows','NpZzT','eMVNJ','qaXVQ','yqYGe','VaTPZ','lFshX','company','SqEvD','disabled','click','mEtBr','wpmMm','json','rhkUl','stringify','pomoM','personal','Error','POST','192AFCwrB','MDWTt','pbJyN','blacklist','values','7eVuIkg','reVfB','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','hqKUP','error','2FHvCKk','HjerW','Error\x20updating\x20blacklist:','getElementById','HEPma','Error\x20updating\x20storage','kEmre','BcdDg','createElement','sVErl','className','ilPUE','740360pcSbGQ','length','removeChild','VswDb','button','scope','Could\x20not\x20remove\x20entry\x20from\x20database','TMyen','appendChild','dPuYV','lastError','ebuzV','Storage\x20Error','aoCqN','DzFBS'];a0_0x1ab9=function(){return _0x513fdc;};return a0_0x1ab9();}import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x3e3726){const _0x31517c=a0_0x408d,_0x30db88={'TMyen':function(_0x535a75,_0x36f627){return _0x535a75===_0x36f627;},'qiRXr':_0x31517c(0x1e1),'pbJyN':function(_0xb0b97,_0xaf26b5){return _0xb0b97>_0xaf26b5;},'vEPlo':function(_0x4ea2ac,_0x410ad7,_0x15ac1d,_0x32853b){return _0x4ea2ac(_0x410ad7,_0x15ac1d,_0x32853b);}},_0x1def29=document[_0x31517c(0x1f1)](_0x31517c(0x21b));while(_0x30db88[_0x31517c(0x1e6)](_0x1def29[_0x31517c(0x1d0)][_0x31517c(0x1fb)],0x1)){_0x1def29[_0x31517c(0x1c4)](0x1);}Array[_0x31517c(0x209)](_0x3e3726)?(_0x3e3726[_0x31517c(0x213)]((_0x1f2a9f,_0x1b42c8)=>{const _0xcb89e8=_0x31517c;if(_0x30db88[_0xcb89e8(0x201)](_0x1f2a9f[_0xcb89e8(0x1ff)],_0xcb89e8(0x1e1))&&_0x1b42c8[_0xcb89e8(0x1ff)]!==_0x30db88[_0xcb89e8(0x1ce)])return-0x1;if(_0x1f2a9f[_0xcb89e8(0x1ff)]!==_0x30db88['qiRXr']&&_0x1b42c8['scope']===_0x30db88[_0xcb89e8(0x1ce)])return 0x1;return 0x0;}),_0x3e3726[_0x31517c(0x218)]((_0x20c6b1,_0xbaf774)=>{addRowToTable(_0x1def29,_0x20c6b1,_0xbaf774);})):_0x30db88['vEPlo'](addRowToTable,_0x1def29,_0x3e3726,0x0);}export function loadBlacklist(){const _0x4b7e2c=a0_0x408d,_0x1d5fa4={'wpmMm':_0x4b7e2c(0x1eb),'HjerW':'Storage\x20Error','nHruQ':function(_0x37a055,_0x1d1280){return _0x37a055(_0x1d1280);},'fTfoX':function(_0xea6cad){return _0xea6cad();},'reVfB':function(_0x4a2920,_0x59e2a3){return _0x4a2920!==_0x59e2a3;},'SqEvD':_0x4b7e2c(0x21c),'xifBG':'addBlacklistItemScopeInput','qaXVQ':_0x4b7e2c(0x215),'TcuQq':_0x4b7e2c(0x20a),'hDHKZ':_0x4b7e2c(0x1e2)},_0xd03175=_0x1d5fa4[_0x4b7e2c(0x21d)](getAccountType);_0x1d5fa4[_0x4b7e2c(0x1ea)](_0xd03175,_0x1d5fa4[_0x4b7e2c(0x1d8)])&&(document['getElementById'](_0x1d5fa4['xifBG'])[_0x4b7e2c(0x1d9)]=!![]);try{chrome[_0x4b7e2c(0x219)][_0x4b7e2c(0x1c7)]['get']('blacklist',_0x5dde51=>{const _0x2d933f=_0x4b7e2c;if(chrome[_0x2d933f(0x1cd)][_0x2d933f(0x204)]){a0_0x4d0ff9[_0x2d933f(0x1ed)](_0x1d5fa4[_0x2d933f(0x1dc)],_0x1d5fa4[_0x2d933f(0x1ef)]);return;}const _0x5831ae=_0x5dde51[_0x2d933f(0x1e7)]||{},_0x289afe=Object[_0x2d933f(0x1e8)](_0x5831ae);_0x1d5fa4['nHruQ'](populateBlacklistTable,_0x289afe);});}catch(_0x44f089){console[_0x4b7e2c(0x1ed)](_0x1d5fa4[_0x4b7e2c(0x1d3)],_0x44f089),a0_0x4d0ff9['error'](_0x1d5fa4['TcuQq'],_0x1d5fa4[_0x4b7e2c(0x1c9)]);}}export async function removeBlacklistEntry(_0x5c53de,_0x29f13c,_0x5771a8){const _0x5da037=a0_0x408d,_0x1ec0b2={'yqYGe':function(_0x578184,_0x8d3606,_0x4dbf91){return _0x578184(_0x8d3606,_0x4dbf91);},'pomoM':'remove','XerKr':function(_0x42b808,_0x26a7af){return _0x42b808===_0x26a7af;},'FlPho':_0x5da037(0x200),'DzFBS':'Error','ebuzV':function(_0x30c24a,_0x59e96d){return _0x30c24a(_0x59e96d);}},_0x20e9ea={'type':_0x5c53de,'value':_0x29f13c,'scope':_0x5771a8},_0x56cf0d=await _0x1ec0b2[_0x5da037(0x1d4)](updateBlacklistInDatabase,_0x20e9ea,_0x1ec0b2[_0x5da037(0x1e0)]);if(!_0x56cf0d||_0x1ec0b2[_0x5da037(0x1ca)](_0x56cf0d[_0x5da037(0x1fb)],0x0))return a0_0x4d0ff9[_0x5da037(0x1ed)](_0x1ec0b2['FlPho'],_0x1ec0b2[_0x5da037(0x208)]),![];return _0x1ec0b2[_0x5da037(0x205)](updateBlacklistInStorage,_0x56cf0d),!![];}function a0_0x408d(_0x4ce9ac,_0x318f56){const _0x1ab968=a0_0x1ab9();return a0_0x408d=function(_0x408da6,_0x2cd4d1){_0x408da6=_0x408da6-0x1c4;let _0x1779fc=_0x1ab968[_0x408da6];return _0x1779fc;},a0_0x408d(_0x4ce9ac,_0x318f56);}export async function updateBlacklistInDatabase(_0x2cec25,_0x22ab21){const _0x13e221=a0_0x408d,_0x32e3ce={'MDWTt':function(_0x521e4b){return _0x521e4b();},'dPuYV':function(_0x1fddc2){return _0x1fddc2();},'FLSwg':function(_0x1a0679,_0x3907ff,_0x3103bb){return _0x1a0679(_0x3907ff,_0x3103bb);},'VswDb':_0x13e221(0x1e3),'ScuhC':_0x13e221(0x217),'rhkUl':_0x13e221(0x1f0),'lFshX':_0x13e221(0x1cb)};try{const _0x2b139d=_0x32e3ce[_0x13e221(0x1e5)](getEmail),_0x2995ed=getCompanyName(),_0x46454e=_0x32e3ce[_0x13e221(0x203)](getLoginKey),_0x5ccb77=backendAddress+'/api/updateblacklist',_0x41b96c={'companyName':_0x2995ed,'email':_0x2b139d,'loginKey':_0x46454e,'type':_0x2cec25[_0x13e221(0x20d)],'value':_0x2cec25['value'],'scope':_0x2cec25[_0x13e221(0x1ff)],'action':_0x22ab21},_0xdc9ea7=await _0x32e3ce['FLSwg'](fetch,_0x5ccb77,{'method':_0x32e3ce[_0x13e221(0x1fd)],'headers':{'Content-Type':_0x32e3ce[_0x13e221(0x211)]},'body':JSON[_0x13e221(0x1df)](_0x41b96c)});if(!_0xdc9ea7['ok']){const _0xb0837='Server\x20responded\x20with\x20status\x20'+_0xdc9ea7[_0x13e221(0x21f)];throw new Error(_0xb0837);}const _0x1fd2ce=await _0xdc9ea7[_0x13e221(0x1dd)]();return _0x1fd2ce[_0x13e221(0x1e7)];}catch(_0x5da157){return console[_0x13e221(0x1ed)](_0x32e3ce[_0x13e221(0x1de)],_0x5da157),a0_0x4d0ff9[_0x13e221(0x1ed)](_0x32e3ce[_0x13e221(0x1d6)],'Error'),[];}}export function updateBlacklistInStorage(_0x43e088){const _0x37973e=a0_0x408d,_0xb6e19e={'yymVf':_0x37973e(0x1c6),'kEmre':'Error\x20in\x20updateBlacklistInStorage:','ESaQl':_0x37973e(0x1f3)};try{chrome[_0x37973e(0x219)][_0x37973e(0x1c7)][_0x37973e(0x220)]({'blacklist':_0x43e088},function(){const _0x2daeae=_0x37973e;chrome['runtime'][_0x2daeae(0x204)]&&a0_0x4d0ff9[_0x2daeae(0x1ed)](_0xb6e19e['yymVf'],'Storage\x20Error');});}catch(_0x52f4f4){console['error'](_0xb6e19e[_0x37973e(0x1f4)],_0x52f4f4),a0_0x4d0ff9[_0x37973e(0x1ed)](_0xb6e19e[_0x37973e(0x1c5)],_0x37973e(0x206));}}export function addRowToTable(_0x11b5f6,_0x471b2f,_0x14ba8d){const _0x7b886e=a0_0x408d,_0x422682={'sVErl':function(_0x4a98a8,_0x1dced8,_0x431248,_0x38951a){return _0x4a98a8(_0x1dced8,_0x431248,_0x38951a);},'zyZZM':function(_0x31b726,_0x3c57c4){return _0x31b726+_0x3c57c4;},'HEPma':'manager','mEtBr':function(_0x416a04,_0x30fdf7){return _0x416a04!==_0x30fdf7;},'aoCqN':_0x7b886e(0x1d7),'ilPUE':_0x7b886e(0x1fe),'eMVNJ':_0x7b886e(0x21e),'hqKUP':_0x7b886e(0x1da)},_0x271f28=_0x422682['zyZZM'](_0x14ba8d,0x1),_0x36c5e1=document[_0x7b886e(0x1f6)]('tr'),_0x147df5={'numbering':_0x271f28,..._0x471b2f},_0x58b165=document[_0x7b886e(0x1f6)]('td');_0x58b165[_0x7b886e(0x202)](document[_0x7b886e(0x1cf)](_0x271f28)),_0x36c5e1[_0x7b886e(0x202)](_0x58b165);const _0x2bef2e=document['createElement']('td');_0x2bef2e['appendChild'](document['createTextNode'](_0x147df5['type'])),_0x36c5e1[_0x7b886e(0x202)](_0x2bef2e);const _0x50d9a0=document[_0x7b886e(0x1f6)]('td');_0x50d9a0['appendChild'](document['createTextNode'](_0x147df5[_0x7b886e(0x20c)])),_0x36c5e1[_0x7b886e(0x202)](_0x50d9a0);const _0xe5a723=document['createElement']('td');_0xe5a723[_0x7b886e(0x202)](document[_0x7b886e(0x1cf)](_0x147df5['scope'])),_0x36c5e1['appendChild'](_0xe5a723);const _0x51a5dc=document[_0x7b886e(0x1f6)]('td'),_0x32b888=getAccountType();if(_0x32b888===_0x422682[_0x7b886e(0x1f2)]||_0x422682[_0x7b886e(0x1db)](_0x147df5[_0x7b886e(0x1ff)],_0x422682[_0x7b886e(0x207)])){const _0x2d3f18=document[_0x7b886e(0x1f6)](_0x422682[_0x7b886e(0x1f9)]);_0x2d3f18[_0x7b886e(0x1f8)]=_0x422682[_0x7b886e(0x1d2)],_0x2d3f18[_0x7b886e(0x20e)](_0x422682[_0x7b886e(0x1ec)],async function(){const _0x2bf9c0=_0x7b886e,_0x2d90f6=await _0x422682[_0x2bf9c0(0x1f7)](removeBlacklistEntry,_0x147df5[_0x2bf9c0(0x20d)],_0x147df5['value'],_0x147df5['scope']);_0x2d90f6&&_0x11b5f6[_0x2bf9c0(0x1fc)](_0x36c5e1);}),_0x51a5dc[_0x7b886e(0x202)](_0x2d3f18);}_0x36c5e1[_0x7b886e(0x202)](_0x51a5dc),_0x11b5f6[_0x7b886e(0x202)](_0x36c5e1);}export async function addBlacklistEntry(_0xa16d34,_0x30eedb,_0x228d36){const _0x3060a3=a0_0x408d,_0x3a09ac={'rlzSd':function(_0x9d4963,_0x389300,_0x18b96d){return _0x9d4963(_0x389300,_0x18b96d);},'BcdDg':'add','FyESg':_0x3060a3(0x1e2),'VaTPZ':function(_0x252a01,_0x6c163){return _0x252a01(_0x6c163);},'NpZzT':_0x3060a3(0x21b),'ovFds':function(_0x3fc84a,_0x59b685,_0x561c0f,_0x246ed7){return _0x3fc84a(_0x59b685,_0x561c0f,_0x246ed7);}},_0x25cfd9={'type':_0xa16d34,'value':_0x30eedb,'scope':_0x228d36},_0x13bc0b=await _0x3a09ac[_0x3060a3(0x20b)](updateBlacklistInDatabase,_0x25cfd9,_0x3a09ac[_0x3060a3(0x1f5)]);if(!_0x13bc0b||_0x13bc0b[_0x3060a3(0x1fb)]===0x0){a0_0x4d0ff9['error'](_0x3060a3(0x214),_0x3a09ac['FyESg']);return;}_0x3a09ac[_0x3060a3(0x1d5)](updateBlacklistInStorage,_0x13bc0b);const _0x53d67f=document[_0x3060a3(0x1f1)](_0x3a09ac[_0x3060a3(0x1d1)]),_0x3828c3=_0x53d67f[_0x3060a3(0x1d0)][_0x3060a3(0x1fb)]-0x1;_0x3a09ac[_0x3060a3(0x20f)](addRowToTable,_0x53d67f,_0x25cfd9,_0x3828c3);}