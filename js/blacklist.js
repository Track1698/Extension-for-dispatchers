function a0_0x4485(){const _0x2c6f50=['button','rows','NvXUw','Error\x20in\x20loadBlacklist:','Server\x20responded\x20with\x20status\x20','length','TbCtJ','cJzJU','vJViN','get','tableBody','gamBg','48wyHSWH','332CwsPDD','MmMPK','addEventListener','AwDLd','ZVYia','NbqVz','AYvuC','Error\x20updating\x20item\x20in\x20blacklist','bIprx','blacklist','type','className','BbAhe','Storage\x20Error','getElementById','error','457114xbmcxc','9735UuaUYD','Could\x20not\x20add\x20entry\x20to\x20database','personal','qurUU','VDUDA','2166204RsQIkK','application/json','Error\x20saving\x20blacklist\x20to\x20storage','/api/updateblacklist','110382sXThUc','yHtVN','remove','seOPY','75AmWXbC','dchaG','company','lastError','20lRptMj','jsGVi','OtsAL','createTextNode','302005gSFIuZ','zybDT','fybXd','TDITk','xOvEc','Error\x20loading\x20blacklist','createElement','RTzee','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','SZOwG','json','627612MuAyEg','hjnqx','1362474GnJfFi','zjJEG','deleteRow','Oithg','sort','manager','forEach','hMQgF','scope','vafzi','wHVJe','Error\x20in\x20updateBlacklistInStorage:','runtime','FgNDK','Error','33cXSatI','jcPYE','addBlacklistItemScopeInput','Error\x20updating\x20storage','values','ooDmv','appendChild','value'];a0_0x4485=function(){return _0x2c6f50;};return a0_0x4485();}(function(_0x5232b9,_0x2d4e67){const _0x1ad865=a0_0x57cc,_0x48064f=_0x5232b9();while(!![]){try{const _0x17ca3c=parseInt(_0x1ad865(0x1a6))/0x1+-parseInt(_0x1ad865(0x1d7))/0x2*(parseInt(_0x1ad865(0x1e8))/0x3)+-parseInt(_0x1ad865(0x1b1))/0x4+-parseInt(_0x1ad865(0x1f5))/0x5*(-parseInt(_0x1ad865(0x1f1))/0x6)+-parseInt(_0x1ad865(0x1e7))/0x7*(parseInt(_0x1ad865(0x1d6))/0x8)+-parseInt(_0x1ad865(0x1b3))/0x9*(-parseInt(_0x1ad865(0x1a2))/0xa)+-parseInt(_0x1ad865(0x1c2))/0xb*(-parseInt(_0x1ad865(0x1ed))/0xc);if(_0x17ca3c===_0x2d4e67)break;else _0x48064f['push'](_0x48064f['shift']());}catch(_0x134974){_0x48064f['push'](_0x48064f['shift']());}}}(a0_0x4485,0x51c32));import a0_0xaafd37 from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyId,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x4c48f5){const _0xf03678=a0_0x57cc,_0x71b598={'ooDmv':function(_0x1a52e0,_0x156bcf){return _0x1a52e0===_0x156bcf;},'RTzee':_0xf03678(0x1ea),'zjJEG':function(_0x465d3e,_0x32b36a){return _0x465d3e!==_0x32b36a;},'wRHsG':function(_0x2d6d11,_0xfb4a3a){return _0x2d6d11!==_0xfb4a3a;},'vJViN':function(_0x5c1ddf,_0x4eff85,_0x3d1187,_0x2a13b4){return _0x5c1ddf(_0x4eff85,_0x3d1187,_0x2a13b4);},'ZVYia':_0xf03678(0x1d4),'xOvEc':function(_0x13a42b,_0x3325d2){return _0x13a42b>_0x3325d2;}},_0x57df9d=document[_0xf03678(0x1e5)](_0x71b598[_0xf03678(0x1db)]);while(_0x71b598[_0xf03678(0x1aa)](_0x57df9d[_0xf03678(0x1cb)][_0xf03678(0x1cf)],0x1)){_0x57df9d[_0xf03678(0x1b5)](0x1);}Array['isArray'](_0x4c48f5)?(_0x4c48f5[_0xf03678(0x1b7)]((_0x3c3450,_0x17e2f2)=>{const _0x1249f1=_0xf03678;if(_0x71b598['ooDmv'](_0x3c3450[_0x1249f1(0x1bb)],_0x71b598['RTzee'])&&_0x71b598[_0x1249f1(0x1b4)](_0x17e2f2['scope'],_0x71b598[_0x1249f1(0x1ad)]))return-0x1;if(_0x71b598['wRHsG'](_0x3c3450[_0x1249f1(0x1bb)],_0x71b598[_0x1249f1(0x1ad)])&&_0x71b598[_0x1249f1(0x1c7)](_0x17e2f2['scope'],'personal'))return 0x1;return 0x0;}),_0x4c48f5[_0xf03678(0x1b9)]((_0xc40497,_0x2dc8e5)=>{const _0x36e442=_0xf03678;_0x71b598[_0x36e442(0x1d2)](addRowToTable,_0x57df9d,_0xc40497,_0x2dc8e5);})):addRowToTable(_0x57df9d,_0x4c48f5,0x0);}export function loadBlacklist(){const _0x55c9b0=a0_0x57cc,_0x225be3={'zybDT':_0x55c9b0(0x1ae),'Oithg':function(_0x145433,_0x3dca5b){return _0x145433(_0x3dca5b);},'gamBg':function(_0x532fa3){return _0x532fa3();},'OtsAL':function(_0x4e54f7,_0x593e36){return _0x4e54f7!==_0x593e36;},'AwDLd':'manager','QwGgv':_0x55c9b0(0x1c4),'MmMPK':_0x55c9b0(0x1e0),'yYaGC':_0x55c9b0(0x1cd),'vafzi':_0x55c9b0(0x1ab),'TbCtJ':_0x55c9b0(0x1c1)},_0x2423a1=_0x225be3[_0x55c9b0(0x1d5)](getAccountType);_0x225be3[_0x55c9b0(0x1a4)](_0x2423a1,_0x225be3[_0x55c9b0(0x1da)])&&(document[_0x55c9b0(0x1e5)](_0x225be3['QwGgv'])['disabled']=!![]);try{chrome['storage']['local'][_0x55c9b0(0x1d3)](_0x225be3[_0x55c9b0(0x1d8)],_0x4e285d=>{const _0x382260=_0x55c9b0;if(chrome[_0x382260(0x1bf)][_0x382260(0x1a1)]){a0_0xaafd37[_0x382260(0x1e6)](_0x225be3[_0x382260(0x1a7)],_0x382260(0x1e4));return;}const _0x56adcf=_0x4e285d[_0x382260(0x1e0)]||{},_0xe5c818=Object[_0x382260(0x1c6)](_0x56adcf);_0x225be3[_0x382260(0x1b6)](populateBlacklistTable,_0xe5c818);});}catch(_0xa55137){console[_0x55c9b0(0x1e6)](_0x225be3['yYaGC'],_0xa55137),a0_0xaafd37[_0x55c9b0(0x1e6)](_0x225be3[_0x55c9b0(0x1bc)],_0x225be3[_0x55c9b0(0x1d0)]);}}function a0_0x57cc(_0x145a41,_0x2254a3){const _0x4485a4=a0_0x4485();return a0_0x57cc=function(_0x57cc02,_0x2738cb){_0x57cc02=_0x57cc02-0x19f;let _0x365e25=_0x4485a4[_0x57cc02];return _0x365e25;},a0_0x57cc(_0x145a41,_0x2254a3);}export async function removeBlacklistEntry(_0x37524b,_0x4c3554,_0x2da9a3){const _0x3e6187=a0_0x57cc,_0x39d6c2={'NvXUw':function(_0x564dce,_0x204a82,_0x208b01){return _0x564dce(_0x204a82,_0x208b01);},'JzdaX':_0x3e6187(0x1f3),'seOPY':function(_0x534b76,_0x27b1f6){return _0x534b76===_0x27b1f6;},'eXiFN':'Could\x20not\x20remove\x20entry\x20from\x20database','hMQgF':_0x3e6187(0x1c1)},_0x201541={'type':_0x37524b,'value':_0x4c3554,'scope':_0x2da9a3},_0x19c680=await _0x39d6c2[_0x3e6187(0x1cc)](updateBlacklistInDatabase,_0x201541,_0x39d6c2['JzdaX']);if(!_0x19c680||_0x39d6c2[_0x3e6187(0x1f4)](_0x19c680['length'],0x0))return a0_0xaafd37['error'](_0x39d6c2['eXiFN'],_0x39d6c2[_0x3e6187(0x1ba)]),![];return updateBlacklistInStorage(_0x19c680),!![];}export async function updateBlacklistInDatabase(_0x1b9a53,_0x5b80a8){const _0x48c0b1=a0_0x57cc,_0x3cc638={'qurUU':function(_0x4b1fa1){return _0x4b1fa1();},'RwXQy':function(_0x18cf2b){return _0x18cf2b();},'SZOwG':function(_0x19433a,_0x5f5df9,_0x15f199){return _0x19433a(_0x5f5df9,_0x15f199);},'NbqVz':'POST','jsGVi':'Error\x20updating\x20blacklist:','bIprx':_0x48c0b1(0x1de),'yHtVN':_0x48c0b1(0x1c1)};try{const _0x7ed2e0=_0x3cc638[_0x48c0b1(0x1eb)](getEmail),_0x3227c6=_0x3cc638[_0x48c0b1(0x1eb)](getCompanyId),_0x1faaf0=_0x3cc638['RwXQy'](getLoginKey),_0x394d5c=backendAddress+_0x48c0b1(0x1f0),_0x49bee8={'companyId':_0x3227c6,'email':_0x7ed2e0,'loginKey':_0x1faaf0,'type':_0x1b9a53['type'],'value':_0x1b9a53[_0x48c0b1(0x1c9)],'scope':_0x1b9a53[_0x48c0b1(0x1bb)],'action':_0x5b80a8},_0x517fbf=await _0x3cc638[_0x48c0b1(0x1af)](fetch,_0x394d5c,{'method':_0x3cc638[_0x48c0b1(0x1dc)],'headers':{'Content-Type':_0x48c0b1(0x1ee)},'body':JSON['stringify'](_0x49bee8)});if(!_0x517fbf['ok']){const _0x2df3fa=_0x48c0b1(0x1ce)+_0x517fbf['status'];throw new Error(_0x2df3fa);}const _0x552ab0=await _0x517fbf[_0x48c0b1(0x1b0)]();return _0x552ab0[_0x48c0b1(0x1e0)];}catch(_0x2cb3db){return console[_0x48c0b1(0x1e6)](_0x3cc638[_0x48c0b1(0x1a3)],_0x2cb3db),a0_0xaafd37[_0x48c0b1(0x1e6)](_0x3cc638[_0x48c0b1(0x1df)],_0x3cc638[_0x48c0b1(0x1f2)]),[];}}export function updateBlacklistInStorage(_0x374d04){const _0x251c2b=a0_0x57cc,_0x46be31={'BbAhe':_0x251c2b(0x1e4),'cJzJU':_0x251c2b(0x1be),'FgNDK':_0x251c2b(0x1c5)};try{chrome['storage']['local']['set']({'blacklist':_0x374d04},function(){const _0x151275=_0x251c2b;chrome[_0x151275(0x1bf)]['lastError']&&a0_0xaafd37['error'](_0x151275(0x1ef),_0x46be31[_0x151275(0x1e3)]);});}catch(_0x298fd0){console[_0x251c2b(0x1e6)](_0x46be31[_0x251c2b(0x1d1)],_0x298fd0),a0_0xaafd37[_0x251c2b(0x1e6)](_0x46be31[_0x251c2b(0x1c0)],_0x251c2b(0x1e4));}}export function addRowToTable(_0x5d7f2d,_0x4fcb1f,_0xd8b876){const _0x5bb168=a0_0x57cc,_0x1227df={'cBlma':function(_0x3a5efb,_0x10512c,_0x5b57ff,_0x57812d){return _0x3a5efb(_0x10512c,_0x5b57ff,_0x57812d);},'TDITk':function(_0xe829c2){return _0xe829c2();},'YRCfE':function(_0x308b05,_0x32bb71){return _0x308b05===_0x32bb71;},'RSAhT':function(_0x40df03,_0x306688){return _0x40df03!==_0x306688;},'fybXd':'delete-table-row-button','wHVJe':'click'},_0x449ca5=_0xd8b876+0x1,_0x12709b=document['createElement']('tr'),_0x1a49cc={'numbering':_0x449ca5,..._0x4fcb1f},_0x2d0af5=document[_0x5bb168(0x1ac)]('td');_0x2d0af5[_0x5bb168(0x1c8)](document[_0x5bb168(0x1a5)](_0x449ca5)),_0x12709b[_0x5bb168(0x1c8)](_0x2d0af5);const _0x45560e=document[_0x5bb168(0x1ac)]('td');_0x45560e[_0x5bb168(0x1c8)](document[_0x5bb168(0x1a5)](_0x1a49cc[_0x5bb168(0x1e1)])),_0x12709b['appendChild'](_0x45560e);const _0x334fac=document[_0x5bb168(0x1ac)]('td');_0x334fac[_0x5bb168(0x1c8)](document[_0x5bb168(0x1a5)](_0x1a49cc['value'])),_0x12709b['appendChild'](_0x334fac);const _0x11a586=document[_0x5bb168(0x1ac)]('td');_0x11a586[_0x5bb168(0x1c8)](document['createTextNode'](_0x1a49cc[_0x5bb168(0x1bb)])),_0x12709b[_0x5bb168(0x1c8)](_0x11a586);const _0x4c8622=document[_0x5bb168(0x1ac)]('td'),_0x5d4bed=_0x1227df[_0x5bb168(0x1a9)](getAccountType);if(_0x1227df['YRCfE'](_0x5d4bed,_0x5bb168(0x1b8))||_0x1227df['RSAhT'](_0x1a49cc[_0x5bb168(0x1bb)],_0x5bb168(0x1a0))){const _0x2315af=document[_0x5bb168(0x1ac)](_0x5bb168(0x1ca));_0x2315af[_0x5bb168(0x1e2)]=_0x1227df[_0x5bb168(0x1a8)],_0x2315af[_0x5bb168(0x1d9)](_0x1227df[_0x5bb168(0x1bd)],async function(){const _0x57d8cd=_0x5bb168,_0x4a0729=await _0x1227df['cBlma'](removeBlacklistEntry,_0x1a49cc[_0x57d8cd(0x1e1)],_0x1a49cc[_0x57d8cd(0x1c9)],_0x1a49cc['scope']);_0x4a0729&&_0x5d7f2d['removeChild'](_0x12709b);}),_0x4c8622[_0x5bb168(0x1c8)](_0x2315af);}_0x12709b[_0x5bb168(0x1c8)](_0x4c8622),_0x5d7f2d[_0x5bb168(0x1c8)](_0x12709b);}export async function addBlacklistEntry(_0x1c6276,_0x246b66,_0x40d65e){const _0x268838=a0_0x57cc,_0x176a27={'jcPYE':function(_0x138705,_0x2fedc6,_0x171a3f){return _0x138705(_0x2fedc6,_0x171a3f);},'AYvuC':'add','dchaG':function(_0xa83d2,_0x4cce7a){return _0xa83d2===_0x4cce7a;},'hjnqx':'Error','VDUDA':function(_0x4791c1,_0x354c80){return _0x4791c1-_0x354c80;},'evksX':function(_0x357804,_0x2d33b3,_0x3baf99,_0x29d0b7){return _0x357804(_0x2d33b3,_0x3baf99,_0x29d0b7);}},_0xc5652f={'type':_0x1c6276,'value':_0x246b66,'scope':_0x40d65e},_0x2ce441=await _0x176a27[_0x268838(0x1c3)](updateBlacklistInDatabase,_0xc5652f,_0x176a27[_0x268838(0x1dd)]);if(!_0x2ce441||_0x176a27[_0x268838(0x19f)](_0x2ce441[_0x268838(0x1cf)],0x0)){a0_0xaafd37['error'](_0x268838(0x1e9),_0x176a27[_0x268838(0x1b2)]);return;}updateBlacklistInStorage(_0x2ce441);const _0x469ba3=document['getElementById']('tableBody'),_0x4d2599=_0x176a27[_0x268838(0x1ec)](_0x469ba3[_0x268838(0x1cb)][_0x268838(0x1cf)],0x1);_0x176a27['evksX'](addRowToTable,_0x469ba3,_0xc5652f,_0x4d2599);}