(function(_0x1e93ba,_0x232d83){const _0x2e091b=a0_0x416f,_0x1048c7=_0x1e93ba();while(!![]){try{const _0x21d89b=parseInt(_0x2e091b(0x1a2))/0x1*(parseInt(_0x2e091b(0x1a6))/0x2)+parseInt(_0x2e091b(0x1b3))/0x3*(parseInt(_0x2e091b(0x17f))/0x4)+parseInt(_0x2e091b(0x19c))/0x5*(parseInt(_0x2e091b(0x196))/0x6)+-parseInt(_0x2e091b(0x1aa))/0x7+parseInt(_0x2e091b(0x17e))/0x8+parseInt(_0x2e091b(0x1a0))/0x9+-parseInt(_0x2e091b(0x19e))/0xa;if(_0x21d89b===_0x232d83)break;else _0x1048c7['push'](_0x1048c7['shift']());}catch(_0x3455f0){_0x1048c7['push'](_0x1048c7['shift']());}}}(a0_0x4a44,0xa1eb7));function a0_0x4a44(){const _0x5e37d8=['QfVSm','appendChild','XsSUP','6nWxeSV','zcjBk','wggrz','OYfZe','Error\x20updating\x20storage','xfKpl','869370gTgmyR','type','17682830QHsaAo','className','1469232rAZwNO','kAYof','3601JHiiqy','tPHTJ','Error\x20updating\x20blacklist:','AsMjX','346GgSpFE','eoreg','tableBody','forEach','3726163yDNImC','gWbZx','remove','DmQGM','local','error','createTextNode','json','getElementById','996279ivWAbL','scope','vrLEC','WKASE','sort','XJjmz','QlsSz','removeChild','Storage\x20Error','pSylC','add','HNKNL','DpjBS','storage','TnwzI','runtime','CXhLg','deleteRow','bHkDw','Error\x20saving\x20blacklist\x20to\x20storage','bYuIb','lastError','qVSKc','lGBRW','Poofd','button','personal','Could\x20not\x20add\x20entry\x20to\x20database','YlnVm','addBlacklistItemScopeInput','length','8059528rcptuj','12azKppe','addEventListener','nXKvK','POST','DXxgQ','value','qKyiE','PvsrS','status','Error','blacklist','createElement','OiBTw','isArray','uPpuX','STFhh','manager','FXcJN','set','UTVbC'];a0_0x4a44=function(){return _0x5e37d8;};return a0_0x4a44();}import a0_0xd2e9d2 from'./alerts.js';import{backendAddress}from'./main.js';import{getEmail,getCompanyId,getLoginKey,getAccountType}from'./state.js';function a0_0x416f(_0x1d9174,_0x3368ef){const _0x4a445f=a0_0x4a44();return a0_0x416f=function(_0x416f4b,_0x11b752){_0x416f4b=_0x416f4b-0x16f;let _0x4c73e5=_0x4a445f[_0x416f4b];return _0x4c73e5;},a0_0x416f(_0x1d9174,_0x3368ef);}export function populateBlacklistTable(_0x55e387){const _0x277bfb=a0_0x416f,_0x4f858f={'QlsSz':_0x277bfb(0x179),'bYuIb':function(_0x2da377,_0x53f2f5){return _0x2da377!==_0x53f2f5;},'vrLEC':function(_0x4f9d2b,_0x199a2d,_0x3d1490,_0x6e6642){return _0x4f9d2b(_0x199a2d,_0x3d1490,_0x6e6642);},'XJjmz':_0x277bfb(0x1a8),'kAYof':function(_0x5e10fa,_0x363623){return _0x5e10fa>_0x363623;},'WKASE':function(_0x196e74,_0x475a32,_0x49385c,_0x13ad45){return _0x196e74(_0x475a32,_0x49385c,_0x13ad45);}},_0x2400b3=document[_0x277bfb(0x1b2)](_0x4f858f[_0x277bfb(0x1b8)]);while(_0x4f858f[_0x277bfb(0x1a1)](_0x2400b3['rows'][_0x277bfb(0x17d)],0x1)){_0x2400b3[_0x277bfb(0x170)](0x1);}Array[_0x277bfb(0x18c)](_0x55e387)?(_0x55e387[_0x277bfb(0x1b7)]((_0x44f46f,_0x8c6cf5)=>{const _0x3788ce=_0x277bfb;if(_0x44f46f[_0x3788ce(0x1b4)]===_0x4f858f[_0x3788ce(0x1b9)]&&_0x8c6cf5[_0x3788ce(0x1b4)]!==_0x3788ce(0x179))return-0x1;if(_0x4f858f[_0x3788ce(0x173)](_0x44f46f[_0x3788ce(0x1b4)],_0x4f858f[_0x3788ce(0x1b9)])&&_0x8c6cf5[_0x3788ce(0x1b4)]===_0x4f858f['QlsSz'])return 0x1;return 0x0;}),_0x55e387[_0x277bfb(0x1a9)]((_0x24ec66,_0x6e59c6)=>{const _0x31e561=_0x277bfb;_0x4f858f[_0x31e561(0x1b5)](addRowToTable,_0x2400b3,_0x24ec66,_0x6e59c6);})):_0x4f858f[_0x277bfb(0x1b6)](addRowToTable,_0x2400b3,_0x55e387,0x0);}export function loadBlacklist(){const _0x2e8854=a0_0x416f,_0x52c01b={'yWxKJ':'Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','iZlob':function(_0x2404b9){return _0x2404b9();},'QfVSm':_0x2e8854(0x18f),'HNKNL':_0x2e8854(0x17c),'lGBRW':'blacklist','gWbZx':'Error\x20in\x20loadBlacklist:','wggrz':_0x2e8854(0x188)},_0x566d68=_0x52c01b['iZlob'](getAccountType);_0x566d68!==_0x52c01b[_0x2e8854(0x193)]&&(document[_0x2e8854(0x1b2)](_0x52c01b[_0x2e8854(0x1be)])['disabled']=!![]);try{chrome[_0x2e8854(0x1c0)][_0x2e8854(0x1ae)]['get'](_0x52c01b[_0x2e8854(0x176)],_0x1e9094=>{const _0x2de5fa=_0x2e8854;if(chrome['runtime'][_0x2de5fa(0x174)]){a0_0xd2e9d2[_0x2de5fa(0x1af)](_0x52c01b['yWxKJ'],'Storage\x20Error');return;}const _0x4bbf8a=_0x1e9094[_0x2de5fa(0x189)]||{},_0x1610b4=Object['values'](_0x4bbf8a);populateBlacklistTable(_0x1610b4);});}catch(_0x362c83){console[_0x2e8854(0x1af)](_0x52c01b[_0x2e8854(0x1ab)],_0x362c83),a0_0xd2e9d2[_0x2e8854(0x1af)]('Error\x20loading\x20blacklist',_0x52c01b[_0x2e8854(0x198)]);}}export async function removeBlacklistEntry(_0x4d5ba5,_0x49c47f,_0x40b65d){const _0x46d56a=a0_0x416f,_0x4b23a3={'XsSUP':function(_0x486e80,_0x2e4af2,_0x6c8cf0){return _0x486e80(_0x2e4af2,_0x6c8cf0);},'TnwzI':_0x46d56a(0x1ac),'pSylC':function(_0x258500,_0x4d601b){return _0x258500===_0x4d601b;},'qKyiE':function(_0x4d4efe,_0x36dbbd){return _0x4d4efe(_0x36dbbd);}},_0x195089={'type':_0x4d5ba5,'value':_0x49c47f,'scope':_0x40b65d},_0x21150c=await _0x4b23a3[_0x46d56a(0x195)](updateBlacklistInDatabase,_0x195089,_0x4b23a3[_0x46d56a(0x1c1)]);if(!_0x21150c||_0x4b23a3[_0x46d56a(0x1bc)](_0x21150c['length'],0x0))return a0_0xd2e9d2[_0x46d56a(0x1af)]('Could\x20not\x20remove\x20entry\x20from\x20database',_0x46d56a(0x188)),![];return _0x4b23a3[_0x46d56a(0x185)](updateBlacklistInStorage,_0x21150c),!![];}export async function updateBlacklistInDatabase(_0x40065d,_0x5dc1cd){const _0x432b47=a0_0x416f,_0x329c1d={'STFhh':function(_0xc6bd5d){return _0xc6bd5d();},'AsMjX':function(_0x34f432){return _0x34f432();},'Poofd':function(_0x279abc,_0x441826,_0x1dee20){return _0x279abc(_0x441826,_0x1dee20);},'vTleq':_0x432b47(0x182),'aVglC':'application/json','tPHTJ':_0x432b47(0x1a4),'PvsrS':'Error\x20updating\x20item\x20in\x20blacklist'};try{const _0x596db1=_0x329c1d[_0x432b47(0x18e)](getEmail),_0x948612=_0x329c1d[_0x432b47(0x1a5)](getCompanyId),_0x682e33=getLoginKey(),_0x1d6a63=backendAddress+'/api/updateblacklist',_0x399767={'companyId':_0x948612,'email':_0x596db1,'loginKey':_0x682e33,'type':_0x40065d['type'],'value':_0x40065d[_0x432b47(0x184)],'scope':_0x40065d['scope'],'action':_0x5dc1cd},_0x3f2994=await _0x329c1d[_0x432b47(0x177)](fetch,_0x1d6a63,{'method':_0x329c1d['vTleq'],'headers':{'Content-Type':_0x329c1d['aVglC']},'body':JSON['stringify'](_0x399767)});if(!_0x3f2994['ok']){const _0x545764='Server\x20responded\x20with\x20status\x20'+_0x3f2994[_0x432b47(0x187)];throw new Error(_0x545764);}const _0x457704=await _0x3f2994[_0x432b47(0x1b1)]();return _0x457704[_0x432b47(0x189)];}catch(_0x199f26){return console['error'](_0x329c1d[_0x432b47(0x1a3)],_0x199f26),a0_0xd2e9d2[_0x432b47(0x1af)](_0x329c1d[_0x432b47(0x186)],_0x432b47(0x188)),[];}}export function updateBlacklistInStorage(_0x14e544){const _0x2748c=a0_0x416f,_0xf753b3={'DXxgQ':_0x2748c(0x172),'FXcJN':_0x2748c(0x1bb),'GfCMu':'Error\x20in\x20updateBlacklistInStorage:','qVSKc':_0x2748c(0x19a)};try{chrome[_0x2748c(0x1c0)]['local'][_0x2748c(0x191)]({'blacklist':_0x14e544},function(){const _0xc364b0=_0x2748c;chrome[_0xc364b0(0x1c2)][_0xc364b0(0x174)]&&a0_0xd2e9d2[_0xc364b0(0x1af)](_0xf753b3[_0xc364b0(0x183)],_0xf753b3[_0xc364b0(0x190)]);});}catch(_0x2ff00d){console[_0x2748c(0x1af)](_0xf753b3['GfCMu'],_0x2ff00d),a0_0xd2e9d2['error'](_0xf753b3[_0x2748c(0x175)],_0xf753b3[_0x2748c(0x190)]);}}export function addRowToTable(_0x46b91f,_0x2b8e30,_0x4fdd2e){const _0x577267=a0_0x416f,_0x344696={'CXhLg':function(_0x3d58c8,_0xe9785f,_0x37208c,_0x4863ef){return _0x3d58c8(_0xe9785f,_0x37208c,_0x4863ef);},'NtXxi':function(_0xbe45ce){return _0xbe45ce();},'OYfZe':function(_0x487eca,_0x4b3e24){return _0x487eca===_0x4b3e24;},'urWqi':'manager','ZuigL':function(_0x443043,_0x431163){return _0x443043!==_0x431163;},'bHkDw':_0x577267(0x178),'zcjBk':'delete-table-row-button','uPpuX':'click'},_0x18a484=_0x4fdd2e+0x1,_0x1530bc=document[_0x577267(0x18a)]('tr'),_0x1f2002={'numbering':_0x18a484,..._0x2b8e30},_0x11e755=document[_0x577267(0x18a)]('td');_0x11e755[_0x577267(0x194)](document[_0x577267(0x1b0)](_0x18a484)),_0x1530bc['appendChild'](_0x11e755);const _0x537090=document['createElement']('td');_0x537090[_0x577267(0x194)](document[_0x577267(0x1b0)](_0x1f2002[_0x577267(0x19d)])),_0x1530bc[_0x577267(0x194)](_0x537090);const _0x3885d3=document[_0x577267(0x18a)]('td');_0x3885d3['appendChild'](document['createTextNode'](_0x1f2002[_0x577267(0x184)])),_0x1530bc[_0x577267(0x194)](_0x3885d3);const _0x12e939=document[_0x577267(0x18a)]('td');_0x12e939[_0x577267(0x194)](document[_0x577267(0x1b0)](_0x1f2002[_0x577267(0x1b4)])),_0x1530bc[_0x577267(0x194)](_0x12e939);const _0x17f619=document[_0x577267(0x18a)]('td'),_0x1aa0a9=_0x344696['NtXxi'](getAccountType);if(_0x344696[_0x577267(0x199)](_0x1aa0a9,_0x344696['urWqi'])||_0x344696['ZuigL'](_0x1f2002[_0x577267(0x1b4)],'company')){const _0x254f80=document[_0x577267(0x18a)](_0x344696[_0x577267(0x171)]);_0x254f80[_0x577267(0x19f)]=_0x344696[_0x577267(0x197)],_0x254f80[_0x577267(0x180)](_0x344696[_0x577267(0x18d)],async function(){const _0x447afa=_0x577267,_0x3feb19=await _0x344696[_0x447afa(0x16f)](removeBlacklistEntry,_0x1f2002[_0x447afa(0x19d)],_0x1f2002[_0x447afa(0x184)],_0x1f2002['scope']);_0x3feb19&&_0x46b91f[_0x447afa(0x1ba)](_0x1530bc);}),_0x17f619[_0x577267(0x194)](_0x254f80);}_0x1530bc[_0x577267(0x194)](_0x17f619),_0x46b91f[_0x577267(0x194)](_0x1530bc);}export async function addBlacklistEntry(_0x597bf6,_0x28907a,_0x275558){const _0x98ec2d=a0_0x416f,_0x12c68f={'YlnVm':_0x98ec2d(0x1bd),'OiBTw':function(_0x5794e1,_0x4788d8){return _0x5794e1===_0x4788d8;},'xfKpl':_0x98ec2d(0x17a),'DpjBS':_0x98ec2d(0x188),'nXKvK':function(_0x42690d,_0x2585ab){return _0x42690d(_0x2585ab);},'UTVbC':_0x98ec2d(0x1a8),'DmQGM':function(_0x56f357,_0x11fcfb){return _0x56f357-_0x11fcfb;},'eoreg':function(_0x57c42a,_0x3e6a64,_0x3ce49d,_0x168610){return _0x57c42a(_0x3e6a64,_0x3ce49d,_0x168610);}},_0xe69eba={'type':_0x597bf6,'value':_0x28907a,'scope':_0x275558},_0x42893b=await updateBlacklistInDatabase(_0xe69eba,_0x12c68f[_0x98ec2d(0x17b)]);if(!_0x42893b||_0x12c68f[_0x98ec2d(0x18b)](_0x42893b[_0x98ec2d(0x17d)],0x0)){a0_0xd2e9d2[_0x98ec2d(0x1af)](_0x12c68f[_0x98ec2d(0x19b)],_0x12c68f[_0x98ec2d(0x1bf)]);return;}_0x12c68f[_0x98ec2d(0x181)](updateBlacklistInStorage,_0x42893b);const _0x4db19e=document[_0x98ec2d(0x1b2)](_0x12c68f[_0x98ec2d(0x192)]),_0x51948a=_0x12c68f[_0x98ec2d(0x1ad)](_0x4db19e['rows']['length'],0x1);_0x12c68f[_0x98ec2d(0x1a7)](addRowToTable,_0x4db19e,_0xe69eba,_0x51948a);}