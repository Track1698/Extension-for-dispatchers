(function(_0x3a483b,_0x48ab78){const _0x34e0e7=a0_0x2d6f,_0x1f4d7b=_0x3a483b();while(!![]){try{const _0x33a102=-parseInt(_0x34e0e7(0x206))/0x1+parseInt(_0x34e0e7(0x1e4))/0x2+-parseInt(_0x34e0e7(0x1c4))/0x3*(parseInt(_0x34e0e7(0x1c0))/0x4)+parseInt(_0x34e0e7(0x1ec))/0x5*(parseInt(_0x34e0e7(0x1ce))/0x6)+-parseInt(_0x34e0e7(0x1eb))/0x7*(-parseInt(_0x34e0e7(0x1c6))/0x8)+-parseInt(_0x34e0e7(0x1d4))/0x9+parseInt(_0x34e0e7(0x1e5))/0xa;if(_0x33a102===_0x48ab78)break;else _0x1f4d7b['push'](_0x1f4d7b['shift']());}catch(_0x595994){_0x1f4d7b['push'](_0x1f4d7b['shift']());}}}(a0_0x4b84,0x9457b));import a0_0x3d8bca from'./alerts.js';import{backendAddress}from'./main.js';function a0_0x4b84(){const _0x2bd3d7=['AIxLb','hFzxH','POST','cPmPk','1973896qjHVxw','1997850xIxreA','blacklist','DBgmn','status','JQkIT','delete-table-row-button','6537391eALBze','41965CQYYmJ','className','rows','vtuka','Error\x20in\x20loadBlacklist:','raAIc','personal','CSsOi','stringify','createElement','error','button','kllxV','ofzkH','add','storage','IRdKI','YQbDg','scope','Storage\x20Error','getElementById','ioKrY','runtime','WLHRg','lastError','ctkUG','342384UHMEOY','ohLRe','application/json','vAXPp','YYpWD','Error\x20retrieving\x20blacklist\x20data\x20from\x20storage','appendChild','value','/api/updateblacklist','ehXiw','addBlacklistItemScopeInput','Rxajc','click','NVhLI','Error\x20in\x20updateBlacklistInStorage:','Yxsya','AJMbR','2732VkSWWE','kLHkG','manager','ZIEgu','2817NUJaTd','Error\x20saving\x20blacklist\x20to\x20storage','8YnwnqX','Error\x20updating\x20item\x20in\x20blacklist','set','pWpQV','isArray','Error','createTextNode','Error\x20updating\x20blacklist:','186AoeIyF','Server\x20responded\x20with\x20status\x20','sort','nWqvs','json','Could\x20not\x20remove\x20entry\x20from\x20database','7105473WBncqc','addEventListener','JjLJi','local','removeChild','length','Bplpi','Error\x20loading\x20blacklist','AtVpP','company','type','Could\x20not\x20add\x20entry\x20to\x20database'];a0_0x4b84=function(){return _0x2bd3d7;};return a0_0x4b84();}import{getEmail,getCompanyName,getLoginKey,getAccountType}from'./state.js';export function populateBlacklistTable(_0x551af4){const _0x4cb1f2=a0_0x2d6f,_0x2fc9ba={'IRdKI':function(_0x3f7a93,_0x2eea77){return _0x3f7a93!==_0x2eea77;},'ehXiw':function(_0x856f5,_0x30ad46){return _0x856f5===_0x30ad46;},'NVhLI':_0x4cb1f2(0x1f2),'UPVjt':'tableBody','JjLJi':function(_0x4a8e30,_0x4e15bd){return _0x4a8e30>_0x4e15bd;},'vtuka':function(_0x1f0556,_0x157528,_0xb46f1f,_0x25af22){return _0x1f0556(_0x157528,_0xb46f1f,_0x25af22);}},_0x6bef3=document[_0x4cb1f2(0x200)](_0x2fc9ba['UPVjt']);while(_0x2fc9ba[_0x4cb1f2(0x1d6)](_0x6bef3[_0x4cb1f2(0x1ee)][_0x4cb1f2(0x1d9)],0x1)){_0x6bef3['deleteRow'](0x1);}Array[_0x4cb1f2(0x1ca)](_0x551af4)?(_0x551af4[_0x4cb1f2(0x1d0)]((_0x4dd7a6,_0x1b820a)=>{const _0xd2d1c9=_0x4cb1f2;if(_0x4dd7a6[_0xd2d1c9(0x1fe)]===_0xd2d1c9(0x1f2)&&_0x2fc9ba['IRdKI'](_0x1b820a[_0xd2d1c9(0x1fe)],_0xd2d1c9(0x1f2)))return-0x1;if(_0x2fc9ba[_0xd2d1c9(0x1fc)](_0x4dd7a6[_0xd2d1c9(0x1fe)],_0xd2d1c9(0x1f2))&&_0x2fc9ba[_0xd2d1c9(0x20f)](_0x1b820a['scope'],_0x2fc9ba[_0xd2d1c9(0x213)]))return 0x1;return 0x0;}),_0x551af4['forEach']((_0x4a8cc9,_0xc199cd)=>{addRowToTable(_0x6bef3,_0x4a8cc9,_0xc199cd);})):_0x2fc9ba[_0x4cb1f2(0x1ef)](addRowToTable,_0x6bef3,_0x551af4,0x0);}export function loadBlacklist(){const _0x9a9841=a0_0x2d6f,_0x27b9d4={'WLHRg':_0x9a9841(0x20b),'vAXPp':_0x9a9841(0x1ff),'hvCKY':function(_0x5252fb,_0x5ec380){return _0x5252fb(_0x5ec380);},'ctkUG':function(_0xd72540){return _0xd72540();},'Rxajc':function(_0x1d1ac6,_0x59ce0a){return _0x1d1ac6!==_0x59ce0a;},'nWqvs':'manager','JQkIT':_0x9a9841(0x210),'ofzkH':_0x9a9841(0x1e6),'ioKrY':_0x9a9841(0x1f0),'DBgmn':_0x9a9841(0x1db)},_0xe45eec=_0x27b9d4[_0x9a9841(0x205)](getAccountType);_0x27b9d4[_0x9a9841(0x211)](_0xe45eec,_0x27b9d4[_0x9a9841(0x1d1)])&&(document['getElementById'](_0x27b9d4[_0x9a9841(0x1e9)])['disabled']=!![]);try{chrome[_0x9a9841(0x1fb)][_0x9a9841(0x1d7)]['get'](_0x27b9d4[_0x9a9841(0x1f9)],_0x2e027c=>{const _0x38d9da=_0x9a9841;if(chrome['runtime'][_0x38d9da(0x204)]){a0_0x3d8bca[_0x38d9da(0x1f6)](_0x27b9d4[_0x38d9da(0x203)],_0x27b9d4[_0x38d9da(0x209)]);return;}const _0x576074=_0x2e027c['blacklist']||{},_0x419ea3=Object['values'](_0x576074);_0x27b9d4['hvCKY'](populateBlacklistTable,_0x419ea3);});}catch(_0x148a98){console['error'](_0x27b9d4[_0x9a9841(0x201)],_0x148a98),a0_0x3d8bca['error'](_0x27b9d4[_0x9a9841(0x1e7)],_0x9a9841(0x1cb));}}export async function removeBlacklistEntry(_0x52b846,_0x371ad9,_0x3832ad){const _0x3e97a9=a0_0x2d6f,_0x382c73={'eGeIU':function(_0x5d33bc,_0x71257b,_0x448d3f){return _0x5d33bc(_0x71257b,_0x448d3f);},'kllxV':'remove','YYpWD':function(_0x25cc28,_0x5b72f1){return _0x25cc28===_0x5b72f1;},'Bplpi':_0x3e97a9(0x1d3),'CSsOi':_0x3e97a9(0x1cb),'hFzxH':function(_0x2044ff,_0x123e27){return _0x2044ff(_0x123e27);}},_0x395ee8={'type':_0x52b846,'value':_0x371ad9,'scope':_0x3832ad},_0x24f300=await _0x382c73['eGeIU'](updateBlacklistInDatabase,_0x395ee8,_0x382c73[_0x3e97a9(0x1f8)]);if(!_0x24f300||_0x382c73[_0x3e97a9(0x20a)](_0x24f300[_0x3e97a9(0x1d9)],0x0))return a0_0x3d8bca[_0x3e97a9(0x1f6)](_0x382c73[_0x3e97a9(0x1da)],_0x382c73[_0x3e97a9(0x1f3)]),![];return _0x382c73[_0x3e97a9(0x1e1)](updateBlacklistInStorage,_0x24f300),!![];}export async function updateBlacklistInDatabase(_0x443fc4,_0x16b75f){const _0x56faea=a0_0x2d6f,_0x2d2f47={'HhTcC':function(_0x2cdcc5){return _0x2cdcc5();},'AIxLb':function(_0x43b10e){return _0x43b10e();},'cJiGW':function(_0x5320f0,_0x55b507,_0x1badca){return _0x5320f0(_0x55b507,_0x1badca);},'JojAV':_0x56faea(0x1e2),'SPXyB':_0x56faea(0x1cb)};try{const _0x3b9420=getEmail(),_0x4a3ae1=_0x2d2f47['HhTcC'](getCompanyName),_0x31ea83=_0x2d2f47[_0x56faea(0x1e0)](getLoginKey),_0x2a4ad5=backendAddress+_0x56faea(0x20e),_0x5188ca={'companyName':_0x4a3ae1,'email':_0x3b9420,'loginKey':_0x31ea83,'type':_0x443fc4[_0x56faea(0x1de)],'value':_0x443fc4[_0x56faea(0x20d)],'scope':_0x443fc4[_0x56faea(0x1fe)],'action':_0x16b75f},_0x35c964=await _0x2d2f47['cJiGW'](fetch,_0x2a4ad5,{'method':_0x2d2f47['JojAV'],'headers':{'Content-Type':_0x56faea(0x208)},'body':JSON[_0x56faea(0x1f4)](_0x5188ca)});if(!_0x35c964['ok']){const _0x2eee2f=_0x56faea(0x1cf)+_0x35c964[_0x56faea(0x1e8)];throw new Error(_0x2eee2f);}const _0x95ed71=await _0x35c964[_0x56faea(0x1d2)]();return _0x95ed71[_0x56faea(0x1e6)];}catch(_0x1ae90d){return console[_0x56faea(0x1f6)](_0x56faea(0x1cd),_0x1ae90d),a0_0x3d8bca[_0x56faea(0x1f6)](_0x56faea(0x1c7),_0x2d2f47['SPXyB']),[];}}function a0_0x2d6f(_0x7aeb6e,_0x31f58b){const _0x4b845f=a0_0x4b84();return a0_0x2d6f=function(_0x2d6f3a,_0x47399e){_0x2d6f3a=_0x2d6f3a-0x1be;let _0x35c99c=_0x4b845f[_0x2d6f3a];return _0x35c99c;},a0_0x2d6f(_0x7aeb6e,_0x31f58b);}export function updateBlacklistInStorage(_0x14aac0){const _0x473a29=a0_0x2d6f,_0x25944b={'BJySl':_0x473a29(0x1ff)};try{chrome['storage'][_0x473a29(0x1d7)][_0x473a29(0x1c8)]({'blacklist':_0x14aac0},function(){const _0x3e833f=_0x473a29;chrome[_0x3e833f(0x202)][_0x3e833f(0x204)]&&a0_0x3d8bca['error'](_0x3e833f(0x1c5),_0x25944b['BJySl']);});}catch(_0xa5994c){console[_0x473a29(0x1f6)](_0x473a29(0x214),_0xa5994c),a0_0x3d8bca[_0x473a29(0x1f6)]('Error\x20updating\x20storage',_0x25944b['BJySl']);}}export function addRowToTable(_0x514bf2,_0x14097b,_0x5be2e3){const _0x1597a9=a0_0x2d6f,_0x3177e6={'ZIEgu':function(_0x481aeb,_0x3abafb,_0x2c48bd,_0x34c80b){return _0x481aeb(_0x3abafb,_0x2c48bd,_0x34c80b);},'jAlWz':function(_0x1b0d59,_0x6e5170){return _0x1b0d59+_0x6e5170;},'ohLRe':function(_0x3eca55,_0x4ce473){return _0x3eca55===_0x4ce473;},'kLHkG':_0x1597a9(0x1c2),'YkbUU':_0x1597a9(0x1dd),'pWpQV':_0x1597a9(0x1f7),'YQbDg':_0x1597a9(0x1ea),'AJMbR':_0x1597a9(0x212)},_0x22573c=_0x3177e6['jAlWz'](_0x5be2e3,0x1),_0x5c03c6=document['createElement']('tr'),_0x5dd9de={'numbering':_0x22573c,..._0x14097b},_0x2a9ec9=document['createElement']('td');_0x2a9ec9[_0x1597a9(0x20c)](document['createTextNode'](_0x22573c)),_0x5c03c6[_0x1597a9(0x20c)](_0x2a9ec9);const _0x24a6e5=document['createElement']('td');_0x24a6e5[_0x1597a9(0x20c)](document['createTextNode'](_0x5dd9de[_0x1597a9(0x1de)])),_0x5c03c6['appendChild'](_0x24a6e5);const _0x3036d0=document[_0x1597a9(0x1f5)]('td');_0x3036d0[_0x1597a9(0x20c)](document['createTextNode'](_0x5dd9de[_0x1597a9(0x20d)])),_0x5c03c6['appendChild'](_0x3036d0);const _0xa07987=document[_0x1597a9(0x1f5)]('td');_0xa07987['appendChild'](document[_0x1597a9(0x1cc)](_0x5dd9de[_0x1597a9(0x1fe)])),_0x5c03c6[_0x1597a9(0x20c)](_0xa07987);const _0x150c00=document['createElement']('td'),_0x3ae37a=getAccountType();if(_0x3177e6[_0x1597a9(0x207)](_0x3ae37a,_0x3177e6[_0x1597a9(0x1c1)])||_0x5dd9de['scope']!==_0x3177e6['YkbUU']){const _0x22c322=document[_0x1597a9(0x1f5)](_0x3177e6[_0x1597a9(0x1c9)]);_0x22c322[_0x1597a9(0x1ed)]=_0x3177e6[_0x1597a9(0x1fd)],_0x22c322[_0x1597a9(0x1d5)](_0x3177e6[_0x1597a9(0x1bf)],async function(){const _0x337df8=_0x1597a9,_0x3b9898=await _0x3177e6[_0x337df8(0x1c3)](removeBlacklistEntry,_0x5dd9de[_0x337df8(0x1de)],_0x5dd9de[_0x337df8(0x20d)],_0x5dd9de['scope']);_0x3b9898&&_0x514bf2[_0x337df8(0x1d8)](_0x5c03c6);}),_0x150c00[_0x1597a9(0x20c)](_0x22c322);}_0x5c03c6['appendChild'](_0x150c00),_0x514bf2[_0x1597a9(0x20c)](_0x5c03c6);}export async function addBlacklistEntry(_0x50d512,_0x54e456,_0x2488aa){const _0x5a03ed=a0_0x2d6f,_0x14f43d={'Yxsya':function(_0x3f3c35,_0x4d9e1c,_0x43ba3d){return _0x3f3c35(_0x4d9e1c,_0x43ba3d);},'WJqkH':_0x5a03ed(0x1fa),'xsuaN':function(_0x633973,_0x28d05f){return _0x633973===_0x28d05f;},'opoBT':_0x5a03ed(0x1df),'raAIc':_0x5a03ed(0x1cb),'AtVpP':'tableBody','cPmPk':function(_0x5ad2dc,_0x426907){return _0x5ad2dc-_0x426907;},'TfoCc':function(_0x25dacc,_0x426633,_0x20dae2,_0x229c86){return _0x25dacc(_0x426633,_0x20dae2,_0x229c86);}},_0x213913={'type':_0x50d512,'value':_0x54e456,'scope':_0x2488aa},_0xd1f7bd=await _0x14f43d[_0x5a03ed(0x1be)](updateBlacklistInDatabase,_0x213913,_0x14f43d['WJqkH']);if(!_0xd1f7bd||_0x14f43d['xsuaN'](_0xd1f7bd['length'],0x0)){a0_0x3d8bca[_0x5a03ed(0x1f6)](_0x14f43d['opoBT'],_0x14f43d[_0x5a03ed(0x1f1)]);return;}updateBlacklistInStorage(_0xd1f7bd);const _0x4acfa5=document[_0x5a03ed(0x200)](_0x14f43d[_0x5a03ed(0x1dc)]),_0x3c1ce4=_0x14f43d[_0x5a03ed(0x1e3)](_0x4acfa5['rows'][_0x5a03ed(0x1d9)],0x1);_0x14f43d['TfoCc'](addRowToTable,_0x4acfa5,_0x213913,_0x3c1ce4);}