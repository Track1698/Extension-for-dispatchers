const a0_0x20212e=a0_0x15dd;(function(_0xb9cbd9,_0x4f1bb3){const _0x1f48da=a0_0x15dd,_0x267a2e=_0xb9cbd9();while(!![]){try{const _0x1ea60e=-parseInt(_0x1f48da(0x1e9))/0x1+-parseInt(_0x1f48da(0x194))/0x2+parseInt(_0x1f48da(0x19a))/0x3+parseInt(_0x1f48da(0x197))/0x4*(parseInt(_0x1f48da(0x1d2))/0x5)+-parseInt(_0x1f48da(0x193))/0x6+parseInt(_0x1f48da(0x1b3))/0x7*(parseInt(_0x1f48da(0x1d8))/0x8)+parseInt(_0x1f48da(0x190))/0x9;if(_0x1ea60e===_0x4f1bb3)break;else _0x267a2e['push'](_0x267a2e['shift']());}catch(_0x5dc5b9){_0x267a2e['push'](_0x267a2e['shift']());}}}(a0_0x12d7,0x8a200));import a0_0x48371e from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';function a0_0x12d7(){const _0x244bbe=['Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','submit','OEbRb','6874407GXrqka','kdOhj','data','3043380yYNrRS','336474pcMwOV','lHHuc','wEJmu','127644DdyaFu','userId','AXZwC','1414941TNFOtt','vlPjP','authToken','local','forEach','WmjGf','JBNgB','items','warning','lsbWD','stringify','ArrowRight','children','tjQle','XRSZs','display','HSqeJ','email','LQmFR','UaQYG','getElementById','remove','change-password-form','blacklist','IeGRg','21lvCUFJ','JGLwR','findIndex','/api/telegramcode','/api/updateblacklist','companyId','Backspace','charAt','eHMly','value','OSZRK','Password\x20changed\x20successfully','controlElement','log','uxDdA','Error','telegramPopup','EPOMi','3|1|5|2|0|4','pgBAs','removeItem','flex','split','Hunje','pcDsq','Dqloh','Error\x20adding\x20item\x20to\x20blacklist','XFPiD','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','vzPac','telegramId','30bqLIxe','keydown','info','EVVTU','dgAfI','Telegram\x20connected\x20successfully!','2289936EdvWBy','from','WSGKC','nVKxj','uzTLa','Telegram\x20connection\x20failed.','json','OnTxu','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','VyMmp','text','authToken:\x20','WIXVN','test','cCQyt','address','current-password','1044435GMzVul','storage','telegramVerifyButton','confirm-password','YJOeL','vxqhz','Please\x20enter\x20a\x20valid\x20numeric\x20code.','clipboardData','min','focus','searchFormElement','new-password','style','key','iXKIH','message','POST','click','error','application/json','getData','ArrowLeft','verification-input','/api/changepassword','HSeqJ','UhaDL','addEventListener','XRVPV','length','Error\x20fetching\x20suggestions:','hFnee','tDDGI','AmTsE'];a0_0x12d7=function(){return _0x244bbe;};return a0_0x12d7();}export function logout(){const _0x461f9f=a0_0x15dd,_0x127e9c={'eHMly':_0x461f9f(0x19c),'EVVTU':_0x461f9f(0x1ab),'WmjGf':_0x461f9f(0x1b1),'DDNde':'searches'};chrome[_0x461f9f(0x1ea)][_0x461f9f(0x19d)][_0x461f9f(0x1af)]([_0x127e9c[_0x461f9f(0x1bb)],_0x127e9c[_0x461f9f(0x1d5)],_0x461f9f(0x1b8),_0x127e9c[_0x461f9f(0x19f)],_0x127e9c['DDNde']],()=>{const _0xe6fc24=_0x461f9f;a0_0x48371e[_0xe6fc24(0x1d4)]('Logged\x20out\x20successfully.');});}export async function sendTelegramCodeToBackend(_0x144fdc){const _0x1334e8=a0_0x15dd,_0x2ed840={'uzTLa':function(_0x3fcc26){return _0x3fcc26();},'tDDGI':function(_0x68fb5c){return _0x68fb5c();},'JBNgB':function(_0x5ca1db,_0x1680aa,_0x221999){return _0x5ca1db(_0x1680aa,_0x221999);},'NCLGV':function(_0x33d04b,_0x273573,_0x513eb4){return _0x33d04b(_0x273573,_0x513eb4);},'SnfuV':_0x1334e8(0x1d1),'HSeqJ':_0x1334e8(0x1dd)};try{const _0x536ba2=_0x2ed840[_0x1334e8(0x1dc)](getEmail),_0x3a1098=_0x2ed840[_0x1334e8(0x18b)](getLoginKey),_0x436b80=await _0x2ed840[_0x1334e8(0x1a0)](fetch,backendAddress+_0x1334e8(0x1b6),{'method':_0x1334e8(0x1f9),'headers':{'Content-Type':_0x1334e8(0x17f)},'body':JSON[_0x1334e8(0x1a4)]({'email':_0x536ba2,'code':_0x144fdc,'loginKey':_0x3a1098})}),_0x482a06=await _0x436b80[_0x1334e8(0x1de)]();if(_0x482a06['success'])_0x2ed840['NCLGV'](saveToLocal,_0x2ed840['SnfuV'],_0x482a06[_0x1334e8(0x198)]),a0_0x48371e['success'](_0x1334e8(0x1d7));else throw new Error(_0x482a06['message']||_0x2ed840[_0x1334e8(0x184)]);}catch(_0x4790da){a0_0x48371e[_0x1334e8(0x17e)](_0x4790da[_0x1334e8(0x1f8)]);}}function a0_0x15dd(_0x55aace,_0x53a835){const _0x12d774=a0_0x12d7();return a0_0x15dd=function(_0x15ddd1,_0x2a5a57){_0x15ddd1=_0x15ddd1-0x17e;let _0x1dc0f6=_0x12d774[_0x15ddd1];return _0x1dc0f6;},a0_0x15dd(_0x55aace,_0x53a835);}export function showTelegramPopup(){const _0x5ac73c=a0_0x15dd,_0x42e6da={'UhaDL':function(_0x596165,_0x500b0a){return _0x596165===_0x500b0a;},'dgAfI':function(_0x44c46a,_0x3faa62){return _0x44c46a>_0x3faa62;},'qjjZW':function(_0x4a9edd,_0x112e43){return _0x4a9edd-_0x112e43;},'hFnee':function(_0x3137a1,_0x269b40){return _0x3137a1<_0x269b40;},'WIXVN':function(_0x513453,_0x2c5e4b){return _0x513453+_0x2c5e4b;},'UaQYG':function(_0x4331cf,_0x19b623){return _0x4331cf+_0x19b623;},'AIWoS':function(_0x3341b7,_0x353875){return _0x3341b7===_0x353875;},'vlPjP':_0x5ac73c(0x181),'vzPac':function(_0x455ddf,_0xd9ab1){return _0x455ddf>_0xd9ab1;},'MEOYz':function(_0x23192d,_0x119c70){return _0x23192d-_0x119c70;},'lsbWD':_0x5ac73c(0x1a5),'yxTlW':function(_0x21b66f,_0x5e65d2){return _0x21b66f-_0x5e65d2;},'uxDdA':function(_0x3a8060){return _0x3a8060();},'HSqeJ':_0x5ac73c(0x1e2),'AmTsE':function(_0x1ba631,_0x520a54){return _0x1ba631!==_0x520a54;},'pcDsq':function(_0x1fda32,_0x46dcac){return _0x1fda32-_0x46dcac;},'zLCTV':function(_0x6acb56,_0x54d0af){return _0x6acb56!==_0x54d0af;},'cCQyt':_0x5ac73c(0x1d3),'lHHuc':'input','WSGKC':_0x5ac73c(0x1f2),'tjQle':_0x5ac73c(0x1c3),'OnTxu':_0x5ac73c(0x1eb)},_0x4d8b51=document[_0x5ac73c(0x1ae)](_0x42e6da[_0x5ac73c(0x1a7)]),_0x18a2c0=document[_0x5ac73c(0x1ae)](_0x42e6da[_0x5ac73c(0x1df)]);_0x4d8b51[_0x5ac73c(0x1f5)][_0x5ac73c(0x1a9)]=_0x5ac73c(0x1c8);const _0x90431a=Array[_0x5ac73c(0x1d9)](document['getElementById'](_0x5ac73c(0x182))[_0x5ac73c(0x1a6)]);function _0x4bc71b(){const _0x15e098=_0x5ac73c;return _0x90431a[_0x15e098(0x1b5)](_0xb499ff=>_0xb499ff[_0x15e098(0x1bc)]==='');}_0x90431a[_0x5ac73c(0x19e)]((_0x3fa5df,_0x5eb570)=>{const _0x180289=_0x5ac73c;_0x3fa5df['addEventListener'](_0x42e6da[_0x180289(0x1e6)],_0x344d5c=>{const _0x2e3f4b=_0x180289;if(_0x42e6da[_0x2e3f4b(0x185)](_0x344d5c['key'],_0x2e3f4b(0x1b9))){_0x42e6da[_0x2e3f4b(0x185)](_0x3fa5df[_0x2e3f4b(0x1bc)],'')&&_0x42e6da['dgAfI'](_0x5eb570,0x0)&&(_0x90431a[_0x42e6da['qjjZW'](_0x5eb570,0x1)][_0x2e3f4b(0x1bc)]='',_0x90431a[_0x42e6da['qjjZW'](_0x5eb570,0x1)][_0x2e3f4b(0x1f2)]());for(let _0x4743d7=_0x5eb570;_0x42e6da[_0x2e3f4b(0x18a)](_0x4743d7,_0x90431a[_0x2e3f4b(0x188)]);_0x4743d7++){let _0x214f1c=_0x90431a[_0x42e6da[_0x2e3f4b(0x1e4)](_0x4743d7,0x1)]?_0x90431a[_0x42e6da[_0x2e3f4b(0x1ad)](_0x4743d7,0x1)][_0x2e3f4b(0x1bc)]:'';_0x90431a[_0x4743d7]['setRangeText'](_0x214f1c,0x0,0x1,'start');}}_0x42e6da['AIWoS'](_0x344d5c[_0x2e3f4b(0x1f6)],_0x42e6da[_0x2e3f4b(0x19b)])&&_0x42e6da[_0x2e3f4b(0x1d0)](_0x5eb570,0x0)&&_0x90431a[_0x42e6da['MEOYz'](_0x5eb570,0x1)][_0x2e3f4b(0x1f2)](),_0x42e6da['AIWoS'](_0x344d5c['key'],_0x42e6da[_0x2e3f4b(0x1a3)])&&_0x5eb570<_0x42e6da['yxTlW'](_0x90431a[_0x2e3f4b(0x188)],0x1)&&_0x90431a[_0x5eb570+0x1][_0x2e3f4b(0x1f2)]();}),_0x3fa5df[_0x180289(0x186)](_0x42e6da[_0x180289(0x195)],_0x2b47af=>{const _0x31c46a=_0x180289;_0x3fa5df[_0x31c46a(0x1bc)]='';const _0x590cbd=_0x42e6da[_0x31c46a(0x1c1)](_0x4bc71b);_0x90431a[_0x590cbd][_0x31c46a(0x1bc)]=_0x2b47af[_0x31c46a(0x192)];if(_0x42e6da[_0x31c46a(0x18a)](_0x590cbd+0x1,_0x90431a[_0x31c46a(0x188)]))_0x90431a[_0x590cbd+0x1][_0x31c46a(0x1f2)]();}),_0x3fa5df['addEventListener']('paste',_0x24093f=>{const _0x265b30=_0x180289;_0x24093f['preventDefault']();const _0x1ae5a1=(event[_0x265b30(0x1f0)]||window[_0x265b30(0x1f0)])[_0x265b30(0x180)](_0x42e6da[_0x265b30(0x1aa)]),_0x3ea0ea=_0x42e6da[_0x265b30(0x1c1)](_0x4bc71b),_0x37ff82=_0x42e6da[_0x265b30(0x18c)](_0x3ea0ea,-0x1)?Math[_0x265b30(0x1f1)](_0x5eb570,_0x3ea0ea):_0x5eb570;for(let _0x5f355e=0x0;_0x42e6da['hFnee'](_0x42e6da[_0x265b30(0x1ad)](_0x37ff82,_0x5f355e),_0x90431a[_0x265b30(0x188)])&&_0x5f355e<_0x1ae5a1['length'];_0x5f355e++){_0x90431a[_0x37ff82+_0x5f355e][_0x265b30(0x1bc)]=_0x1ae5a1[_0x265b30(0x1ba)](_0x5f355e);}_0x90431a[Math[_0x265b30(0x1f1)](_0x37ff82+_0x1ae5a1['length'],_0x42e6da[_0x265b30(0x1cb)](_0x90431a[_0x265b30(0x188)],0x1))]['focus']();}),_0x3fa5df[_0x180289(0x186)](_0x42e6da[_0x180289(0x1da)],()=>{const _0x2a6dee=_0x180289,_0x50cfb7=_0x42e6da[_0x2a6dee(0x1c1)](_0x4bc71b);if(_0x42e6da['zLCTV'](_0x50cfb7,-0x1)&&_0x42e6da[_0x2a6dee(0x1d6)](_0x5eb570,_0x50cfb7))_0x90431a[_0x50cfb7][_0x2a6dee(0x1f2)]();});}),_0x18a2c0['addEventListener'](_0x5ac73c(0x1fa),function(){const _0x1a01eb=_0x5ac73c,_0x27fac1=_0x90431a['map'](_0x4cce1e=>_0x4cce1e[_0x1a01eb(0x1bc)])['join']('');/^\d+$/[_0x1a01eb(0x1e5)](_0x27fac1)?sendTelegramCodeToBackend(_0x27fac1):a0_0x48371e[_0x1a01eb(0x1a2)](_0x1a01eb(0x1ef));});}export async function fetchSuggestions(_0x59188d){const _0x2ab6d0=a0_0x15dd,_0x1257a6={'wEJmu':_0x2ab6d0(0x1f3),'HZjcJ':function(_0x301f3a){return _0x301f3a();},'JGLwR':_0x2ab6d0(0x1e3),'svrjW':'POST','AXZwC':_0x2ab6d0(0x17f),'Hunje':_0x2ab6d0(0x1c5),'Dqloh':_0x2ab6d0(0x18d),'YJOeL':_0x2ab6d0(0x1c2),'kdOhj':_0x2ab6d0(0x189),'XRVPV':_0x2ab6d0(0x19c)},_0xba8727=document[_0x2ab6d0(0x1ae)](_0x1257a6[_0x2ab6d0(0x196)]),_0x22bd44=document[_0x2ab6d0(0x1ae)](_0x2ab6d0(0x1bf)),_0x3008b4=_0x1257a6['HZjcJ'](getAuthToken);try{const _0x42ca26=backendAddress+'/api/autocomplete',_0x396616={'apiKey':_0x3008b4,'term':_0x59188d};console[_0x2ab6d0(0x1c0)](_0x1257a6[_0x2ab6d0(0x1b4)],_0x3008b4);const _0x4f9641=await fetch(_0x42ca26,{'method':_0x1257a6['svrjW'],'headers':{'Content-Type':_0x1257a6[_0x2ab6d0(0x199)]},'body':JSON[_0x2ab6d0(0x1a4)](_0x396616)}),_0x451726=await _0x4f9641[_0x2ab6d0(0x1de)]();return _0x451726[_0x2ab6d0(0x1a1)];}catch(_0x47915c){const _0x2806d4=_0x1257a6[_0x2ab6d0(0x1ca)][_0x2ab6d0(0x1c9)]('|');let _0x10eab5=0x0;while(!![]){switch(_0x2806d4[_0x10eab5++]){case'0':makeItAppear(_0x22bd44);continue;case'1':a0_0x48371e[_0x2ab6d0(0x17e)](_0x1257a6[_0x2ab6d0(0x1cc)],_0x1257a6[_0x2ab6d0(0x1ed)]);continue;case'2':makeItDisappear(_0xba8727);continue;case'3':console[_0x2ab6d0(0x17e)](_0x1257a6[_0x2ab6d0(0x191)],_0x47915c);continue;case'4':return[];case'5':localStorage[_0x2ab6d0(0x1c7)](_0x1257a6[_0x2ab6d0(0x187)]);continue;}break;}}}export async function updateBlacklistInDatabase(_0x34c1fd,_0x5d4918){const _0x2c9401=a0_0x15dd,_0x454cb4={'hvQqs':function(_0x56d938){return _0x56d938();},'xkWwP':function(_0x222433){return _0x222433();},'IeGRg':function(_0x41e37f,_0x3c378f,_0xd897ec){return _0x41e37f(_0x3c378f,_0xd897ec);},'fzAsf':_0x2c9401(0x1f9),'pgBAs':_0x2c9401(0x17f),'LQmFR':_0x2c9401(0x189),'CAwEk':_0x2c9401(0x1cd),'baLtZ':_0x2c9401(0x1c2)};try{const _0x18de34=_0x454cb4['hvQqs'](getEmail),_0x9cfba8=_0x454cb4['xkWwP'](getCompanyId),_0x17cc1e=backendAddress+_0x2c9401(0x1b7),_0x5aa80b={'companyId':_0x9cfba8,'email':_0x18de34,'name':_0x34c1fd['name'],'address':_0x34c1fd[_0x2c9401(0x1e7)],'action':_0x5d4918},_0x2108ac=await _0x454cb4[_0x2c9401(0x1b2)](fetch,_0x17cc1e,{'method':_0x454cb4['fzAsf'],'headers':{'Content-Type':_0x454cb4[_0x2c9401(0x1c6)]},'body':JSON[_0x2c9401(0x1a4)](_0x5aa80b)}),_0x5cc7ad=await _0x2108ac[_0x2c9401(0x1de)]();return _0x5cc7ad[_0x2c9401(0x1b1)];}catch(_0x5768c0){return console[_0x2c9401(0x17e)](_0x454cb4[_0x2c9401(0x1ac)],_0x5768c0),a0_0x48371e[_0x2c9401(0x17e)](_0x454cb4['CAwEk'],_0x454cb4['baLtZ']),[];}}document['getElementById'](a0_0x20212e(0x1b0))[a0_0x20212e(0x186)](a0_0x20212e(0x18e),async _0x5dc441=>{const _0x2049ae=a0_0x20212e,_0x2e1084={'VyMmp':'change-password-form','iXKIH':_0x2049ae(0x1e8),'OSZRK':_0x2049ae(0x1ec),'nVKxj':function(_0x523b97,_0x15fb52){return _0x523b97!==_0x15fb52;},'XRSZs':_0x2049ae(0x1cf),'XFPiD':function(_0xcd1307){return _0xcd1307();},'OEbRb':function(_0x25c1c1,_0x18a246){return _0x25c1c1||_0x18a246;},'vxqhz':function(_0x1269b7,_0x174d3f,_0x40c319){return _0x1269b7(_0x174d3f,_0x40c319);},'vJUWx':_0x2049ae(0x1f9),'EPOMi':_0x2049ae(0x17f),'BUbUY':_0x2049ae(0x1be),'pWxUa':'Error\x20changing\x20password:','ORdim':'An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.'};_0x5dc441['preventDefault']();const _0x204118=document[_0x2049ae(0x1ae)](_0x2e1084[_0x2049ae(0x1e1)]),_0x16ff49=document[_0x2049ae(0x1ae)](_0x2e1084[_0x2049ae(0x1f7)])[_0x2049ae(0x1bc)],_0x19dd1d=document[_0x2049ae(0x1ae)](_0x2049ae(0x1f4))[_0x2049ae(0x1bc)],_0x2567b2=document[_0x2049ae(0x1ae)](_0x2e1084[_0x2049ae(0x1bd)])['value'];if(_0x2e1084[_0x2049ae(0x1db)](_0x19dd1d,_0x2567b2)){a0_0x48371e['warning'](_0x2e1084[_0x2049ae(0x1a8)]);return;}const _0x43a339=_0x2e1084[_0x2049ae(0x1ce)](getEmail),_0x4a3093=getLoginKey();if(_0x2e1084[_0x2049ae(0x18f)](!_0x43a339,!_0x4a3093)){a0_0x48371e['warning'](_0x2049ae(0x1e0));return;}try{const _0x276f57=await _0x2e1084[_0x2049ae(0x1ee)](fetch,backendAddress+_0x2049ae(0x183),{'method':_0x2e1084['vJUWx'],'headers':{'Content-Type':_0x2e1084[_0x2049ae(0x1c4)]},'body':JSON[_0x2049ae(0x1a4)]({'email':_0x43a339,'loginKey':_0x4a3093,'oldPassword':_0x16ff49,'newPassword':_0x19dd1d})}),_0x49f9a3=await _0x276f57[_0x2049ae(0x1de)]();_0x276f57['ok']?(a0_0x48371e['success'](_0x2e1084['BUbUY']),_0x204118['reset']()):a0_0x48371e['error'](_0x49f9a3[_0x2049ae(0x17e)]||'An\x20error\x20occurred\x20while\x20changing\x20the\x20password.');}catch(_0x187d4d){console[_0x2049ae(0x17e)](_0x2e1084['pWxUa'],_0x187d4d),a0_0x48371e[_0x2049ae(0x17e)](_0x2e1084['ORdim']);}});