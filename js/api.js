const a0_0x3f6b00=a0_0x5eaa;function a0_0x5eaa(_0x1c1311,_0x25ee14){const _0x51a225=a0_0x51a2();return a0_0x5eaa=function(_0x5eaa78,_0x39d5af){_0x5eaa78=_0x5eaa78-0x185;let _0x1816b5=_0x51a225[_0x5eaa78];return _0x1816b5;},a0_0x5eaa(_0x1c1311,_0x25ee14);}function a0_0x51a2(){const _0x24cecd=['An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','FeBBA','XanhE','json','local','jiiRT','Error\x20changing\x20password:','input','Please\x20enter\x20a\x20valid\x20numeric\x20code.','Telegram\x20connected\x20successfully!','ArrowLeft','FIRDT','9217230bSIAou','1632yQFmrR','/api/changepassword','authToken','children','GUeqV','remove','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','join','lnReB','rOKwt','rPXZw','ouhLZ','companyId','OVfoT','focus','jgepY','DRKTx','GjzZJ','nwlmy','lbvHT','WmXPx','VJrJq','URGMr','keydown','from','click','aBfoN','sAfho','split','103764fAUQxc','storage','POST','3|2|0|1|4|5','716022YONjxO','EajBP','QXlTE','addEventListener','eAxRg','DfbOb','clipboardData','searches','ARkPp','name','OUKzQ','preventDefault','telegramPopup','JmpLv','telegramVerifyButton','2664656brNjpf','Telegram\x20connection\x20failed.','fhpsw','change-password-form','NYFSG','UAeTj','removeItem','KiFDo','iElKW','Error\x20adding\x20item\x20to\x20blacklist','CRdYC','confirm-password','/api/updateblacklist','uQSnx','KxZkT','9904755fIulre','eLydg','map','/api/telegramcode','key','VRIgM','data','TjsFA','text','gDBpT','yYYmV','2849TdCawW','setRangeText','style','info','value','log','warning','email','Logged\x20out\x20successfully.','tWQnz','vgpVD','controlElement','paLmQ','kcCsB','submit','TLzhy','76180uKGZUt','Error','/api/autocomplete','blacklist','telegramId','16HmuXSK','userId','searchFormElement','length','forEach','oyNxe','paste','message','90YkbMSb','getElementById','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','reset','stringify','findIndex','tQsQt','IwlBl','start','min','success','FzMVA','3gHGsrQ','JIjUV','GfJFb','uyDZy','ekhtC','error','application/json','test'];a0_0x51a2=function(){return _0x24cecd;};return a0_0x51a2();}(function(_0x5f3a4b,_0x3a7ebd){const _0x31b5f5=a0_0x5eaa,_0x31847b=_0x5f3a4b();while(!![]){try{const _0x1a3182=-parseInt(_0x31b5f5(0x1de))/0x1+-parseInt(_0x31b5f5(0x185))/0x2*(-parseInt(_0x31b5f5(0x1c8))/0x3)+-parseInt(_0x31b5f5(0x1fb))/0x4*(-parseInt(_0x31b5f5(0x1bc))/0x5)+-parseInt(_0x31b5f5(0x1dd))/0x6+-parseInt(_0x31b5f5(0x194))/0x7+parseInt(_0x31b5f5(0x1b4))/0x8*(parseInt(_0x31b5f5(0x1ff))/0x9)+-parseInt(_0x31b5f5(0x1af))/0xa*(-parseInt(_0x31b5f5(0x19f))/0xb);if(_0x1a3182===_0x3a7ebd)break;else _0x31847b['push'](_0x31847b['shift']());}catch(_0x3524af){_0x31847b['push'](_0x31847b['shift']());}}}(a0_0x51a2,0xeeed2));import a0_0x37814d from'./alerts.js';import{saveToLocal,getFromLocal}from'./storage.js';import{backendAddress}from'./main.js';import{setAuthToken,getAuthToken,setEmail,getEmail,setCompanyId,setLoginKey,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0xfd71e7=a0_0x5eaa,_0x249251={'iElKW':_0xfd71e7(0x1a6),'JIjUV':_0xfd71e7(0x1ea),'GUeqV':_0xfd71e7(0x206)};chrome[_0xfd71e7(0x1fc)][_0xfd71e7(0x1d5)][_0xfd71e7(0x1e3)]([_0xfd71e7(0x1e0),_0x249251[_0xfd71e7(0x18d)],_0x249251[_0xfd71e7(0x1c9)],_0xfd71e7(0x1b2),_0x249251[_0xfd71e7(0x1e2)]],()=>{const _0x253e95=_0xfd71e7;a0_0x37814d[_0x253e95(0x1a2)](_0x253e95(0x1a7));});}export async function sendTelegramCodeToBackend(_0x74940e){const _0x153e4f=a0_0x5eaa,_0x385299={'DfbOb':function(_0x535a13){return _0x535a13();},'wcLcB':function(_0x2ff839,_0x28a5f7,_0x1d367b){return _0x2ff839(_0x28a5f7,_0x1d367b);},'TLzhy':'application/json','TAnyv':function(_0x2013a9,_0x2d53f1,_0x39b760){return _0x2013a9(_0x2d53f1,_0x39b760);},'iTKob':_0x153e4f(0x1b3)};try{const _0x27c6c7=_0x385299[_0x153e4f(0x204)](getEmail),_0x1d2b6c=getLoginKey(),_0x37ecae=await _0x385299['wcLcB'](fetch,backendAddress+_0x153e4f(0x197),{'method':_0x153e4f(0x1fd),'headers':{'Content-Type':_0x385299[_0x153e4f(0x1ae)]},'body':JSON[_0x153e4f(0x1c0)]({'email':_0x27c6c7,'code':_0x74940e,'loginKey':_0x1d2b6c})}),_0x270a76=await _0x37ecae['json']();if(_0x270a76['success'])_0x385299['TAnyv'](saveToLocal,_0x385299['iTKob'],_0x270a76[_0x153e4f(0x1b5)]),a0_0x37814d[_0x153e4f(0x1c6)](_0x153e4f(0x1da));else throw new Error(_0x270a76[_0x153e4f(0x1bb)]||_0x153e4f(0x186));}catch(_0x2a2a79){a0_0x37814d[_0x153e4f(0x1cd)](_0x2a2a79['message']);}}export function showTelegramPopup(){const _0x32e365=a0_0x5eaa,_0x327657={'JwPYI':function(_0x49832a,_0x38849b){return _0x49832a===_0x38849b;},'vgpVD':'Backspace','sAfho':function(_0x1abfc1,_0x210e6e){return _0x1abfc1===_0x210e6e;},'IwlBl':function(_0x5cfecb,_0x440112){return _0x5cfecb-_0x440112;},'GjzZJ':function(_0x3555c1,_0x38f4b2){return _0x3555c1<_0x38f4b2;},'XanhE':function(_0x754f62,_0x86a6ba){return _0x754f62+_0x86a6ba;},'EajBP':_0x32e365(0x1c4),'tQsQt':function(_0xaf98d3,_0x540cd4){return _0xaf98d3>_0x540cd4;},'CRdYC':function(_0x46da08,_0x489590){return _0x46da08===_0x489590;},'NYFSG':'ArrowRight','FIRDT':function(_0x1a9744,_0x5fd884){return _0x1a9744+_0x5fd884;},'vfZDh':function(_0x465f03){return _0x465f03();},'OVfoT':function(_0x9efd8e,_0x95cd40){return _0x9efd8e+_0x95cd40;},'fhpsw':_0x32e365(0x19c),'kcCsB':function(_0x5a214f,_0x66d6af){return _0x5a214f!==_0x66d6af;},'URGMr':function(_0x4a7350,_0x2bf7d9){return _0x4a7350<_0x2bf7d9;},'paLmQ':function(_0xa15402,_0x4945b3){return _0xa15402+_0x4945b3;},'vJsOt':function(_0x18383f,_0x11ec3e){return _0x18383f+_0x11ec3e;},'jgepY':function(_0x4230a0){return _0x4230a0();},'uQSnx':_0x32e365(0x1d8),'rOKwt':_0x32e365(0x1ba),'VRIgM':_0x32e365(0x1ec),'WmXPx':function(_0x3e3bae,_0x4ff1d0){return _0x3e3bae(_0x4ff1d0);},'lnReB':_0x32e365(0x1d9),'eLydg':_0x32e365(0x20b),'TOXrG':_0x32e365(0x20d),'KXhFQ':'flex','fkxnI':'verification-input','GfJFb':_0x32e365(0x1f7)},_0x5510f9=document[_0x32e365(0x1bd)](_0x327657[_0x32e365(0x195)]),_0x3b9ae5=document[_0x32e365(0x1bd)](_0x327657['TOXrG']);_0x5510f9[_0x32e365(0x1a1)]['display']=_0x327657['KXhFQ'];const _0x56585a=Array[_0x32e365(0x1f6)](document[_0x32e365(0x1bd)](_0x327657['fkxnI'])[_0x32e365(0x1e1)]);function _0x2ba96f(){const _0x27096d=_0x32e365;return _0x56585a[_0x27096d(0x1c1)](_0x37d234=>_0x37d234[_0x27096d(0x1a3)]==='');}_0x56585a[_0x32e365(0x1b8)]((_0x5c0632,_0x54db77)=>{const _0x45ed1d=_0x32e365,_0x228762={'nwlmy':function(_0x432d71){const _0x1430f5=a0_0x5eaa;return _0x327657[_0x1430f5(0x1ed)](_0x432d71);},'FzMVA':function(_0x384274,_0x103c3d){return _0x384274!==_0x103c3d;}};_0x5c0632[_0x45ed1d(0x202)](_0x45ed1d(0x1f5),_0x402b8a=>{const _0x572b8b=_0x45ed1d;if(_0x327657['JwPYI'](_0x402b8a[_0x572b8b(0x198)],_0x327657[_0x572b8b(0x1a9)])){_0x327657[_0x572b8b(0x1f9)](_0x5c0632['value'],'')&&_0x54db77>0x0&&(_0x56585a[_0x54db77-0x1][_0x572b8b(0x1a3)]='',_0x56585a[_0x327657[_0x572b8b(0x1c3)](_0x54db77,0x1)][_0x572b8b(0x1ec)]());for(let _0x16f100=_0x54db77;_0x327657[_0x572b8b(0x1ef)](_0x16f100,_0x56585a['length']);_0x16f100++){let _0x33f927=_0x56585a[_0x16f100+0x1]?_0x56585a[_0x327657[_0x572b8b(0x1d3)](_0x16f100,0x1)][_0x572b8b(0x1a3)]:'';_0x56585a[_0x16f100][_0x572b8b(0x1a0)](_0x33f927,0x0,0x1,_0x327657[_0x572b8b(0x200)]);}}_0x327657['sAfho'](_0x402b8a[_0x572b8b(0x198)],_0x572b8b(0x1db))&&_0x327657[_0x572b8b(0x1c2)](_0x54db77,0x0)&&_0x56585a[_0x327657[_0x572b8b(0x1c3)](_0x54db77,0x1)][_0x572b8b(0x1ec)](),_0x327657[_0x572b8b(0x18f)](_0x402b8a[_0x572b8b(0x198)],_0x327657[_0x572b8b(0x189)])&&_0x54db77<_0x327657[_0x572b8b(0x1c3)](_0x56585a[_0x572b8b(0x1b7)],0x1)&&_0x56585a[_0x327657[_0x572b8b(0x1dc)](_0x54db77,0x1)][_0x572b8b(0x1ec)]();}),_0x5c0632['addEventListener'](_0x327657[_0x45ed1d(0x192)],_0x397fba=>{const _0x276b17=_0x45ed1d;_0x5c0632[_0x276b17(0x1a3)]='';const _0x12d49a=_0x327657['vfZDh'](_0x2ba96f);_0x56585a[_0x12d49a][_0x276b17(0x1a3)]=_0x397fba[_0x276b17(0x19a)];if(_0x327657[_0x276b17(0x1ef)](_0x327657[_0x276b17(0x1eb)](_0x12d49a,0x1),_0x56585a[_0x276b17(0x1b7)]))_0x56585a[_0x327657['FIRDT'](_0x12d49a,0x1)]['focus']();}),_0x5c0632[_0x45ed1d(0x202)](_0x327657[_0x45ed1d(0x1e7)],_0x23557d=>{const _0xc358c4=_0x45ed1d;_0x23557d[_0xc358c4(0x20a)]();const _0x48804b=(event[_0xc358c4(0x205)]||window['clipboardData'])['getData'](_0x327657[_0xc358c4(0x187)]),_0x55095d=_0x2ba96f(),_0x3a66ae=_0x327657[_0xc358c4(0x1ac)](_0x55095d,-0x1)?Math[_0xc358c4(0x1c5)](_0x54db77,_0x55095d):_0x54db77;for(let _0x43b68b=0x0;_0x327657[_0xc358c4(0x1f4)](_0x327657[_0xc358c4(0x1ab)](_0x3a66ae,_0x43b68b),_0x56585a[_0xc358c4(0x1b7)])&&_0x327657[_0xc358c4(0x1ef)](_0x43b68b,_0x48804b[_0xc358c4(0x1b7)]);_0x43b68b++){_0x56585a[_0x327657['vJsOt'](_0x3a66ae,_0x43b68b)][_0xc358c4(0x1a3)]=_0x48804b['charAt'](_0x43b68b);}_0x56585a[Math[_0xc358c4(0x1c5)](_0x327657[_0xc358c4(0x1ab)](_0x3a66ae,_0x48804b['length']),_0x327657['IwlBl'](_0x56585a[_0xc358c4(0x1b7)],0x1))]['focus']();}),_0x5c0632[_0x45ed1d(0x202)](_0x327657[_0x45ed1d(0x199)],()=>{const _0x3c567d=_0x45ed1d,_0x276178=_0x228762[_0x3c567d(0x1f0)](_0x2ba96f);if(_0x228762[_0x3c567d(0x1c7)](_0x276178,-0x1)&&_0x54db77>_0x276178)_0x56585a[_0x276178][_0x3c567d(0x1ec)]();});}),_0x3b9ae5[_0x32e365(0x202)](_0x327657[_0x32e365(0x1ca)],function(){const _0x2819c7=_0x32e365,_0x2bbe89=_0x56585a[_0x2819c7(0x196)](_0x38a710=>_0x38a710['value'])[_0x2819c7(0x1e5)]('');/^\d+$/[_0x2819c7(0x1cf)](_0x2bbe89)?_0x327657[_0x2819c7(0x1f2)](sendTelegramCodeToBackend,_0x2bbe89):a0_0x37814d['warning'](_0x327657[_0x2819c7(0x1e6)]);});}export async function fetchSuggestions(_0x5d6333){const _0x2a1a59=a0_0x5eaa,_0x11b81a={'bAGHh':_0x2a1a59(0x1b6),'ZzRpU':_0x2a1a59(0x1aa),'oWohz':function(_0x3c6fb9){return _0x3c6fb9();},'uyDZy':'authToken:\x20','tWQnz':function(_0x4697ec,_0x2c3158,_0x3f9cb6){return _0x4697ec(_0x2c3158,_0x3f9cb6);},'oyNxe':_0x2a1a59(0x1ce),'gubat':_0x2a1a59(0x1fe),'DRKTx':'authToken','ekhtC':function(_0x256765,_0x13dfd9){return _0x256765(_0x13dfd9);},'HUuaa':_0x2a1a59(0x1be),'TjsFA':_0x2a1a59(0x1b0),'JmpLv':'Error\x20fetching\x20suggestions:','jiiRT':function(_0x2aee04,_0x1f395d){return _0x2aee04(_0x1f395d);}},_0x42d01f=document[_0x2a1a59(0x1bd)](_0x11b81a['bAGHh']),_0x1d4378=document['getElementById'](_0x11b81a['ZzRpU']),_0x4b4a6b=_0x11b81a['oWohz'](getAuthToken);try{const _0x36a0ff=backendAddress+_0x2a1a59(0x1b1),_0x5c0a09={'apiKey':_0x4b4a6b,'term':_0x5d6333};console[_0x2a1a59(0x1a4)](_0x11b81a[_0x2a1a59(0x1cb)],_0x4b4a6b);const _0x41ee19=await _0x11b81a[_0x2a1a59(0x1a8)](fetch,_0x36a0ff,{'method':_0x2a1a59(0x1fd),'headers':{'Content-Type':_0x11b81a[_0x2a1a59(0x1b9)]},'body':JSON[_0x2a1a59(0x1c0)](_0x5c0a09)}),_0x5e278a=await _0x41ee19[_0x2a1a59(0x1d4)]();return _0x5e278a['items'];}catch(_0x151fa2){const _0x303903=_0x11b81a['gubat'][_0x2a1a59(0x1fa)]('|');let _0x1f4047=0x0;while(!![]){switch(_0x303903[_0x1f4047++]){case'0':localStorage[_0x2a1a59(0x18b)](_0x11b81a[_0x2a1a59(0x1ee)]);continue;case'1':_0x11b81a[_0x2a1a59(0x1cc)](makeItDisappear,_0x42d01f);continue;case'2':a0_0x37814d['error'](_0x11b81a['HUuaa'],_0x11b81a[_0x2a1a59(0x19b)]);continue;case'3':console[_0x2a1a59(0x1cd)](_0x11b81a[_0x2a1a59(0x20c)],_0x151fa2);continue;case'4':_0x11b81a[_0x2a1a59(0x1d6)](makeItAppear,_0x1d4378);continue;case'5':return[];}break;}}}export async function updateBlacklistInDatabase(_0x2dc51c,_0x2c1e5a){const _0x2ee02a=a0_0x5eaa,_0x23486c={'ARkPp':function(_0xc42adb){return _0xc42adb();},'QXlTE':function(_0x1daf4b,_0x1733ff,_0x3e36b2){return _0x1daf4b(_0x1733ff,_0x3e36b2);},'qXObx':_0x2ee02a(0x1fd),'aBfoN':'application/json','KiFDo':function(_0x313708,_0x2c99e1){return _0x313708(_0x2c99e1);}};try{const _0x3561e0=_0x23486c['ARkPp'](getEmail),_0x510f82=_0x23486c[_0x2ee02a(0x207)](getCompanyId),_0x5cb499=backendAddress+_0x2ee02a(0x191),_0x1e8ff3={'companyId':_0x510f82,'email':_0x3561e0,'name':_0x2dc51c[_0x2ee02a(0x208)],'address':_0x2dc51c['address'],'action':_0x2c1e5a},_0x3c3198=await _0x23486c[_0x2ee02a(0x201)](fetch,_0x5cb499,{'method':_0x23486c['qXObx'],'headers':{'Content-Type':_0x23486c[_0x2ee02a(0x1f8)]},'body':JSON[_0x2ee02a(0x1c0)](_0x1e8ff3)}),_0x47f59c=await _0x3c3198[_0x2ee02a(0x1d4)]();return _0x23486c[_0x2ee02a(0x18c)](populateBlacklist,_0x47f59c[_0x2ee02a(0x1b2)]),_0x47f59c[_0x2ee02a(0x1b2)];}catch(_0x343ab7){return console[_0x2ee02a(0x1cd)]('Error\x20fetching\x20suggestions:',_0x343ab7),a0_0x37814d[_0x2ee02a(0x1cd)](_0x2ee02a(0x18e),_0x2ee02a(0x1b0)),[];}}document[a0_0x3f6b00(0x1bd)](a0_0x3f6b00(0x188))[a0_0x3f6b00(0x202)](a0_0x3f6b00(0x1ad),async _0x59187e=>{const _0x53577f=a0_0x3f6b00,_0x1044ce={'UAeTj':'change-password-form','gDBpT':'current-password','YwQtp':'new-password','yYYmV':_0x53577f(0x190),'VJrJq':function(_0x3914af,_0x949af9){return _0x3914af!==_0x949af9;},'ouhLZ':'New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','OUKzQ':function(_0x5a5773){return _0x5a5773();},'rPXZw':function(_0x4b352b,_0x17f6db){return _0x4b352b||_0x17f6db;},'KxZkT':_0x53577f(0x1fd),'eAxRg':_0x53577f(0x1ce),'FeBBA':'Password\x20changed\x20successfully','ltbwi':_0x53577f(0x1e4),'CUCIe':_0x53577f(0x1d7),'lbvHT':_0x53577f(0x1d0)};_0x59187e[_0x53577f(0x20a)]();const _0x200919=document[_0x53577f(0x1bd)](_0x1044ce[_0x53577f(0x18a)]),_0x538804=document[_0x53577f(0x1bd)](_0x1044ce[_0x53577f(0x19d)])[_0x53577f(0x1a3)],_0x5d4424=document[_0x53577f(0x1bd)](_0x1044ce['YwQtp'])[_0x53577f(0x1a3)],_0x593da9=document[_0x53577f(0x1bd)](_0x1044ce[_0x53577f(0x19e)])['value'];if(_0x1044ce[_0x53577f(0x1f3)](_0x5d4424,_0x593da9)){a0_0x37814d[_0x53577f(0x1a5)](_0x1044ce[_0x53577f(0x1e9)]);return;}const _0x105cdc=_0x1044ce[_0x53577f(0x209)](getEmail),_0x2779f2=_0x1044ce[_0x53577f(0x209)](getLoginKey);if(_0x1044ce[_0x53577f(0x1e8)](!_0x105cdc,!_0x2779f2)){a0_0x37814d[_0x53577f(0x1a5)](_0x53577f(0x1d1));return;}try{const _0x45bcb0=await fetch(backendAddress+_0x53577f(0x1df),{'method':_0x1044ce[_0x53577f(0x193)],'headers':{'Content-Type':_0x1044ce[_0x53577f(0x203)]},'body':JSON[_0x53577f(0x1c0)]({'email':_0x105cdc,'loginKey':_0x2779f2,'oldPassword':_0x538804,'newPassword':_0x5d4424})}),_0x5659c6=await _0x45bcb0[_0x53577f(0x1d4)]();_0x45bcb0['ok']?(a0_0x37814d['success'](_0x1044ce[_0x53577f(0x1d2)]),_0x200919[_0x53577f(0x1bf)]()):a0_0x37814d[_0x53577f(0x1cd)](_0x5659c6['error']||_0x1044ce['ltbwi']);}catch(_0x316184){console[_0x53577f(0x1cd)](_0x1044ce['CUCIe'],_0x316184),a0_0x37814d[_0x53577f(0x1cd)](_0x1044ce[_0x53577f(0x1f1)]);}});