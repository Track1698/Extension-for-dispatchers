const a0_0x2c3c55=a0_0xd3f2;(function(_0x3583f1,_0x14c0a0){const _0x20fab2=a0_0xd3f2,_0x45fb1c=_0x3583f1();while(!![]){try{const _0x1ac5e6=parseInt(_0x20fab2(0x139))/0x1*(parseInt(_0x20fab2(0xec))/0x2)+parseInt(_0x20fab2(0x12a))/0x3*(parseInt(_0x20fab2(0x14c))/0x4)+parseInt(_0x20fab2(0x105))/0x5*(parseInt(_0x20fab2(0x14b))/0x6)+-parseInt(_0x20fab2(0x163))/0x7+-parseInt(_0x20fab2(0x15f))/0x8+parseInt(_0x20fab2(0x150))/0x9*(-parseInt(_0x20fab2(0x138))/0xa)+parseInt(_0x20fab2(0x152))/0xb;if(_0x1ac5e6===_0x14c0a0)break;else _0x45fb1c['push'](_0x45fb1c['shift']());}catch(_0x2b1a9b){_0x45fb1c['push'](_0x45fb1c['shift']());}}}(a0_0x5e1e,0x28232));import a0_0xbcaa64 from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyName}from'./state.js';import{makeItDisappear,makeItAppear,regions}from'./utils.js';function a0_0x5e1e(){const _0xc585b6=['display','ZLNaT','POST','idqMd','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','accountType','storage','NmGyO','json','10Pzuhnd','children','application/json','jPAwQ','map','qRjgB','city','JsPiP','userId','DJQKX','removeItem','text','stringify','IiTGU','find','style','DPxSI','QAnKu','duUoh','WQnlj','clipboardData','ZozfX','charAt','log','authToken:\x20','895BYiDFt','value','oCOLd','xeqrL','from','region','Telegram\x20connected\x20successfully!','Error','test','HfJsy','change-password-form','telegramId','gmKCt','join','PYBav','Vvdqy','/api/autocomplete2','WgOGl','GGubi','min','cdqFV','UmACD','Please\x20enter\x20a\x20valid\x20numeric\x20code.','Backspace','nHNlV','WNUSQ','BUhEK','zlgej','companyName','telegramPopup','input','myBbn','Error\x20changing\x20password:','click','kwuku','addEventListener','ArrowLeft','100797bRRotD','message','DaCxL','5|2|3|4|0|1','items','error','eaKOU','sLmbr','dnMHV','key','TLprn','focus','controlElement','XopSL','6410omrIpD','49089WoKoeN','flex','vYeci','Telegram\x20connection\x20failed.','searchFormElement','paste','aTdFy','verification-input','/api/telegramcode','ocxeW','remove','subscription','success','TBPxq','pkFQb','new-password','myFhU','start','474vZHNgD','20KSekoS','LufFe','Rvtyw','toLowerCase','90TeyHOU','preventDefault','729883bKlXoV','/api/changepassword','getElementById','split','length','yznST','authToken','/api/autocomplete','keys','GogLZ','confirm-password','KJEuB','warning','155192cJLsAA','JTrJG','trim','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','2126061DfvSPv','WsmUE','Logged\x20out\x20successfully.','forEach','all','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','StWeq','GOGwK','hnvgd','PzvXI','DZHYd','QFokd','info','ArrowRight','searches','lxqHv','reset','xdtBR'];a0_0x5e1e=function(){return _0xc585b6;};return a0_0x5e1e();}export function logout(){const _0x58adae=a0_0xd3f2,_0x2b283d={'IiTGU':_0x58adae(0x121),'ZLNaT':'blacklist','lxqHv':'loginKey','zlgej':_0x58adae(0x144)};chrome[_0x58adae(0xe9)]['local'][_0x58adae(0x143)]([_0x2b283d[_0x58adae(0xf9)],_0x2b283d[_0x58adae(0xe4)],_0x58adae(0x171),_0x2b283d[_0x58adae(0x172)],_0x58adae(0xe8),_0x2b283d[_0x58adae(0x120)]],()=>{const _0x48c200=_0x58adae;a0_0xbcaa64[_0x48c200(0x16f)](_0x48c200(0x165));});}export async function sendTelegramCodeToBackend(_0x5ddd6b){const _0x16526f=a0_0xd3f2,_0x5afa1c={'eaKOU':function(_0x1591a5){return _0x1591a5();},'GOGwK':function(_0x5b187b,_0x985bd7,_0x1cc315){return _0x5b187b(_0x985bd7,_0x1cc315);},'Fjlrj':_0x16526f(0xee),'JsPiP':_0x16526f(0x110),'WsmUE':_0x16526f(0x10b),'PYBav':_0x16526f(0x13c)};try{const _0x5ee9dd=_0x5afa1c[_0x16526f(0x130)](getEmail),_0x8bdc52=_0x5afa1c[_0x16526f(0x130)](getLoginKey),_0x970e49=await _0x5afa1c[_0x16526f(0x16a)](fetch,backendAddress+_0x16526f(0x141),{'method':_0x16526f(0xe5),'headers':{'Content-Type':_0x5afa1c['Fjlrj']},'body':JSON[_0x16526f(0xf8)]({'email':_0x5ee9dd,'code':_0x5ddd6b,'loginKey':_0x8bdc52})}),_0x1c7d33=await _0x970e49[_0x16526f(0xeb)]();if(_0x1c7d33[_0x16526f(0x145)])saveToLocal(_0x5afa1c[_0x16526f(0xf3)],_0x1c7d33[_0x16526f(0xf4)]),a0_0xbcaa64[_0x16526f(0x145)](_0x5afa1c[_0x16526f(0x164)]);else throw new Error(_0x1c7d33[_0x16526f(0x12b)]||_0x5afa1c[_0x16526f(0x113)]);}catch(_0xb185c3){a0_0xbcaa64['error'](_0xb185c3[_0x16526f(0x12b)]);}}export function showTelegramPopup(){const _0x3c9c77=a0_0xd3f2,_0x591e26={'DPxSI':_0x3c9c77(0x11c),'yznST':function(_0x33a224,_0x46336e){return _0x33a224===_0x46336e;},'DaCxL':function(_0xe02298,_0x290d8f){return _0xe02298-_0x290d8f;},'hyRoj':function(_0x13fa27,_0x50d177){return _0x13fa27-_0x50d177;},'XopSL':function(_0x2fe654,_0x317e48){return _0x2fe654+_0x317e48;},'oqRMF':function(_0x4f0c1f,_0x4c35cf){return _0x4f0c1f+_0x4c35cf;},'qRjgB':_0x3c9c77(0x129),'QHlvm':function(_0x28994c,_0x16a862){return _0x28994c>_0x16a862;},'dnMHV':function(_0x216737,_0x21a75b){return _0x216737<_0x21a75b;},'WgOGl':function(_0x40a6b1,_0x21736a){return _0x40a6b1-_0x21736a;},'KJEuB':function(_0x30ee0b){return _0x30ee0b();},'TBPxq':function(_0x52f221,_0x39320a){return _0x52f221+_0x39320a;},'sLmbr':function(_0x3bf6f8,_0x29a11d){return _0x3bf6f8+_0x29a11d;},'VnJOQ':_0x3c9c77(0xf7),'oCOLd':function(_0x32b970){return _0x32b970();},'DZHYd':function(_0x4cf370,_0x361d96){return _0x4cf370!==_0x361d96;},'idqMd':function(_0x4145cc,_0x31339a){return _0x4145cc<_0x31339a;},'vYeci':function(_0x2a55e9,_0x219ec6){return _0x2a55e9+_0x219ec6;},'WNUSQ':function(_0x4efca4,_0x1e81a6){return _0x4efca4>_0x1e81a6;},'jPAwQ':'keydown','UmACD':_0x3c9c77(0x123),'myFhU':_0x3c9c77(0x135),'QFokd':function(_0x1b7ef3,_0x2ef32b){return _0x1b7ef3(_0x2ef32b);},'myBbn':_0x3c9c77(0x11b),'nHNlV':_0x3c9c77(0x13a),'WQnlj':_0x3c9c77(0x140),'Rvtyw':_0x3c9c77(0x126)},_0x18b863=document[_0x3c9c77(0x154)](_0x3c9c77(0x122)),_0x57ae5d=document[_0x3c9c77(0x154)]('telegramVerifyButton');_0x18b863[_0x3c9c77(0xfb)][_0x3c9c77(0xe3)]=_0x591e26[_0x3c9c77(0x11d)];const _0x422fef=Array[_0x3c9c77(0x109)](document[_0x3c9c77(0x154)](_0x591e26[_0x3c9c77(0xff)])[_0x3c9c77(0xed)]);function _0x1edca1(){return _0x422fef['findIndex'](_0x5b0283=>_0x5b0283['value']==='');}_0x422fef[_0x3c9c77(0x166)]((_0x33b42c,_0x659383)=>{const _0xb2b254=_0x3c9c77;_0x33b42c[_0xb2b254(0x128)](_0x591e26[_0xb2b254(0xef)],_0x52e324=>{const _0x312a19=_0xb2b254;if(_0x52e324[_0x312a19(0x133)]===_0x591e26[_0x312a19(0xfc)]){_0x591e26[_0x312a19(0x157)](_0x33b42c['value'],'')&&_0x659383>0x0&&(_0x422fef[_0x591e26[_0x312a19(0x12c)](_0x659383,0x1)][_0x312a19(0x106)]='',_0x422fef[_0x591e26['hyRoj'](_0x659383,0x1)][_0x312a19(0x135)]());for(let _0x1fd874=_0x659383;_0x1fd874<_0x422fef['length'];_0x1fd874++){let _0x3c8cf0=_0x422fef[_0x591e26[_0x312a19(0x137)](_0x1fd874,0x1)]?_0x422fef[_0x591e26['oqRMF'](_0x1fd874,0x1)][_0x312a19(0x106)]:'';_0x422fef[_0x1fd874]['setRangeText'](_0x3c8cf0,0x0,0x1,_0x312a19(0x14a));}}_0x591e26[_0x312a19(0x157)](_0x52e324['key'],_0x591e26[_0x312a19(0xf1)])&&_0x591e26['QHlvm'](_0x659383,0x0)&&_0x422fef[_0x659383-0x1]['focus'](),_0x52e324[_0x312a19(0x133)]===_0x312a19(0x170)&&_0x591e26[_0x312a19(0x132)](_0x659383,_0x591e26[_0x312a19(0x116)](_0x422fef[_0x312a19(0x156)],0x1))&&_0x422fef[_0x659383+0x1][_0x312a19(0x135)]();}),_0x33b42c[_0xb2b254(0x128)](_0x591e26[_0xb2b254(0x11a)],_0x51b68e=>{const _0x571499=_0xb2b254;_0x33b42c['value']='';const _0x12ff5e=_0x591e26[_0x571499(0x15d)](_0x1edca1);_0x422fef[_0x12ff5e]['value']=_0x51b68e['data'];if(_0x591e26[_0x571499(0x146)](_0x12ff5e,0x1)<_0x422fef[_0x571499(0x156)])_0x422fef[_0x591e26[_0x571499(0x131)](_0x12ff5e,0x1)][_0x571499(0x135)]();}),_0x33b42c[_0xb2b254(0x128)](_0xb2b254(0x13e),_0x2b97b2=>{const _0x1f5b78=_0xb2b254;_0x2b97b2[_0x1f5b78(0x151)]();const _0x38bb8b=(event[_0x1f5b78(0x100)]||window[_0x1f5b78(0x100)])['getData'](_0x591e26['VnJOQ']),_0x516340=_0x591e26['oCOLd'](_0x1edca1),_0x5003a2=_0x591e26[_0x1f5b78(0x16d)](_0x516340,-0x1)?Math[_0x1f5b78(0x118)](_0x659383,_0x516340):_0x659383;for(let _0x1e2dbd=0x0;_0x591e26[_0x1f5b78(0xe6)](_0x5003a2+_0x1e2dbd,_0x422fef[_0x1f5b78(0x156)])&&_0x1e2dbd<_0x38bb8b['length'];_0x1e2dbd++){_0x422fef[_0x591e26[_0x1f5b78(0x13b)](_0x5003a2,_0x1e2dbd)][_0x1f5b78(0x106)]=_0x38bb8b[_0x1f5b78(0x102)](_0x1e2dbd);}_0x422fef[Math[_0x1f5b78(0x118)](_0x5003a2+_0x38bb8b[_0x1f5b78(0x156)],_0x591e26['WgOGl'](_0x422fef[_0x1f5b78(0x156)],0x1))][_0x1f5b78(0x135)]();}),_0x33b42c[_0xb2b254(0x128)](_0x591e26[_0xb2b254(0x149)],()=>{const _0x41d65e=_0xb2b254,_0x354c8e=_0x591e26[_0x41d65e(0x107)](_0x1edca1);if(_0x591e26['DZHYd'](_0x354c8e,-0x1)&&_0x591e26[_0x41d65e(0x11e)](_0x659383,_0x354c8e))_0x422fef[_0x354c8e]['focus']();});}),_0x57ae5d[_0x3c9c77(0x128)](_0x591e26[_0x3c9c77(0x14e)],function(){const _0x28b453=_0x3c9c77,_0x4c958c=_0x422fef['map'](_0x2d30d0=>_0x2d30d0[_0x28b453(0x106)])[_0x28b453(0x112)]('');/^\d+$/[_0x28b453(0x10d)](_0x4c958c)?_0x591e26[_0x28b453(0x16e)](sendTelegramCodeToBackend,_0x4c958c):a0_0xbcaa64['warning'](_0x591e26[_0x28b453(0x124)]);});}export async function fetchSuggestions(_0x5b3de3){const _0x2bf2b6=a0_0xd3f2,_0x366286={'kwuku':_0x2bf2b6(0x136),'bPpUo':function(_0x7ef48a){return _0x7ef48a();},'aTdFy':_0x2bf2b6(0x104),'duUoh':function(_0x510b6d,_0x5c0c49,_0x14ae5b){return _0x510b6d(_0x5c0c49,_0x14ae5b);},'xeqrL':'POST','lSzwq':_0x2bf2b6(0xee),'ZozfX':'Error\x20fetching\x20suggestions:','GogLZ':_0x2bf2b6(0x168),'HzkGy':_0x2bf2b6(0x158),'hnvgd':function(_0x56c319,_0x4092d0){return _0x56c319(_0x4092d0);}},_0x4cf728=document[_0x2bf2b6(0x154)](_0x2bf2b6(0x13d)),_0x21b23b=document[_0x2bf2b6(0x154)](_0x366286[_0x2bf2b6(0x127)]),_0x1bac50=_0x366286['bPpUo'](getAuthToken);try{const _0xd95c67=backendAddress+_0x2bf2b6(0x159),_0x1da3c2={'apiKey':_0x1bac50,'term':_0x5b3de3};console[_0x2bf2b6(0x103)](_0x366286[_0x2bf2b6(0x13f)],_0x1bac50);const _0x464f1c=await _0x366286[_0x2bf2b6(0xfe)](fetch,_0xd95c67,{'method':_0x366286[_0x2bf2b6(0x108)],'headers':{'Content-Type':_0x366286['lSzwq']},'body':JSON[_0x2bf2b6(0xf8)](_0x1da3c2)}),_0x283b0f=await _0x464f1c['json']();return _0x283b0f[_0x2bf2b6(0x12e)];}catch(_0x1e3f8b){return console[_0x2bf2b6(0x12f)](_0x366286[_0x2bf2b6(0x101)],_0x1e3f8b),a0_0xbcaa64['error'](_0x366286[_0x2bf2b6(0x15b)],_0x2bf2b6(0x10c)),localStorage[_0x2bf2b6(0xf6)](_0x366286['HzkGy']),_0x366286['hnvgd'](makeItDisappear,_0x4cf728),_0x366286[_0x2bf2b6(0x16b)](makeItAppear,_0x21b23b),[];}}function a0_0xd3f2(_0x31bae2,_0x5be25e){const _0x5e1e4b=a0_0x5e1e();return a0_0xd3f2=function(_0xd3f2df,_0xe86e8b){_0xd3f2df=_0xd3f2df-0xe2;let _0x2d60a3=_0x5e1e4b[_0xd3f2df];return _0x2d60a3;},a0_0xd3f2(_0x31bae2,_0x5be25e);}export async function fetchSuggestions2(_0x5c3928=null,_0x19a549=a0_0x2c3c55(0x167)){const _0x4b3155=a0_0x2c3c55,_0x4a1e51={'BUhEK':_0x4b3155(0xf2),'NmGyO':_0x4b3155(0x10a),'cdqFV':function(_0x5d3cb9,_0x39ce8d){return _0x5d3cb9<=_0x39ce8d;},'StWeq':function(_0x36f33a,_0x24902f){return _0x36f33a!==_0x24902f;},'ccDvX':function(_0x1aad14){return _0x1aad14();},'QAnKu':_0x4b3155(0xe5),'rWtbY':_0x4b3155(0x12d),'gmKCt':function(_0x1ebdf9,_0x26ed91){return _0x1ebdf9(_0x26ed91);},'PzvXI':_0x4b3155(0x10c),'ViQGY':'authToken','LufFe':'Error\x20fetching\x20suggestions:'},_0x207283=document[_0x4b3155(0x154)](_0x4b3155(0x13d)),_0x58dceb=document['getElementById']('controlElement'),_0x25711f=_0x5c3928?_0x5c3928[_0x4b3155(0x161)]()[_0x4b3155(0x14f)]():'';if((!_0x5c3928||_0x25711f[_0x4b3155(0x156)]<=0x2)&&_0x19a549!==_0x4a1e51[_0x4b3155(0x11f)]){const _0x5c6595=Object[_0x4b3155(0x15a)](regions)[_0x4b3155(0xf0)](_0x3be514=>({'states':''+regions[_0x3be514]['join'](',\x20'),'name':_0x3be514,'state':'','zip':''}));return{'type':_0x4a1e51['NmGyO'],'data':_0x5c6595};}if((!_0x5c3928||_0x4a1e51[_0x4b3155(0x119)](_0x25711f['length'],0x2))&&_0x19a549===_0x4b3155(0xf2))return{'type':_0x4a1e51[_0x4b3155(0x11f)],'data':[]};const _0x51f41d=Object[_0x4b3155(0x15a)](regions)[_0x4b3155(0xfa)](_0x5233eb=>_0x5233eb[_0x4b3155(0x14f)]()===_0x25711f);if(_0x51f41d&&_0x4a1e51[_0x4b3155(0x169)](_0x19a549,'city'))return{'type':_0x4a1e51[_0x4b3155(0xea)],'data':[{'suggestion':_0x51f41d+'\x20-\x20'+regions[_0x51f41d][_0x4b3155(0x112)](',\x20'),'type':_0x4a1e51[_0x4b3155(0xea)]}]};const _0x264063=_0x4a1e51['ccDvX'](getAuthToken);try{const _0x39d13e=backendAddress+_0x4b3155(0x115),_0x2fba20={'apiKey':_0x264063,'term':_0x5c3928,'type':_0x19a549},_0x56d019=await fetch(_0x39d13e,{'method':_0x4a1e51[_0x4b3155(0xfd)],'headers':{'Content-Type':_0x4b3155(0xee)},'body':JSON['stringify'](_0x2fba20)}),_0x42271c=await _0x56d019[_0x4b3155(0xeb)]();return _0x42271c;}catch(_0x3f024f){const _0xeb9481=_0x4a1e51['rWtbY'][_0x4b3155(0x155)]('|');let _0x45b4fb=0x0;while(!![]){switch(_0xeb9481[_0x45b4fb++]){case'0':_0x4a1e51[_0x4b3155(0x111)](makeItAppear,_0x58dceb);continue;case'1':return{'type':_0x4b3155(0x10a),'data':[]};case'2':a0_0xbcaa64['error'](_0x4b3155(0x168),_0x4a1e51[_0x4b3155(0x16c)]);continue;case'3':localStorage[_0x4b3155(0xf6)](_0x4a1e51['ViQGY']);continue;case'4':_0x4a1e51[_0x4b3155(0x111)](makeItDisappear,_0x207283);continue;case'5':console[_0x4b3155(0x12f)](_0x4a1e51[_0x4b3155(0x14d)],_0x3f024f);continue;}break;}}}document['getElementById'](a0_0x2c3c55(0x10f))['addEventListener']('submit',async _0x3227c3=>{const _0x1af421=a0_0x2c3c55,_0x2677f4={'DJQKX':'current-password','xdtBR':_0x1af421(0x148),'ocxeW':_0x1af421(0x15c),'GGubi':'New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','Vvdqy':function(_0x4832cd){return _0x4832cd();},'dTwGx':function(_0xc6259a,_0x490eab,_0x3b1e3d){return _0xc6259a(_0x490eab,_0x3b1e3d);},'TLprn':'POST','lsBhE':_0x1af421(0xee),'pkFQb':'Password\x20changed\x20successfully','HfJsy':'An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','JTrJG':_0x1af421(0xe7)};_0x3227c3[_0x1af421(0x151)]();const _0x27c3bc=document[_0x1af421(0x154)]('change-password-form'),_0xf14085=document[_0x1af421(0x154)](_0x2677f4[_0x1af421(0xf5)])[_0x1af421(0x106)],_0x3fccd2=document[_0x1af421(0x154)](_0x2677f4[_0x1af421(0xe2)])['value'],_0x535388=document[_0x1af421(0x154)](_0x2677f4[_0x1af421(0x142)])[_0x1af421(0x106)];if(_0x3fccd2!==_0x535388){a0_0xbcaa64[_0x1af421(0x15e)](_0x2677f4[_0x1af421(0x117)]);return;}const _0x194fa2=_0x2677f4[_0x1af421(0x114)](getEmail),_0x4a2b8d=getLoginKey();if(!_0x194fa2||!_0x4a2b8d){a0_0xbcaa64[_0x1af421(0x15e)](_0x1af421(0x162));return;}try{const _0x23846a=await _0x2677f4['dTwGx'](fetch,backendAddress+_0x1af421(0x153),{'method':_0x2677f4[_0x1af421(0x134)],'headers':{'Content-Type':_0x2677f4['lsBhE']},'body':JSON[_0x1af421(0xf8)]({'email':_0x194fa2,'loginKey':_0x4a2b8d,'oldPassword':_0xf14085,'newPassword':_0x3fccd2})}),_0x2bf275=await _0x23846a[_0x1af421(0xeb)]();_0x23846a['ok']?(a0_0xbcaa64[_0x1af421(0x145)](_0x2677f4[_0x1af421(0x147)]),_0x27c3bc[_0x1af421(0x173)]()):a0_0xbcaa64[_0x1af421(0x12f)](_0x2bf275[_0x1af421(0x12f)]||_0x2677f4[_0x1af421(0x10e)]);}catch(_0xf4c880){console[_0x1af421(0x12f)](_0x1af421(0x125),_0xf4c880),a0_0xbcaa64[_0x1af421(0x12f)](_0x2677f4[_0x1af421(0x160)]);}});