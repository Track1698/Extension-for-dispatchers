const a0_0x1dd8b4=a0_0x830b;(function(_0x49cc57,_0xfdb712){const _0x463247=a0_0x830b,_0x523cee=_0x49cc57();while(!![]){try{const _0x29ad24=-parseInt(_0x463247(0x190))/0x1*(parseInt(_0x463247(0x1c6))/0x2)+-parseInt(_0x463247(0x186))/0x3+parseInt(_0x463247(0x1c5))/0x4+parseInt(_0x463247(0x1bf))/0x5*(parseInt(_0x463247(0x1cc))/0x6)+parseInt(_0x463247(0x1a9))/0x7*(parseInt(_0x463247(0x1b1))/0x8)+-parseInt(_0x463247(0x1fc))/0x9+parseInt(_0x463247(0x1cf))/0xa;if(_0x29ad24===_0xfdb712)break;else _0x523cee['push'](_0x523cee['shift']());}catch(_0x477a09){_0x523cee['push'](_0x523cee['shift']());}}}(a0_0x2097,0xa36e5));import a0_0x511599 from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyName}from'./state.js';import{makeItDisappear,makeItAppear,regions}from'./utils.js';export function logout(){const _0x1216c9=a0_0x830b,_0x5057a4={'ZpdLa':_0x1216c9(0x1e2),'AVHEY':_0x1216c9(0x1df),'XianP':_0x1216c9(0x206),'DCrpI':_0x1216c9(0x1fb),'skALI':_0x1216c9(0x1ae),'VUCyO':_0x1216c9(0x1f9)};chrome['storage'][_0x1216c9(0x193)][_0x1216c9(0x1d4)]([_0x5057a4[_0x1216c9(0x1a3)],_0x5057a4[_0x1216c9(0x1f5)],_0x5057a4[_0x1216c9(0x202)],_0x5057a4['skALI'],_0x5057a4['VUCyO']],()=>{const _0x55d9a9=_0x1216c9;a0_0x511599[_0x55d9a9(0x1a2)](_0x5057a4[_0x55d9a9(0x1bc)]);});}export async function sendTelegramCodeToBackend(_0x5e4fbd){const _0x50efd8=a0_0x830b,_0x1a1913={'WpdMM':function(_0x4d5d1){return _0x4d5d1();},'UHBCD':function(_0x404bc7){return _0x404bc7();},'jIXkO':_0x50efd8(0x1a7),'ttoAb':_0x50efd8(0x1cd),'JQOxg':_0x50efd8(0x1a4)};try{const _0x1a912f=_0x1a1913[_0x50efd8(0x1f6)](getEmail),_0x3e1228=_0x1a1913[_0x50efd8(0x1fe)](getLoginKey),_0x24fc4a=await fetch(backendAddress+_0x50efd8(0x18f),{'method':_0x50efd8(0x208),'headers':{'Content-Type':_0x1a1913[_0x50efd8(0x1ec)]},'body':JSON[_0x50efd8(0x1a6)]({'email':_0x1a912f,'code':_0x5e4fbd,'loginKey':_0x3e1228})}),_0x23c21f=await _0x24fc4a[_0x50efd8(0x1dc)]();if(_0x23c21f[_0x50efd8(0x1af)])saveToLocal('telegramId',_0x23c21f['userId']),a0_0x511599[_0x50efd8(0x1af)](_0x1a1913[_0x50efd8(0x18d)]);else throw new Error(_0x23c21f[_0x50efd8(0x1f2)]||_0x1a1913[_0x50efd8(0x185)]);}catch(_0x42f17a){a0_0x511599['error'](_0x42f17a[_0x50efd8(0x1f2)]);}}export function showTelegramPopup(){const _0x5d3043=a0_0x830b,_0xc6635f={'mcBnY':function(_0x396acf,_0x37a495){return _0x396acf===_0x37a495;},'hxMGx':function(_0xde114b,_0xc7be16){return _0xde114b>_0xc7be16;},'bezCD':function(_0x2a6659,_0x1efb05){return _0x2a6659-_0x1efb05;},'tKsss':function(_0x32a466,_0x4fad82){return _0x32a466<_0x4fad82;},'LACnk':_0x5d3043(0x1d9),'ehcED':_0x5d3043(0x182),'hqaFn':function(_0x2e2bab,_0x45d3ee){return _0x2e2bab===_0x45d3ee;},'wAYSN':_0x5d3043(0x18a),'QWYNJ':function(_0x2685d1,_0x422d4e){return _0x2685d1+_0x422d4e;},'HZOQj':function(_0x223466){return _0x223466();},'gfyaD':function(_0xd4c8a7,_0x22c31e){return _0xd4c8a7!==_0x22c31e;},'pCszP':function(_0x1ef8cb,_0x5c50fa){return _0x1ef8cb+_0x5c50fa;},'apxaf':function(_0x39d14d,_0x371e7f){return _0x39d14d+_0x371e7f;},'sVxng':function(_0x1a389c,_0x2d1d49){return _0x1a389c-_0x2d1d49;},'Rsrvw':function(_0x474816,_0x5b3598){return _0x474816>_0x5b3598;},'SsfoH':_0x5d3043(0x19a),'HxpAh':'input','lwPuF':_0x5d3043(0x1d7),'kSnzS':function(_0x804f9b,_0x5cba32){return _0x804f9b(_0x5cba32);},'UtMJH':_0x5d3043(0x201),'wDhwo':'telegramPopup','miSYp':'telegramVerifyButton','YYzFA':_0x5d3043(0x1e0),'MgHGF':_0x5d3043(0x1b7)},_0x3b0c6e=document['getElementById'](_0xc6635f[_0x5d3043(0x1a1)]),_0x534db7=document[_0x5d3043(0x1f4)](_0xc6635f[_0x5d3043(0x196)]);_0x3b0c6e[_0x5d3043(0x1be)][_0x5d3043(0x197)]='flex';const _0x32c3ab=Array[_0x5d3043(0x1ce)](document[_0x5d3043(0x1f4)](_0xc6635f[_0x5d3043(0x195)])['children']);function _0x5c0c0f(){return _0x32c3ab['findIndex'](_0x1a042c=>_0x1a042c['value']==='');}_0x32c3ab[_0x5d3043(0x1a0)]((_0x248262,_0x21ce58)=>{const _0x198305=_0x5d3043,_0x1d8e0a={'PKzWK':function(_0x267dca,_0x98182d){const _0x141b79=a0_0x830b;return _0xc6635f[_0x141b79(0x1e7)](_0x267dca,_0x98182d);}};_0x248262[_0x198305(0x1db)](_0xc6635f[_0x198305(0x18e)],_0x9129b1=>{const _0x5ef7f1=_0x198305;if(_0x9129b1[_0x5ef7f1(0x1e8)]===_0x5ef7f1(0x1e1)){_0xc6635f[_0x5ef7f1(0x1aa)](_0x248262[_0x5ef7f1(0x19d)],'')&&_0xc6635f['hxMGx'](_0x21ce58,0x0)&&(_0x32c3ab[_0x21ce58-0x1][_0x5ef7f1(0x19d)]='',_0x32c3ab[_0xc6635f[_0x5ef7f1(0x1de)](_0x21ce58,0x1)]['focus']());for(let _0x3458ad=_0x21ce58;_0xc6635f[_0x5ef7f1(0x20a)](_0x3458ad,_0x32c3ab[_0x5ef7f1(0x1da)]);_0x3458ad++){let _0x18bb63=_0x32c3ab[_0x3458ad+0x1]?_0x32c3ab[_0x3458ad+0x1][_0x5ef7f1(0x19d)]:'';_0x32c3ab[_0x3458ad][_0x5ef7f1(0x191)](_0x18bb63,0x0,0x1,_0xc6635f['LACnk']);}}_0xc6635f[_0x5ef7f1(0x1aa)](_0x9129b1[_0x5ef7f1(0x1e8)],_0xc6635f[_0x5ef7f1(0x1b9)])&&_0x21ce58>0x0&&_0x32c3ab[_0xc6635f[_0x5ef7f1(0x1de)](_0x21ce58,0x1)][_0x5ef7f1(0x1d7)](),_0xc6635f[_0x5ef7f1(0x200)](_0x9129b1[_0x5ef7f1(0x1e8)],_0xc6635f[_0x5ef7f1(0x1b0)])&&_0x21ce58<_0xc6635f[_0x5ef7f1(0x1de)](_0x32c3ab[_0x5ef7f1(0x1da)],0x1)&&_0x32c3ab[_0xc6635f[_0x5ef7f1(0x1e7)](_0x21ce58,0x1)]['focus']();}),_0x248262[_0x198305(0x1db)](_0xc6635f[_0x198305(0x18c)],_0x1abb52=>{const _0xaca4d9=_0x198305;_0x248262[_0xaca4d9(0x19d)]='';const _0x4594ac=_0x5c0c0f();_0x32c3ab[_0x4594ac][_0xaca4d9(0x19d)]=_0x1abb52['data'];if(_0x1d8e0a[_0xaca4d9(0x192)](_0x4594ac,0x1)<_0x32c3ab[_0xaca4d9(0x1da)])_0x32c3ab[_0x1d8e0a['PKzWK'](_0x4594ac,0x1)][_0xaca4d9(0x1d7)]();}),_0x248262[_0x198305(0x1db)](_0x198305(0x1f7),_0x533d68=>{const _0x394841=_0x198305;_0x533d68[_0x394841(0x1f1)]();const _0x5bb9b9=(event[_0x394841(0x1b5)]||window[_0x394841(0x1b5)])[_0x394841(0x1d3)](_0x394841(0x205)),_0xd69dfe=_0xc6635f[_0x394841(0x1e3)](_0x5c0c0f),_0xb86535=_0xc6635f['gfyaD'](_0xd69dfe,-0x1)?Math[_0x394841(0x198)](_0x21ce58,_0xd69dfe):_0x21ce58;for(let _0x51f476=0x0;_0xc6635f[_0x394841(0x1a5)](_0xb86535,_0x51f476)<_0x32c3ab['length']&&_0xc6635f[_0x394841(0x20a)](_0x51f476,_0x5bb9b9[_0x394841(0x1da)]);_0x51f476++){_0x32c3ab[_0xc6635f['QWYNJ'](_0xb86535,_0x51f476)][_0x394841(0x19d)]=_0x5bb9b9[_0x394841(0x1c9)](_0x51f476);}_0x32c3ab[Math[_0x394841(0x198)](_0xc6635f[_0x394841(0x17f)](_0xb86535,_0x5bb9b9['length']),_0xc6635f[_0x394841(0x1ed)](_0x32c3ab[_0x394841(0x1da)],0x1))][_0x394841(0x1d7)]();}),_0x248262[_0x198305(0x1db)](_0xc6635f['lwPuF'],()=>{const _0x1e550f=_0x198305,_0x2a1c70=_0xc6635f[_0x1e550f(0x1e3)](_0x5c0c0f);if(_0xc6635f['gfyaD'](_0x2a1c70,-0x1)&&_0xc6635f[_0x1e550f(0x204)](_0x21ce58,_0x2a1c70))_0x32c3ab[_0x2a1c70][_0x1e550f(0x1d7)]();});}),_0x534db7[_0x5d3043(0x1db)](_0xc6635f[_0x5d3043(0x1b3)],function(){const _0x377710=_0x5d3043,_0xc299=_0x32c3ab[_0x377710(0x18b)](_0x4a0838=>_0x4a0838['value'])[_0x377710(0x187)]('');/^\d+$/[_0x377710(0x1ef)](_0xc299)?_0xc6635f[_0x377710(0x1c8)](sendTelegramCodeToBackend,_0xc299):a0_0x511599[_0x377710(0x1c2)](_0xc6635f[_0x377710(0x20b)]);});}export async function fetchSuggestions(_0x789f2b){const _0x17145d=a0_0x830b,_0x2285b6={'qHdOT':_0x17145d(0x1bd),'LFaoD':function(_0x394dfd){return _0x394dfd();},'QYqFn':function(_0x28f86c,_0x1d57b7,_0x50d21c){return _0x28f86c(_0x1d57b7,_0x50d21c);},'vlnbn':_0x17145d(0x1a7),'lHqvX':_0x17145d(0x1cb),'VxVyi':_0x17145d(0x1df),'bcFUd':function(_0x42cb43,_0x126399){return _0x42cb43(_0x126399);},'TPefj':function(_0x5ce5d8,_0x37597b){return _0x5ce5d8(_0x37597b);}},_0xe7f131=document['getElementById'](_0x2285b6['qHdOT']),_0x484fa9=document[_0x17145d(0x1f4)](_0x17145d(0x1b6)),_0x3e15df=_0x2285b6[_0x17145d(0x1ff)](getAuthToken);try{const _0x535691=backendAddress+_0x17145d(0x1f0),_0x5db470={'apiKey':_0x3e15df,'term':_0x789f2b};console[_0x17145d(0x1c0)](_0x17145d(0x1f3),_0x3e15df);const _0x52631a=await _0x2285b6[_0x17145d(0x1ab)](fetch,_0x535691,{'method':'POST','headers':{'Content-Type':_0x2285b6[_0x17145d(0x1c7)]},'body':JSON[_0x17145d(0x1a6)](_0x5db470)}),_0xde4d4f=await _0x52631a[_0x17145d(0x1dc)]();return _0xde4d4f['items'];}catch(_0x307027){const _0x4ec3c3=_0x17145d(0x1fa)['split']('|');let _0x1c7c36=0x0;while(!![]){switch(_0x4ec3c3[_0x1c7c36++]){case'0':console[_0x17145d(0x1d2)](_0x2285b6['lHqvX'],_0x307027);continue;case'1':localStorage[_0x17145d(0x1ea)](_0x2285b6[_0x17145d(0x20d)]);continue;case'2':a0_0x511599['error']('Please\x20reload\x20CentralDispatch\x20or\x20login\x20again',_0x17145d(0x19c));continue;case'3':_0x2285b6[_0x17145d(0x1bb)](makeItAppear,_0x484fa9);continue;case'4':return[];case'5':_0x2285b6['TPefj'](makeItDisappear,_0xe7f131);continue;}break;}}}function a0_0x2097(){const _0x9b336a=['searches','0|2|1|5|3|4','companyName','9802566uMtHol','IzfMB','UHBCD','LFaoD','hqaFn','Please\x20enter\x20a\x20valid\x20numeric\x20code.','DCrpI','YkPbi','Rsrvw','text','email','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','POST','mfTeK','tKsss','UtMJH','current-password','VxVyi','apxaf','change-password-form','split','ArrowLeft','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','zxIqm','JQOxg','2916447JDZYbN','join','geziE','toLowerCase','ArrowRight','map','HxpAh','ttoAb','SsfoH','/api/telegramcode','9OIYPbO','setRangeText','PKzWK','local','city','YYzFA','miSYp','display','min','PolVc','keydown','all','Error','value','reset','Kcfkz','forEach','wDhwo','info','AVHEY','Telegram\x20connection\x20failed.','pCszP','stringify','application/json','trim','7RraDjo','mcBnY','QYqFn','oKnPP','vyJVU','blacklist','success','wAYSN','2447976gGHwxv','BjyvB','MgHGF','bWaKG','clipboardData','controlElement','click','mRTse','ehcED','SsVga','bcFUd','ZpdLa','searchFormElement','style','914295vmGSTp','log','qEFBL','warning','gKBVI','PZocv','1002768ySKaNu','196780MelCtb','vlnbn','kSnzS','charAt','3|2|5|1|0|4','Error\x20fetching\x20suggestions:','24tZTqZk','Telegram\x20connected\x20successfully!','from','23281210LOLGdt','ulSnN','region','error','getData','remove','find','uFcGd','focus','plILb','start','length','addEventListener','json','/api/changepassword','bezCD','authToken','verification-input','Backspace','Logged\x20out\x20successfully.','HZOQj','LgfjG','Password\x20changed\x20successfully','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','QWYNJ','key','submit','removeItem','AEVEX','jIXkO','sVxng','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','test','/api/autocomplete','preventDefault','message','authToken:\x20','getElementById','XianP','WpdMM','paste','jSZTE'];a0_0x2097=function(){return _0x9b336a;};return a0_0x2097();}export async function fetchSuggestions2(_0x1d1180=null,_0x58162f=a0_0x1dd8b4(0x19b)){const _0x131fdf=a0_0x1dd8b4,_0x5040a6={'gKBVI':_0x131fdf(0x1bd),'rXcst':function(_0x12dcd3,_0x111a16){return _0x12dcd3<=_0x111a16;},'bWaKG':function(_0xbe360b,_0x2248f2){return _0xbe360b!==_0x2248f2;},'Kcfkz':_0x131fdf(0x194),'PSBRF':_0x131fdf(0x1d1),'AEVEX':function(_0x250d90,_0x26d48e){return _0x250d90<=_0x26d48e;},'mwMTX':function(_0x53e3b6,_0x396947){return _0x53e3b6===_0x396947;},'oKnPP':function(_0x2126a1){return _0x2126a1();},'wLKkW':function(_0xa2f64f,_0x149321,_0x401796){return _0xa2f64f(_0x149321,_0x401796);},'Ataiz':'POST','PZocv':_0x131fdf(0x1a7),'mRTse':_0x131fdf(0x1ca),'jSZTE':function(_0x402ed9,_0x5eacce){return _0x402ed9(_0x5eacce);},'uFcGd':function(_0x87c8ed,_0x38e0d6){return _0x87c8ed(_0x38e0d6);},'mfTeK':'Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','vyJVU':_0x131fdf(0x19c),'YkPbi':_0x131fdf(0x1cb),'plILb':_0x131fdf(0x1df)},_0x4e08c4=document[_0x131fdf(0x1f4)](_0x5040a6[_0x131fdf(0x1c3)]),_0x15f826=document[_0x131fdf(0x1f4)](_0x131fdf(0x1b6)),_0x414c56=_0x1d1180?_0x1d1180[_0x131fdf(0x1a8)]()[_0x131fdf(0x189)]():'';if((!_0x1d1180||_0x5040a6['rXcst'](_0x414c56[_0x131fdf(0x1da)],0x2))&&_0x5040a6[_0x131fdf(0x1b4)](_0x58162f,_0x5040a6[_0x131fdf(0x19f)])){const _0x4fb3f4=Object['keys'](regions)[_0x131fdf(0x18b)](_0x5c32cc=>({'states':''+regions[_0x5c32cc][_0x131fdf(0x187)](',\x20'),'name':_0x5c32cc,'state':'','zip':''}));return{'type':_0x5040a6['PSBRF'],'data':_0x4fb3f4};}if((!_0x1d1180||_0x5040a6[_0x131fdf(0x1eb)](_0x414c56[_0x131fdf(0x1da)],0x2))&&_0x5040a6['mwMTX'](_0x58162f,_0x5040a6[_0x131fdf(0x19f)]))return{'type':_0x5040a6['Kcfkz'],'data':[]};const _0x13d5dd=Object['keys'](regions)[_0x131fdf(0x1d5)](_0x2a4387=>_0x2a4387['toLowerCase']()===_0x414c56);if(_0x13d5dd&&_0x5040a6[_0x131fdf(0x1b4)](_0x58162f,_0x5040a6[_0x131fdf(0x19f)]))return{'type':_0x5040a6['PSBRF'],'data':[{'suggestion':_0x13d5dd+'\x20-\x20'+regions[_0x13d5dd][_0x131fdf(0x187)](',\x20'),'type':'region'}]};const _0xec6cf2=_0x5040a6[_0x131fdf(0x1ac)](getAuthToken);try{const _0x2eaa36=backendAddress+'/api/autocomplete2',_0x168a28={'apiKey':_0xec6cf2,'term':_0x1d1180,'type':_0x58162f},_0x51385c=await _0x5040a6['wLKkW'](fetch,_0x2eaa36,{'method':_0x5040a6['Ataiz'],'headers':{'Content-Type':_0x5040a6[_0x131fdf(0x1c4)]},'body':JSON[_0x131fdf(0x1a6)](_0x168a28)}),_0x1ae74b=await _0x51385c[_0x131fdf(0x1dc)]();return _0x1ae74b;}catch(_0x48d8cb){const _0x203f65=_0x5040a6[_0x131fdf(0x1b8)][_0x131fdf(0x181)]('|');let _0x5098e0=0x0;while(!![]){switch(_0x203f65[_0x5098e0++]){case'0':_0x5040a6[_0x131fdf(0x1f8)](makeItAppear,_0x15f826);continue;case'1':_0x5040a6[_0x131fdf(0x1d6)](makeItDisappear,_0x4e08c4);continue;case'2':a0_0x511599['error'](_0x5040a6[_0x131fdf(0x209)],_0x5040a6[_0x131fdf(0x1ad)]);continue;case'3':console['error'](_0x5040a6[_0x131fdf(0x203)],_0x48d8cb);continue;case'4':return{'type':'region','data':[]};case'5':localStorage[_0x131fdf(0x1ea)](_0x5040a6[_0x131fdf(0x1d8)]);continue;}break;}}}function a0_0x830b(_0x40b07c,_0x3eedd3){const _0x2097c4=a0_0x2097();return a0_0x830b=function(_0x830b0d,_0x47059d){_0x830b0d=_0x830b0d-0x17f;let _0x5ec4db=_0x2097c4[_0x830b0d];return _0x5ec4db;},a0_0x830b(_0x40b07c,_0x3eedd3);}document[a0_0x1dd8b4(0x1f4)](a0_0x1dd8b4(0x180))[a0_0x1dd8b4(0x1db)](a0_0x1dd8b4(0x1e9),async _0x15e3b2=>{const _0x402213=a0_0x1dd8b4,_0x17dabf={'PolVc':'change-password-form','geziE':'new-password','zxIqm':function(_0x35115f,_0x5af98){return _0x35115f!==_0x5af98;},'qEFBL':function(_0xdcfd92){return _0xdcfd92();},'BjyvB':function(_0x57b358,_0x573190){return _0x57b358||_0x573190;},'SsVga':function(_0x1296c8,_0x2c2cbb,_0x40dc1f){return _0x1296c8(_0x2c2cbb,_0x40dc1f);},'IzfMB':_0x402213(0x1e5),'LgfjG':_0x402213(0x207),'ulSnN':_0x402213(0x1e6)};_0x15e3b2[_0x402213(0x1f1)]();const _0x4c3108=document[_0x402213(0x1f4)](_0x17dabf[_0x402213(0x199)]),_0x4a8950=document['getElementById'](_0x402213(0x20c))['value'],_0x4a0396=document['getElementById'](_0x17dabf[_0x402213(0x188)])[_0x402213(0x19d)],_0x2833a9=document[_0x402213(0x1f4)]('confirm-password')[_0x402213(0x19d)];if(_0x17dabf[_0x402213(0x184)](_0x4a0396,_0x2833a9)){a0_0x511599[_0x402213(0x1c2)](_0x402213(0x1ee));return;}const _0x308e92=getEmail(),_0x321ea7=_0x17dabf[_0x402213(0x1c1)](getLoginKey);if(_0x17dabf[_0x402213(0x1b2)](!_0x308e92,!_0x321ea7)){a0_0x511599[_0x402213(0x1c2)](_0x402213(0x183));return;}try{const _0x571bb0=await _0x17dabf[_0x402213(0x1ba)](fetch,backendAddress+_0x402213(0x1dd),{'method':_0x402213(0x208),'headers':{'Content-Type':_0x402213(0x1a7)},'body':JSON[_0x402213(0x1a6)]({'email':_0x308e92,'loginKey':_0x321ea7,'oldPassword':_0x4a8950,'newPassword':_0x4a0396})}),_0x2a4d8e=await _0x571bb0[_0x402213(0x1dc)]();_0x571bb0['ok']?(a0_0x511599[_0x402213(0x1af)](_0x17dabf[_0x402213(0x1fd)]),_0x4c3108[_0x402213(0x19e)]()):a0_0x511599[_0x402213(0x1d2)](_0x2a4d8e[_0x402213(0x1d2)]||_0x17dabf[_0x402213(0x1e4)]);}catch(_0x19a88b){console[_0x402213(0x1d2)]('Error\x20changing\x20password:',_0x19a88b),a0_0x511599[_0x402213(0x1d2)](_0x17dabf[_0x402213(0x1d0)]);}});