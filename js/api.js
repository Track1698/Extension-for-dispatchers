const a0_0x4cd93b=a0_0x7323;(function(_0x37319e,_0x464e4d){const _0x17f660=a0_0x7323,_0x437460=_0x37319e();while(!![]){try{const _0x5cd0dd=parseInt(_0x17f660(0x1d3))/0x1*(parseInt(_0x17f660(0x1e3))/0x2)+-parseInt(_0x17f660(0x1d9))/0x3*(-parseInt(_0x17f660(0x1bb))/0x4)+parseInt(_0x17f660(0x1b9))/0x5*(parseInt(_0x17f660(0x21e))/0x6)+-parseInt(_0x17f660(0x20c))/0x7*(-parseInt(_0x17f660(0x22d))/0x8)+parseInt(_0x17f660(0x21a))/0x9*(-parseInt(_0x17f660(0x1d5))/0xa)+-parseInt(_0x17f660(0x1c8))/0xb*(-parseInt(_0x17f660(0x210))/0xc)+-parseInt(_0x17f660(0x208))/0xd;if(_0x5cd0dd===_0x464e4d)break;else _0x437460['push'](_0x437460['shift']());}catch(_0x1ebdd9){_0x437460['push'](_0x437460['shift']());}}}(a0_0x45f3,0xe946b));import a0_0x761295 from'./alerts.js';import{saveToLocal}from'./storage.js';function a0_0x7323(_0x39adc3,_0x5c323e){const _0x45f369=a0_0x45f3();return a0_0x7323=function(_0x732324,_0x59a8c2){_0x732324=_0x732324-0x1a0;let _0x13e182=_0x45f369[_0x732324];return _0x13e182;},a0_0x7323(_0x39adc3,_0x5c323e);}import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyName}from'./state.js';function a0_0x45f3(){const _0x49977f=['jgmaO','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','json','addEventListener','TAFDZ','verification-input','ArrowRight','AVqBb','find','kXjCv','iVWGN','Telegram\x20connected\x20successfully!','test','all','kBflm','charAt','change-password-form','error','reset','yivaf','TIWLt','tdqbY','HEZlE','loginKey','DqgXZ','log','Nhajb','nIFRQ','telegramId','upzRR','Error\x20fetching\x20suggestions:','submit','xYrcA','XjWKD','jdHdU','38716470JnfsFy','authToken','display','eabyD','7FafAMc','snVjG','bvhvc','leWPw','20949060uMfjFk','GPhhp','join','items','city','paste','Error\x20changing\x20password:','Password\x20changed\x20successfully','IJKmD','mcAFV','171LlGSdA','BuAqr','current-password','success','213654opudWn','keydown','janaw','AjuAG','tIqyt','telegramPopup','key','value','oIusu','chsix','region','map','focus','\x20-\x20','/api/autocomplete','1889912BnVnfy','WyNJs','stringify','toLowerCase','remove','storage','forEach','local','getData','warning','controlElement','dIRNd','text','cmLAu','RoGvD','gRVSU','confirm-password','pZsgJ','application/json','RJVRV','vVoLU','length','email','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','QDbqz','click','getElementById','uDQHu','eIFPY','min','95pVdrRq','input','4YEvOlz','Pkysu','children','IRVbE','blacklist','PIXgB','CJRTq','GuqtP','aFZTC','RzQYv','iYPXA','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','preventDefault','11GmYwer','Telegram\x20connection\x20failed.','message','info','Backspace','searchFormElement','subscription','telegramVerifyButton','UxjRm','NtHAv','Error','1FIyPYD','from','211630IJTmqK','companyName','BoEsv','orkfn','905682peSufZ','new-password','clipboardData','flex','cMOII','hOXWv','nxLpO','RzfmY','QVmRG','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','2750654lyMnZA','POST'];a0_0x45f3=function(){return _0x49977f;};return a0_0x45f3();}import{makeItDisappear,makeItAppear,regions}from'./utils.js';export function logout(){const _0x51049e=a0_0x7323,_0x210a6f={'yTUBw':_0x51049e(0x1b1),'jgmaO':_0x51049e(0x1bf),'BuAqr':'searches','ftPxL':_0x51049e(0x1fc),'iVWGN':_0x51049e(0x1ce)};chrome[_0x51049e(0x1a0)][_0x51049e(0x1a2)][_0x51049e(0x231)]([_0x210a6f['yTUBw'],_0x51049e(0x1d6),_0x210a6f[_0x51049e(0x1e5)],_0x210a6f[_0x51049e(0x21b)],_0x210a6f['ftPxL'],'accountType',_0x210a6f[_0x51049e(0x1ef)]],()=>{const _0x5b8db9=_0x51049e;a0_0x761295[_0x5b8db9(0x1cb)]('Logged\x20out\x20successfully.');});}export async function sendTelegramCodeToBackend(_0x334932){const _0x566194=a0_0x7323,_0x5239bf={'mcAFV':function(_0x1955d1){return _0x1955d1();},'bvhvc':'POST','QDbqz':_0x566194(0x1ad),'vVoLU':_0x566194(0x201),'aFZTC':_0x566194(0x1f0),'snVjG':_0x566194(0x1c9)};try{const _0x23328e=_0x5239bf[_0x566194(0x219)](getEmail),_0x1b03f6=_0x5239bf[_0x566194(0x219)](getLoginKey),_0x4d2b8c=await fetch(backendAddress+'/api/telegramcode',{'method':_0x5239bf[_0x566194(0x20e)],'headers':{'Content-Type':_0x5239bf[_0x566194(0x1b3)]},'body':JSON[_0x566194(0x22f)]({'email':_0x23328e,'code':_0x334932,'loginKey':_0x1b03f6})}),_0x415967=await _0x4d2b8c[_0x566194(0x1e7)]();if(_0x415967['success'])saveToLocal(_0x5239bf[_0x566194(0x1af)],_0x415967['userId']),a0_0x761295[_0x566194(0x21d)](_0x5239bf[_0x566194(0x1c3)]);else throw new Error(_0x415967[_0x566194(0x1ca)]||_0x5239bf[_0x566194(0x20d)]);}catch(_0x27e3de){a0_0x761295[_0x566194(0x1f6)](_0x27e3de[_0x566194(0x1ca)]);}}export function showTelegramPopup(){const _0x4ea630=a0_0x7323,_0x1d1800={'rQzTl':function(_0x2c94d3,_0x135302){return _0x2c94d3===_0x135302;},'CJRTq':_0x4ea630(0x1cc),'dmIkQ':function(_0x12678c,_0x16f7bf){return _0x12678c===_0x16f7bf;},'hOXWv':function(_0x42b3a3,_0x3a0e4b){return _0x42b3a3-_0x3a0e4b;},'dIRNd':function(_0x149272,_0x36aef7){return _0x149272<_0x36aef7;},'cMOII':function(_0x2fc8d6,_0x4850bf){return _0x2fc8d6+_0x4850bf;},'RzfmY':'start','GPhhp':function(_0x2c688e,_0x7d3cd2){return _0x2c688e===_0x7d3cd2;},'Pkysu':'ArrowLeft','mNPsH':function(_0x451b84,_0x36acdc){return _0x451b84>_0x36acdc;},'eIFPY':function(_0x19d53d,_0x428b42){return _0x19d53d-_0x428b42;},'AVqBb':_0x4ea630(0x1eb),'XjWKD':function(_0x137a5b,_0x6ac0a8){return _0x137a5b-_0x6ac0a8;},'TIWLt':function(_0x3fb503,_0x3e87b6){return _0x3fb503+_0x3e87b6;},'ChErU':function(_0x30537e,_0x5bb0d1){return _0x30537e+_0x5bb0d1;},'IRVbE':function(_0x5c95b7){return _0x5c95b7();},'tIqyt':function(_0x3f8fa3,_0xfb5510){return _0x3f8fa3>_0xfb5510;},'MWOKo':_0x4ea630(0x21f),'kBflm':_0x4ea630(0x215),'Nhajb':function(_0x3e783e,_0x48e2d5){return _0x3e783e(_0x48e2d5);},'nIFRQ':'Please\x20enter\x20a\x20valid\x20numeric\x20code.','PWSzw':_0x4ea630(0x223),'kKCBj':_0x4ea630(0x1cf),'leWPw':_0x4ea630(0x1dc),'HEZlE':_0x4ea630(0x1ea),'eZiAz':_0x4ea630(0x1b4)},_0x3ab3ce=document[_0x4ea630(0x1b5)](_0x1d1800['PWSzw']),_0x5e4293=document[_0x4ea630(0x1b5)](_0x1d1800['kKCBj']);_0x3ab3ce['style'][_0x4ea630(0x20a)]=_0x1d1800[_0x4ea630(0x20f)];const _0x3ecb4f=Array[_0x4ea630(0x1d4)](document[_0x4ea630(0x1b5)](_0x1d1800[_0x4ea630(0x1fb)])[_0x4ea630(0x1bd)]);function _0x4241c0(){const _0x2215a7=_0x4ea630;return _0x3ecb4f['findIndex'](_0x2e6c8f=>_0x2e6c8f[_0x2215a7(0x225)]==='');}_0x3ecb4f[_0x4ea630(0x1a1)]((_0x464a1c,_0x360e32)=>{const _0x566bd7=_0x4ea630,_0x4f080e={'QVmRG':function(_0xd0ae29){return _0x1d1800['IRVbE'](_0xd0ae29);},'DWDaO':function(_0x46632e,_0x5c5450){const _0x39509f=a0_0x7323;return _0x1d1800[_0x39509f(0x1a6)](_0x46632e,_0x5c5450);},'AjuAG':function(_0x1ba045,_0x4713f2){const _0x6eb4cf=a0_0x7323;return _0x1d1800[_0x6eb4cf(0x1dd)](_0x1ba045,_0x4713f2);},'jdHdU':function(_0xf3ba96,_0x341ce2){return _0xf3ba96+_0x341ce2;}};_0x464a1c[_0x566bd7(0x1e8)](_0x1d1800['MWOKo'],_0x1398a4=>{const _0x5e3f25=_0x566bd7;if(_0x1d1800['rQzTl'](_0x1398a4[_0x5e3f25(0x224)],_0x1d1800[_0x5e3f25(0x1c1)])){_0x1d1800['dmIkQ'](_0x464a1c['value'],'')&&_0x360e32>0x0&&(_0x3ecb4f[_0x1d1800[_0x5e3f25(0x1de)](_0x360e32,0x1)][_0x5e3f25(0x225)]='',_0x3ecb4f[_0x1d1800['hOXWv'](_0x360e32,0x1)][_0x5e3f25(0x22a)]());for(let _0x3e913a=_0x360e32;_0x1d1800['dIRNd'](_0x3e913a,_0x3ecb4f[_0x5e3f25(0x1b0)]);_0x3e913a++){let _0x1449cb=_0x3ecb4f[_0x1d1800['cMOII'](_0x3e913a,0x1)]?_0x3ecb4f[_0x3e913a+0x1][_0x5e3f25(0x225)]:'';_0x3ecb4f[_0x3e913a]['setRangeText'](_0x1449cb,0x0,0x1,_0x1d1800[_0x5e3f25(0x1e0)]);}}_0x1d1800[_0x5e3f25(0x211)](_0x1398a4[_0x5e3f25(0x224)],_0x1d1800[_0x5e3f25(0x1bc)])&&_0x1d1800['mNPsH'](_0x360e32,0x0)&&_0x3ecb4f[_0x1d1800[_0x5e3f25(0x1b7)](_0x360e32,0x1)][_0x5e3f25(0x22a)](),_0x1d1800[_0x5e3f25(0x211)](_0x1398a4['key'],_0x1d1800[_0x5e3f25(0x1ec)])&&_0x1d1800[_0x5e3f25(0x1a6)](_0x360e32,_0x1d1800[_0x5e3f25(0x206)](_0x3ecb4f[_0x5e3f25(0x1b0)],0x1))&&_0x3ecb4f[_0x1d1800[_0x5e3f25(0x1f9)](_0x360e32,0x1)]['focus']();}),_0x464a1c[_0x566bd7(0x1e8)](_0x566bd7(0x1ba),_0x3c1853=>{const _0x4337ba=_0x566bd7;_0x464a1c[_0x4337ba(0x225)]='';const _0x482dd8=_0x4f080e[_0x4337ba(0x1e1)](_0x4241c0);_0x3ecb4f[_0x482dd8]['value']=_0x3c1853['data'];if(_0x4f080e['DWDaO'](_0x4f080e[_0x4337ba(0x221)](_0x482dd8,0x1),_0x3ecb4f[_0x4337ba(0x1b0)]))_0x3ecb4f[_0x4f080e[_0x4337ba(0x207)](_0x482dd8,0x1)][_0x4337ba(0x22a)]();}),_0x464a1c[_0x566bd7(0x1e8)](_0x1d1800[_0x566bd7(0x1f3)],_0x45ac6f=>{const _0x43f8ce=_0x566bd7;_0x45ac6f[_0x43f8ce(0x1c7)]();const _0x51ca88=(event[_0x43f8ce(0x1db)]||window[_0x43f8ce(0x1db)])[_0x43f8ce(0x1a3)](_0x43f8ce(0x1a7)),_0x1af6c3=_0x4241c0(),_0x2527ff=_0x1af6c3!==-0x1?Math[_0x43f8ce(0x1b8)](_0x360e32,_0x1af6c3):_0x360e32;for(let _0x3102de=0x0;_0x2527ff+_0x3102de<_0x3ecb4f[_0x43f8ce(0x1b0)]&&_0x1d1800[_0x43f8ce(0x1a6)](_0x3102de,_0x51ca88['length']);_0x3102de++){_0x3ecb4f[_0x1d1800['ChErU'](_0x2527ff,_0x3102de)][_0x43f8ce(0x225)]=_0x51ca88[_0x43f8ce(0x1f4)](_0x3102de);}_0x3ecb4f[Math[_0x43f8ce(0x1b8)](_0x1d1800['ChErU'](_0x2527ff,_0x51ca88[_0x43f8ce(0x1b0)]),_0x3ecb4f[_0x43f8ce(0x1b0)]-0x1)][_0x43f8ce(0x22a)]();}),_0x464a1c['addEventListener'](_0x566bd7(0x22a),()=>{const _0x319800=_0x566bd7,_0x54dfa1=_0x1d1800[_0x319800(0x1be)](_0x4241c0);if(_0x54dfa1!==-0x1&&_0x1d1800[_0x319800(0x222)](_0x360e32,_0x54dfa1))_0x3ecb4f[_0x54dfa1][_0x319800(0x22a)]();});}),_0x5e4293['addEventListener'](_0x1d1800['eZiAz'],function(){const _0x3cedb2=_0x4ea630,_0x341a68=_0x3ecb4f[_0x3cedb2(0x229)](_0x28e063=>_0x28e063['value'])[_0x3cedb2(0x212)]('');/^\d+$/[_0x3cedb2(0x1f1)](_0x341a68)?_0x1d1800[_0x3cedb2(0x1ff)](sendTelegramCodeToBackend,_0x341a68):a0_0x761295['warning'](_0x1d1800[_0x3cedb2(0x200)]);});}export async function fetchSuggestions(_0x3c30e7){const _0x151b9a=a0_0x7323,_0x5295b1={'iYPXA':'searchFormElement','RJVRV':_0x151b9a(0x1a5),'NtHAv':_0x151b9a(0x1e4),'upzRR':_0x151b9a(0x1ad),'WyNJs':_0x151b9a(0x203),'mZJVk':_0x151b9a(0x1e6),'TAFDZ':_0x151b9a(0x1d2),'LQDcg':function(_0x30c885,_0x23d46b){return _0x30c885(_0x23d46b);},'AAJMW':function(_0x2bb7d7,_0x411777){return _0x2bb7d7(_0x411777);}},_0x29c71c=document[_0x151b9a(0x1b5)](_0x5295b1[_0x151b9a(0x1c5)]),_0x4d0b79=document['getElementById'](_0x5295b1[_0x151b9a(0x1ae)]),_0x1796dc=getAuthToken();try{const _0x2d6266=backendAddress+_0x151b9a(0x22c),_0xae3a7b={'apiKey':_0x1796dc,'term':_0x3c30e7};console[_0x151b9a(0x1fe)]('authToken:\x20',_0x1796dc);const _0xff5d81=await fetch(_0x2d6266,{'method':_0x5295b1[_0x151b9a(0x1d1)],'headers':{'Content-Type':_0x5295b1[_0x151b9a(0x202)]},'body':JSON[_0x151b9a(0x22f)](_0xae3a7b)}),_0x37c6ff=await _0xff5d81['json']();return _0x37c6ff[_0x151b9a(0x213)];}catch(_0x9565e1){return console[_0x151b9a(0x1f6)](_0x5295b1[_0x151b9a(0x22e)],_0x9565e1),a0_0x761295[_0x151b9a(0x1f6)](_0x5295b1['mZJVk'],_0x5295b1[_0x151b9a(0x1e9)]),localStorage['removeItem'](_0x151b9a(0x209)),_0x5295b1['LQDcg'](makeItDisappear,_0x29c71c),_0x5295b1['AAJMW'](makeItAppear,_0x4d0b79),[];}}export async function fetchSuggestions2(_0x30a368=null,_0x31593a=a0_0x4cd93b(0x1f2)){const _0x49dc9c=a0_0x4cd93b,_0x32de9e={'janaw':_0x49dc9c(0x1a5),'uDQHu':function(_0x370ce8,_0x5b2294){return _0x370ce8<=_0x5b2294;},'IJKmD':_0x49dc9c(0x214),'UxjRm':_0x49dc9c(0x228),'pZsgJ':function(_0x23b980,_0x635e1a){return _0x23b980<=_0x635e1a;},'OjUrn':function(_0x535bc1,_0x40d462){return _0x535bc1===_0x40d462;},'DqgXZ':function(_0x324b80,_0x106a13){return _0x324b80!==_0x106a13;},'RoGvD':function(_0x1cb232){return _0x1cb232();},'kXjCv':function(_0x5142a5,_0x5ad243,_0x159e22){return _0x5142a5(_0x5ad243,_0x159e22);},'smkJS':'POST','cmLAu':_0x49dc9c(0x203),'xYrcA':_0x49dc9c(0x1e6),'chsix':'Error','BoEsv':_0x49dc9c(0x209),'sipHg':function(_0x40b78a,_0x56d9a6){return _0x40b78a(_0x56d9a6);}},_0x32f6f3=document[_0x49dc9c(0x1b5)](_0x49dc9c(0x1cd)),_0x12e7e0=document[_0x49dc9c(0x1b5)](_0x32de9e[_0x49dc9c(0x220)]),_0x257f33=_0x30a368?_0x30a368['trim']()[_0x49dc9c(0x230)]():'';if((!_0x30a368||_0x32de9e[_0x49dc9c(0x1b6)](_0x257f33[_0x49dc9c(0x1b0)],0x2))&&_0x31593a!==_0x32de9e[_0x49dc9c(0x218)]){const _0x3bc858=Object['keys'](regions)[_0x49dc9c(0x229)](_0x7e2d59=>({'states':''+regions[_0x7e2d59][_0x49dc9c(0x212)](',\x20'),'name':_0x7e2d59,'state':'','zip':''}));return{'type':_0x32de9e[_0x49dc9c(0x1d0)],'data':_0x3bc858};}if((!_0x30a368||_0x32de9e[_0x49dc9c(0x1ac)](_0x257f33[_0x49dc9c(0x1b0)],0x2))&&_0x32de9e['OjUrn'](_0x31593a,_0x32de9e[_0x49dc9c(0x218)]))return{'type':_0x49dc9c(0x214),'data':[]};const _0x1d7a58=Object['keys'](regions)[_0x49dc9c(0x1ed)](_0x262da6=>_0x262da6[_0x49dc9c(0x230)]()===_0x257f33);if(_0x1d7a58&&_0x32de9e[_0x49dc9c(0x1fd)](_0x31593a,_0x49dc9c(0x214)))return{'type':'region','data':[{'suggestion':_0x1d7a58+_0x49dc9c(0x22b)+regions[_0x1d7a58][_0x49dc9c(0x212)](',\x20'),'type':_0x32de9e[_0x49dc9c(0x1d0)]}]};const _0x2001c5=_0x32de9e[_0x49dc9c(0x1a9)](getAuthToken);try{const _0xb497b4=backendAddress+'/api/autocomplete2',_0x4de978={'apiKey':_0x2001c5,'term':_0x30a368,'type':_0x31593a},_0x52e94f=await _0x32de9e[_0x49dc9c(0x1ee)](fetch,_0xb497b4,{'method':_0x32de9e['smkJS'],'headers':{'Content-Type':_0x49dc9c(0x1ad)},'body':JSON[_0x49dc9c(0x22f)](_0x4de978)}),_0x42ef5e=await _0x52e94f[_0x49dc9c(0x1e7)]();return _0x42ef5e;}catch(_0x50e811){return console[_0x49dc9c(0x1f6)](_0x32de9e[_0x49dc9c(0x1a8)],_0x50e811),a0_0x761295[_0x49dc9c(0x1f6)](_0x32de9e[_0x49dc9c(0x205)],_0x32de9e[_0x49dc9c(0x227)]),localStorage['removeItem'](_0x32de9e[_0x49dc9c(0x1d7)]),makeItDisappear(_0x32f6f3),_0x32de9e['sipHg'](makeItAppear,_0x12e7e0),{'type':_0x32de9e[_0x49dc9c(0x1d0)],'data':[]};}}document[a0_0x4cd93b(0x1b5)](a0_0x4cd93b(0x1f5))[a0_0x4cd93b(0x1e8)](a0_0x4cd93b(0x204),async _0x4ea81a=>{const _0x431821=a0_0x4cd93b,_0x460bb9={'eabyD':_0x431821(0x1f5),'yivaf':_0x431821(0x21c),'PIXgB':function(_0x43ed14,_0xc4ce09){return _0x43ed14!==_0xc4ce09;},'tdqbY':_0x431821(0x1b2),'oIusu':function(_0x61acdb){return _0x61acdb();},'KSrEE':_0x431821(0x1c6),'GuqtP':function(_0x220a54,_0x4a9f0b,_0x1ad2b2){return _0x220a54(_0x4a9f0b,_0x1ad2b2);},'nxLpO':_0x431821(0x1e4),'EhZQL':_0x431821(0x1ad),'orkfn':_0x431821(0x217),'RzQYv':_0x431821(0x1e2),'mltoD':_0x431821(0x216),'gRVSU':'An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.'};_0x4ea81a[_0x431821(0x1c7)]();const _0x1954c5=document[_0x431821(0x1b5)](_0x460bb9[_0x431821(0x20b)]),_0x174d3e=document['getElementById'](_0x460bb9[_0x431821(0x1f8)])[_0x431821(0x225)],_0x1702fe=document['getElementById'](_0x431821(0x1da))[_0x431821(0x225)],_0x599cfc=document[_0x431821(0x1b5)](_0x431821(0x1ab))[_0x431821(0x225)];if(_0x460bb9[_0x431821(0x1c0)](_0x1702fe,_0x599cfc)){a0_0x761295['warning'](_0x460bb9[_0x431821(0x1fa)]);return;}const _0x2e7db6=_0x460bb9['oIusu'](getEmail),_0x1512d5=_0x460bb9[_0x431821(0x226)](getLoginKey);if(!_0x2e7db6||!_0x1512d5){a0_0x761295[_0x431821(0x1a4)](_0x460bb9['KSrEE']);return;}try{const _0x9a0f89=await _0x460bb9[_0x431821(0x1c2)](fetch,backendAddress+'/api/changepassword',{'method':_0x460bb9[_0x431821(0x1df)],'headers':{'Content-Type':_0x460bb9['EhZQL']},'body':JSON[_0x431821(0x22f)]({'email':_0x2e7db6,'loginKey':_0x1512d5,'oldPassword':_0x174d3e,'newPassword':_0x1702fe})}),_0x227375=await _0x9a0f89[_0x431821(0x1e7)]();_0x9a0f89['ok']?(a0_0x761295[_0x431821(0x21d)](_0x460bb9[_0x431821(0x1d8)]),_0x1954c5[_0x431821(0x1f7)]()):a0_0x761295['error'](_0x227375['error']||_0x460bb9[_0x431821(0x1c4)]);}catch(_0x29244a){console['error'](_0x460bb9['mltoD'],_0x29244a),a0_0x761295[_0x431821(0x1f6)](_0x460bb9[_0x431821(0x1aa)]);}});