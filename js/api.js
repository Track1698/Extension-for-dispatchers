const a0_0x325407=a0_0x3dc2;(function(_0xfdfa5f,_0x118b35){const _0x57ab27=a0_0x3dc2,_0x12806f=_0xfdfa5f();while(!![]){try{const _0x17e81d=parseInt(_0x57ab27(0x1f2))/0x1*(parseInt(_0x57ab27(0x1e7))/0x2)+parseInt(_0x57ab27(0x1f9))/0x3*(parseInt(_0x57ab27(0x16f))/0x4)+parseInt(_0x57ab27(0x1bc))/0x5*(parseInt(_0x57ab27(0x17b))/0x6)+parseInt(_0x57ab27(0x1b2))/0x7+parseInt(_0x57ab27(0x1cd))/0x8*(-parseInt(_0x57ab27(0x198))/0x9)+-parseInt(_0x57ab27(0x1c3))/0xa*(-parseInt(_0x57ab27(0x170))/0xb)+parseInt(_0x57ab27(0x16d))/0xc*(-parseInt(_0x57ab27(0x1d6))/0xd);if(_0x17e81d===_0x118b35)break;else _0x12806f['push'](_0x12806f['shift']());}catch(_0xebd8cb){_0x12806f['push'](_0x12806f['shift']());}}}(a0_0x4e90,0x54e71));import a0_0x3cb01f from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x25bfa4=a0_0x3dc2,_0x3d5e7b={'KLOGr':_0x25bfa4(0x1b3),'yheBH':_0x25bfa4(0x182),'lWzXK':_0x25bfa4(0x199)};chrome['storage']['local'][_0x25bfa4(0x1e2)]([_0x3d5e7b[_0x25bfa4(0x1ae)],_0x25bfa4(0x1b4),_0x25bfa4(0x1ed),_0x25bfa4(0x1aa),_0x3d5e7b[_0x25bfa4(0x1cf)]],()=>{const _0x16e78d=_0x25bfa4;a0_0x3cb01f[_0x16e78d(0x1c2)](_0x3d5e7b[_0x16e78d(0x181)]);});}export async function sendTelegramCodeToBackend(_0x7c7c8f){const _0x4e1fc5=a0_0x3dc2,_0x5d86bc={'smifS':function(_0x3f8726){return _0x3f8726();},'URBlC':_0x4e1fc5(0x1a4),'zWxmK':_0x4e1fc5(0x1e8),'gAusA':_0x4e1fc5(0x1be)};try{const _0x6f40d3=getEmail(),_0x4ce0d6=_0x5d86bc[_0x4e1fc5(0x1f3)](getLoginKey),_0x7974b4=await fetch(backendAddress+'/api/telegramcode',{'method':_0x5d86bc['URBlC'],'headers':{'Content-Type':_0x5d86bc[_0x4e1fc5(0x1a7)]},'body':JSON['stringify']({'email':_0x6f40d3,'code':_0x7c7c8f,'loginKey':_0x4ce0d6})}),_0x6e4fe=await _0x7974b4[_0x4e1fc5(0x190)]();if(_0x6e4fe[_0x4e1fc5(0x1b1)])saveToLocal(_0x4e1fc5(0x177),_0x6e4fe[_0x4e1fc5(0x1d2)]),a0_0x3cb01f['success'](_0x5d86bc[_0x4e1fc5(0x187)]);else throw new Error(_0x6e4fe[_0x4e1fc5(0x1d3)]||_0x4e1fc5(0x1e5));}catch(_0xe6e223){a0_0x3cb01f[_0x4e1fc5(0x194)](_0xe6e223[_0x4e1fc5(0x1d3)]);}}export function showTelegramPopup(){const _0x3635d5=a0_0x3dc2,_0x2f1a0a={'TrzMR':function(_0xaa0b40,_0x196cc3){return _0xaa0b40>_0x196cc3;},'oCPIj':function(_0x6c3cdc,_0x4ad879){return _0x6c3cdc-_0x4ad879;},'rSVqQ':function(_0x5a71bd,_0x1f82ed){return _0x5a71bd<_0x1f82ed;},'ypziQ':function(_0x4804d8,_0x1982a2){return _0x4804d8+_0x1982a2;},'VxypG':_0x3635d5(0x1a6),'ktHXp':function(_0x3b9d54,_0x1a3d63){return _0x3b9d54+_0x1a3d63;},'GTBDJ':function(_0x4e5822){return _0x4e5822();},'rhIhk':function(_0x327a99,_0x50e5c7){return _0x327a99!==_0x50e5c7;},'iInks':_0x3635d5(0x18e),'kEwtT':_0x3635d5(0x1bd),'TjxNU':_0x3635d5(0x1c0),'IQmTM':function(_0x52e2e0,_0x1435dc){return _0x52e2e0(_0x1435dc);},'GQzQI':_0x3635d5(0x1e9),'vGxNr':_0x3635d5(0x17d),'rWxnm':_0x3635d5(0x195),'kLAHy':_0x3635d5(0x1af),'ffkll':_0x3635d5(0x1d7)},_0x9f0c0a=document[_0x3635d5(0x180)](_0x2f1a0a[_0x3635d5(0x1ea)]),_0x564756=document[_0x3635d5(0x180)](_0x2f1a0a['rWxnm']);_0x9f0c0a[_0x3635d5(0x179)][_0x3635d5(0x1d4)]=_0x2f1a0a[_0x3635d5(0x1a2)];const _0x5680b1=Array[_0x3635d5(0x196)](document['getElementById'](_0x3635d5(0x19b))[_0x3635d5(0x1b6)]);function _0x3f332a(){const _0x530a76=_0x3635d5;return _0x5680b1[_0x530a76(0x19d)](_0x46dc59=>_0x46dc59[_0x530a76(0x1f4)]==='');}_0x5680b1[_0x3635d5(0x1e4)]((_0x168a97,_0x3bf357)=>{const _0x2c63ab=_0x3635d5,_0x42109d={'UPfQy':function(_0x1f2c75,_0x4fc76f){const _0x5c0925=a0_0x3dc2;return _0x2f1a0a[_0x5c0925(0x1ca)](_0x1f2c75,_0x4fc76f);},'jXtMw':function(_0x34be2d,_0x552ff5){const _0x37bb2=a0_0x3dc2;return _0x2f1a0a[_0x37bb2(0x1d9)](_0x34be2d,_0x552ff5);},'nmRtX':function(_0x30d74a,_0x44668b){const _0x65cd05=a0_0x3dc2;return _0x2f1a0a[_0x65cd05(0x1d9)](_0x30d74a,_0x44668b);},'YcwpT':function(_0x56ea88,_0x5e6455){const _0x47b523=a0_0x3dc2;return _0x2f1a0a[_0x47b523(0x1ad)](_0x56ea88,_0x5e6455);},'LsYRO':function(_0x13c71e,_0x118b82){const _0x199651=a0_0x3dc2;return _0x2f1a0a[_0x199651(0x1ab)](_0x13c71e,_0x118b82);},'YosQh':_0x2f1a0a[_0x2c63ab(0x1ec)],'ViHAU':function(_0x57d7b8,_0x66d18a){return _0x57d7b8===_0x66d18a;},'aJURg':_0x2c63ab(0x17a),'yGVTH':function(_0x5e07d7,_0x5e9366){const _0x426fcf=_0x2c63ab;return _0x2f1a0a[_0x426fcf(0x1ad)](_0x5e07d7,_0x5e9366);},'BRnoQ':function(_0x51d53a,_0x1a9a6b){return _0x51d53a-_0x1a9a6b;},'wUWqD':function(_0xf6c4cb,_0x522d5a){return _0xf6c4cb<_0x522d5a;},'ewKwl':function(_0x4bdbf8,_0x27d76d){const _0x4d92bf=_0x2c63ab;return _0x2f1a0a[_0x4d92bf(0x18b)](_0x4bdbf8,_0x27d76d);},'OGChj':'text','WFhkt':function(_0x1a917f,_0x56d617){return _0x1a917f!==_0x56d617;},'VwwAH':function(_0x108f80,_0x42bfc6){return _0x2f1a0a['ypziQ'](_0x108f80,_0x42bfc6);},'gLqho':function(_0x5d8dc5,_0x589d73){const _0x5f506d=_0x2c63ab;return _0x2f1a0a[_0x5f506d(0x18b)](_0x5d8dc5,_0x589d73);},'TuZGJ':function(_0x19935f){return _0x2f1a0a['GTBDJ'](_0x19935f);},'bbizV':function(_0x452807,_0xcc911e){const _0x4f315c=_0x2c63ab;return _0x2f1a0a[_0x4f315c(0x188)](_0x452807,_0xcc911e);},'cGXZJ':function(_0x4c0114,_0x3b40c4){return _0x2f1a0a['TrzMR'](_0x4c0114,_0x3b40c4);}};_0x168a97['addEventListener'](_0x2f1a0a[_0x2c63ab(0x174)],_0x516df1=>{const _0x48dfa2=_0x2c63ab;if(_0x516df1[_0x48dfa2(0x175)]===_0x48dfa2(0x1ef)){_0x168a97[_0x48dfa2(0x1f4)]===''&&_0x42109d[_0x48dfa2(0x178)](_0x3bf357,0x0)&&(_0x5680b1[_0x42109d[_0x48dfa2(0x1ee)](_0x3bf357,0x1)][_0x48dfa2(0x1f4)]='',_0x5680b1[_0x42109d[_0x48dfa2(0x19c)](_0x3bf357,0x1)][_0x48dfa2(0x1c0)]());for(let _0xf65476=_0x3bf357;_0x42109d[_0x48dfa2(0x1a3)](_0xf65476,_0x5680b1[_0x48dfa2(0x1b9)]);_0xf65476++){let _0x57292f=_0x5680b1[_0x42109d['LsYRO'](_0xf65476,0x1)]?_0x5680b1[_0x42109d[_0x48dfa2(0x19a)](_0xf65476,0x1)][_0x48dfa2(0x1f4)]:'';_0x5680b1[_0xf65476][_0x48dfa2(0x1c4)](_0x57292f,0x0,0x1,_0x42109d['YosQh']);}}_0x42109d['ViHAU'](_0x516df1[_0x48dfa2(0x175)],_0x42109d[_0x48dfa2(0x1c1)])&&_0x3bf357>0x0&&_0x5680b1[_0x42109d[_0x48dfa2(0x1ee)](_0x3bf357,0x1)][_0x48dfa2(0x1c0)](),_0x42109d[_0x48dfa2(0x1f7)](_0x516df1[_0x48dfa2(0x175)],_0x48dfa2(0x1d5))&&_0x42109d['yGVTH'](_0x3bf357,_0x42109d['BRnoQ'](_0x5680b1[_0x48dfa2(0x1b9)],0x1))&&_0x5680b1[_0x3bf357+0x1][_0x48dfa2(0x1c0)]();}),_0x168a97[_0x2c63ab(0x189)](_0x2c63ab(0x191),_0x3e73a3=>{const _0x377d72=_0x2c63ab;_0x168a97[_0x377d72(0x1f4)]='';const _0x2e7a4a=_0x3f332a();_0x5680b1[_0x2e7a4a][_0x377d72(0x1f4)]=_0x3e73a3[_0x377d72(0x1ba)];if(_0x42109d[_0x377d72(0x184)](_0x42109d['ewKwl'](_0x2e7a4a,0x1),_0x5680b1[_0x377d72(0x1b9)]))_0x5680b1[_0x2e7a4a+0x1][_0x377d72(0x1c0)]();}),_0x168a97[_0x2c63ab(0x189)](_0x2f1a0a[_0x2c63ab(0x1cb)],_0x45b591=>{const _0x24e07c=_0x2c63ab;_0x45b591[_0x24e07c(0x1e0)]();const _0x3f49be=(event[_0x24e07c(0x18a)]||window['clipboardData'])[_0x24e07c(0x18c)](_0x42109d[_0x24e07c(0x1a5)]),_0x387e4a=_0x3f332a(),_0xbfe290=_0x42109d['WFhkt'](_0x387e4a,-0x1)?Math[_0x24e07c(0x1f8)](_0x3bf357,_0x387e4a):_0x3bf357;for(let _0x368be7=0x0;_0x42109d[_0x24e07c(0x1a9)](_0xbfe290,_0x368be7)<_0x5680b1[_0x24e07c(0x1b9)]&&_0x368be7<_0x3f49be[_0x24e07c(0x1b9)];_0x368be7++){_0x5680b1[_0xbfe290+_0x368be7][_0x24e07c(0x1f4)]=_0x3f49be[_0x24e07c(0x16c)](_0x368be7);}_0x5680b1[Math[_0x24e07c(0x1f8)](_0x42109d['gLqho'](_0xbfe290,_0x3f49be[_0x24e07c(0x1b9)]),_0x42109d['jXtMw'](_0x5680b1['length'],0x1))][_0x24e07c(0x1c0)]();}),_0x168a97[_0x2c63ab(0x189)](_0x2f1a0a[_0x2c63ab(0x183)],()=>{const _0x18bfd2=_0x2c63ab,_0x200c93=_0x42109d[_0x18bfd2(0x1b8)](_0x3f332a);if(_0x42109d[_0x18bfd2(0x1c8)](_0x200c93,-0x1)&&_0x42109d[_0x18bfd2(0x172)](_0x3bf357,_0x200c93))_0x5680b1[_0x200c93][_0x18bfd2(0x1c0)]();});}),_0x564756[_0x3635d5(0x189)](_0x2f1a0a[_0x3635d5(0x17c)],function(){const _0x1a8caa=_0x3635d5,_0x2698eb=_0x5680b1['map'](_0x368099=>_0x368099['value'])[_0x1a8caa(0x1c6)]('');/^\d+$/[_0x1a8caa(0x185)](_0x2698eb)?_0x2f1a0a['IQmTM'](sendTelegramCodeToBackend,_0x2698eb):a0_0x3cb01f[_0x1a8caa(0x19f)](_0x2f1a0a[_0x1a8caa(0x1c9)]);});}export async function fetchSuggestions(_0x50ec7f){const _0x402fed=a0_0x3dc2,_0x44783c={'UsQmt':_0x402fed(0x17f),'IwEQu':_0x402fed(0x1de),'vXfME':function(_0x4be3f0){return _0x4be3f0();},'PiJYY':_0x402fed(0x197),'euAwF':function(_0x4d99ec,_0x22c3b5,_0x268a76){return _0x4d99ec(_0x22c3b5,_0x268a76);},'JnAzt':_0x402fed(0x1e8),'Htiho':'2|1|5|4|0|3','oNyWJ':function(_0x194f6f,_0x7006c3){return _0x194f6f(_0x7006c3);},'LlaqX':'Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','HIRtJ':_0x402fed(0x1b0),'cuMnK':_0x402fed(0x182)},_0x5774c9=document['getElementById'](_0x44783c[_0x402fed(0x1ac)]),_0x56ae35=document[_0x402fed(0x180)](_0x44783c[_0x402fed(0x193)]),_0x410e6c=_0x44783c[_0x402fed(0x1e6)](getAuthToken);try{const _0x46c37e=backendAddress+_0x402fed(0x1f0),_0x1e13ea={'apiKey':_0x410e6c,'term':_0x50ec7f};console[_0x402fed(0x1d0)](_0x44783c['PiJYY'],_0x410e6c);const _0x5ce0b6=await _0x44783c['euAwF'](fetch,_0x46c37e,{'method':_0x402fed(0x1a4),'headers':{'Content-Type':_0x44783c['JnAzt']},'body':JSON[_0x402fed(0x18f)](_0x1e13ea)}),_0x1d6700=await _0x5ce0b6[_0x402fed(0x190)]();return _0x1d6700[_0x402fed(0x1ce)];}catch(_0x51af9b){const _0x19f400=_0x44783c['Htiho'][_0x402fed(0x171)]('|');let _0x587eab=0x0;while(!![]){switch(_0x19f400[_0x587eab++]){case'0':_0x44783c['oNyWJ'](makeItAppear,_0x56ae35);continue;case'1':a0_0x3cb01f[_0x402fed(0x194)](_0x44783c[_0x402fed(0x1bb)],_0x402fed(0x1fa));continue;case'2':console[_0x402fed(0x194)](_0x44783c[_0x402fed(0x1bf)],_0x51af9b);continue;case'3':return[];case'4':_0x44783c[_0x402fed(0x186)](makeItDisappear,_0x5774c9);continue;case'5':localStorage[_0x402fed(0x1d1)](_0x44783c['cuMnK']);continue;}break;}}}function a0_0x3dc2(_0x1d9f12,_0x524a12){const _0x4e9051=a0_0x4e90();return a0_0x3dc2=function(_0x3dc21f,_0x4366a6){_0x3dc21f=_0x3dc21f-0x16b;let _0x41c713=_0x4e9051[_0x3dc21f];return _0x41c713;},a0_0x3dc2(_0x1d9f12,_0x524a12);}function a0_0x4e90(){const _0x124f68=['test','oNyWJ','gAusA','rhIhk','addEventListener','clipboardData','ktHXp','getData','kMbpH','keydown','stringify','json','input','chPav','IwEQu','error','telegramVerifyButton','from','authToken:\x20','9vWDLyL','searches','LsYRO','verification-input','nmRtX','findIndex','confirm-password','warning','reset','Password\x20changed\x20successfully','kLAHy','YcwpT','POST','OGChj','start','zWxmK','deslY','VwwAH','blacklist','ypziQ','UsQmt','rSVqQ','yheBH','flex','Error\x20fetching\x20suggestions:','success','2932412tjgTNh','Logged\x20out\x20successfully.','email','TxNBr','children','Error\x20adding\x20item\x20to\x20blacklist','TuZGJ','length','data','LlaqX','5wApKwb','paste','Telegram\x20connected\x20successfully!','HIRtJ','focus','aJURg','info','20eWdOeu','setRangeText','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','join','/api/updateblacklist','bbizV','GQzQI','TrzMR','kEwtT','Error\x20changing\x20password:','4221400zNrCdZ','items','lWzXK','log','removeItem','userId','message','display','ArrowRight','14443kmNCQu','click','YKjco','oCPIj','zNXil','/api/changepassword','new-password','NkaVx','controlElement','ABCzR','preventDefault','change-password-form','remove','RGljU','forEach','Telegram\x20connection\x20failed.','vXfME','6eqoSpK','application/json','Please\x20enter\x20a\x20valid\x20numeric\x20code.','vGxNr','submit','VxypG','companyId','jXtMw','Backspace','/api/autocomplete','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','156593oRhvii','smifS','value','SpZYR','name','ViHAU','min','9285pzjrsE','Error','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','charAt','13368ViOEeS','XTazd','376HchQWf','2921974qEAlED','split','cGXZJ','Ikrgm','iInks','key','HvyCG','telegramId','UPfQy','style','ArrowLeft','2413182igPHwA','ffkll','telegramPopup','current-password','searchFormElement','getElementById','KLOGr','authToken','TjxNU','wUWqD'];a0_0x4e90=function(){return _0x124f68;};return a0_0x4e90();}export async function updateBlacklistInDatabase(_0x55290e,_0x15cc29){const _0xa57c68=a0_0x3dc2,_0x3076ea={'NkaVx':function(_0x2a4ba9){return _0x2a4ba9();},'ABCzR':function(_0x2c2c4e){return _0x2c2c4e();},'XTazd':function(_0x8425e9,_0x254a73,_0x2875b7){return _0x8425e9(_0x254a73,_0x2875b7);},'wWHUZ':'application/json','YKjco':'Error\x20fetching\x20suggestions:','chPav':_0xa57c68(0x1b7),'Ikrgm':_0xa57c68(0x1fa)};try{const _0x52e123=_0x3076ea[_0xa57c68(0x1dd)](getEmail),_0x37177c=_0x3076ea[_0xa57c68(0x1df)](getCompanyId),_0x495801=backendAddress+_0xa57c68(0x1c7),_0x387e71={'companyId':_0x37177c,'email':_0x52e123,'name':_0x55290e[_0xa57c68(0x1f6)],'address':_0x55290e['address'],'action':_0x15cc29},_0x4b8059=await _0x3076ea[_0xa57c68(0x16e)](fetch,_0x495801,{'method':_0xa57c68(0x1a4),'headers':{'Content-Type':_0x3076ea['wWHUZ']},'body':JSON[_0xa57c68(0x18f)](_0x387e71)}),_0x1c7834=await _0x4b8059[_0xa57c68(0x190)]();return _0x1c7834['blacklist'];}catch(_0x33dbf2){return console[_0xa57c68(0x194)](_0x3076ea[_0xa57c68(0x1d8)],_0x33dbf2),a0_0x3cb01f[_0xa57c68(0x194)](_0x3076ea[_0xa57c68(0x192)],_0x3076ea[_0xa57c68(0x173)]),[];}}document['getElementById']('change-password-form')[a0_0x325407(0x189)](a0_0x325407(0x1eb),async _0x4ea933=>{const _0x39aa1f=a0_0x325407,_0x15afcb={'deslY':_0x39aa1f(0x1e1),'HAQfw':_0x39aa1f(0x17e),'HvyCG':_0x39aa1f(0x1dc),'MopIw':_0x39aa1f(0x19e),'RGljU':_0x39aa1f(0x1c5),'TxNBr':function(_0x1bdb55){return _0x1bdb55();},'SpZYR':function(_0x1a90f6,_0x3ed20f){return _0x1a90f6||_0x3ed20f;},'aaBKy':_0x39aa1f(0x1f1),'zNXil':_0x39aa1f(0x1a4),'kMbpH':_0x39aa1f(0x1e8),'ZmZbX':_0x39aa1f(0x1a1),'RNRrz':_0x39aa1f(0x16b),'mCITI':_0x39aa1f(0x1cc)};_0x4ea933['preventDefault']();const _0x289682=document[_0x39aa1f(0x180)](_0x15afcb[_0x39aa1f(0x1a8)]),_0x33d234=document[_0x39aa1f(0x180)](_0x15afcb['HAQfw'])['value'],_0x4ded2e=document[_0x39aa1f(0x180)](_0x15afcb[_0x39aa1f(0x176)])[_0x39aa1f(0x1f4)],_0x1d1e1d=document[_0x39aa1f(0x180)](_0x15afcb['MopIw'])[_0x39aa1f(0x1f4)];if(_0x4ded2e!==_0x1d1e1d){a0_0x3cb01f[_0x39aa1f(0x19f)](_0x15afcb[_0x39aa1f(0x1e3)]);return;}const _0xd586da=_0x15afcb[_0x39aa1f(0x1b5)](getEmail),_0x503a98=getLoginKey();if(_0x15afcb[_0x39aa1f(0x1f5)](!_0xd586da,!_0x503a98)){a0_0x3cb01f[_0x39aa1f(0x19f)](_0x15afcb['aaBKy']);return;}try{const _0x2e6c75=await fetch(backendAddress+_0x39aa1f(0x1db),{'method':_0x15afcb[_0x39aa1f(0x1da)],'headers':{'Content-Type':_0x15afcb[_0x39aa1f(0x18d)]},'body':JSON[_0x39aa1f(0x18f)]({'email':_0xd586da,'loginKey':_0x503a98,'oldPassword':_0x33d234,'newPassword':_0x4ded2e})}),_0x3ddbf2=await _0x2e6c75['json']();_0x2e6c75['ok']?(a0_0x3cb01f[_0x39aa1f(0x1b1)](_0x15afcb['ZmZbX']),_0x289682[_0x39aa1f(0x1a0)]()):a0_0x3cb01f['error'](_0x3ddbf2[_0x39aa1f(0x194)]||_0x15afcb['RNRrz']);}catch(_0x41be81){console['error'](_0x15afcb['mCITI'],_0x41be81),a0_0x3cb01f[_0x39aa1f(0x194)]('An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.');}});