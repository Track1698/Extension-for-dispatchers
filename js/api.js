const a0_0x516ea2=a0_0x30d3;(function(_0x20d2ce,_0x4a94a2){const _0x2e0ade=a0_0x30d3,_0x14e6b5=_0x20d2ce();while(!![]){try{const _0x5f45dc=parseInt(_0x2e0ade(0xa4))/0x1+parseInt(_0x2e0ade(0xbf))/0x2*(-parseInt(_0x2e0ade(0x105))/0x3)+parseInt(_0x2e0ade(0xde))/0x4*(-parseInt(_0x2e0ade(0xe3))/0x5)+parseInt(_0x2e0ade(0xf3))/0x6*(-parseInt(_0x2e0ade(0x106))/0x7)+parseInt(_0x2e0ade(0x100))/0x8+-parseInt(_0x2e0ade(0xf0))/0x9*(parseInt(_0x2e0ade(0x10c))/0xa)+parseInt(_0x2e0ade(0x99))/0xb;if(_0x5f45dc===_0x4a94a2)break;else _0x14e6b5['push'](_0x14e6b5['shift']());}catch(_0x21dbb6){_0x14e6b5['push'](_0x14e6b5['shift']());}}}(a0_0x22df,0xd3b66));import a0_0xc863fc from'./alerts.js';function a0_0x30d3(_0x2ea713,_0x422b3e){const _0x22dfa1=a0_0x22df();return a0_0x30d3=function(_0x30d371,_0x34fec1){_0x30d371=_0x30d371-0x93;let _0x77e7cb=_0x22dfa1[_0x30d371];return _0x77e7cb;},a0_0x30d3(_0x2ea713,_0x422b3e);}import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x1e1304=a0_0x30d3,_0xb92f6c={'iPOcY':_0x1e1304(0x116),'nkUDf':'authToken','hdiYr':_0x1e1304(0x113),'fPPWk':_0x1e1304(0xe8)};chrome[_0x1e1304(0xd9)][_0x1e1304(0xed)][_0x1e1304(0x11b)]([_0xb92f6c['nkUDf'],_0xb92f6c[_0x1e1304(0xb8)],_0xb92f6c['fPPWk'],'blacklist',_0x1e1304(0x107)],()=>{const _0x2fbf43=_0x1e1304;a0_0xc863fc['info'](_0xb92f6c[_0x2fbf43(0x10d)]);});}export async function sendTelegramCodeToBackend(_0x4077ea){const _0x5de426=a0_0x30d3,_0x155fd4={'lovSz':function(_0x1c354f){return _0x1c354f();},'YIikk':function(_0x49bacf,_0x495310,_0x1b60fd){return _0x49bacf(_0x495310,_0x1b60fd);},'UikNn':'POST','tOumX':function(_0x5a8124,_0x12868d,_0x4347d3){return _0x5a8124(_0x12868d,_0x4347d3);},'dugdx':_0x5de426(0x97),'vNzmA':'Telegram\x20connection\x20failed.'};try{const _0x421c27=_0x155fd4[_0x5de426(0xf1)](getEmail),_0x15f3ba=getLoginKey(),_0x32a3bf=await _0x155fd4[_0x5de426(0xa2)](fetch,backendAddress+_0x5de426(0xe2),{'method':_0x155fd4['UikNn'],'headers':{'Content-Type':_0x5de426(0xc8)},'body':JSON['stringify']({'email':_0x421c27,'code':_0x4077ea,'loginKey':_0x15f3ba})}),_0x4c142e=await _0x32a3bf[_0x5de426(0xb1)]();if(_0x4c142e[_0x5de426(0xe9)])_0x155fd4['tOumX'](saveToLocal,_0x155fd4['dugdx'],_0x4c142e['userId']),a0_0xc863fc[_0x5de426(0xe9)](_0x5de426(0xa0));else throw new Error(_0x4c142e[_0x5de426(0xce)]||_0x155fd4[_0x5de426(0xa1)]);}catch(_0xe9b988){a0_0xc863fc['error'](_0xe9b988[_0x5de426(0xce)]);}}export function showTelegramPopup(){const _0xe77baa=a0_0x30d3,_0x4be85c={'SDWQH':function(_0x3e9cc5,_0xabde7c){return _0x3e9cc5===_0xabde7c;},'ItrAF':function(_0x35cd29,_0x3ed1ed){return _0x35cd29>_0x3ed1ed;},'gYyOb':function(_0xe311d2,_0x5e224d){return _0xe311d2-_0x5e224d;},'CUsFx':function(_0x4b4619,_0x228f73){return _0x4b4619<_0x228f73;},'DHNIq':function(_0x2eecf3,_0x6eb169){return _0x2eecf3+_0x6eb169;},'hLBSE':function(_0x1cdc99,_0x5e7f50){return _0x1cdc99+_0x5e7f50;},'mOeoY':_0xe77baa(0xf5),'qSOwX':_0xe77baa(0x9b),'XFPft':function(_0x249d6d,_0x577ee9){return _0x249d6d<_0x577ee9;},'SLjfj':function(_0x5905a7,_0x17e7b9){return _0x5905a7-_0x17e7b9;},'AuArj':function(_0x35ddac,_0x343bd8){return _0x35ddac+_0x343bd8;},'jFxYm':_0xe77baa(0xdd),'AOXSE':function(_0x27c8b2){return _0x27c8b2();},'QBpvF':function(_0x1e1a08,_0x5a1e9e){return _0x1e1a08!==_0x5a1e9e;},'fubcm':function(_0x2943e3,_0x1e5862){return _0x2943e3<_0x1e5862;},'arDRh':function(_0x53a184,_0x39fa7b){return _0x53a184+_0x39fa7b;},'QLblV':function(_0x3a7d6a,_0x5621eb){return _0x3a7d6a!==_0x5621eb;},'iqKYv':_0xe77baa(0xd2),'uWXcL':_0xe77baa(0xc5),'KgsGP':'focus','sMCGb':function(_0x2b95e8,_0x4c9b56){return _0x2b95e8(_0x4c9b56);},'NiZpS':'Please\x20enter\x20a\x20valid\x20numeric\x20code.','lkwim':_0xe77baa(0xac),'iNdWV':_0xe77baa(0xd3),'XOTuq':'click'},_0x13282e=document[_0xe77baa(0xb9)](_0xe77baa(0xdc)),_0x5bec1a=document[_0xe77baa(0xb9)](_0xe77baa(0xcb));_0x13282e[_0xe77baa(0xea)][_0xe77baa(0x96)]=_0x4be85c['lkwim'];const _0xfd186a=Array[_0xe77baa(0xff)](document[_0xe77baa(0xb9)](_0x4be85c['iNdWV'])[_0xe77baa(0xfa)]);function _0x2e2520(){const _0x1cdc3e=_0xe77baa;return _0xfd186a['findIndex'](_0x35e106=>_0x35e106[_0x1cdc3e(0xad)]==='');}_0xfd186a[_0xe77baa(0xe7)]((_0x582632,_0x20d150)=>{const _0x29364d=_0xe77baa,_0x429e6b={'NbnXc':function(_0xde7be7,_0x52c82f){const _0x3b20ec=a0_0x30d3;return _0x4be85c[_0x3b20ec(0xd1)](_0xde7be7,_0x52c82f);}};_0x582632[_0x29364d(0xab)](_0x4be85c[_0x29364d(0xe6)],_0x582fcb=>{const _0x235e75=_0x29364d;if(_0x4be85c[_0x235e75(0xd8)](_0x582fcb[_0x235e75(0x117)],_0x235e75(0xcc))){_0x4be85c['SDWQH'](_0x582632[_0x235e75(0xad)],'')&&_0x4be85c[_0x235e75(0xd6)](_0x20d150,0x0)&&(_0xfd186a[_0x20d150-0x1][_0x235e75(0xad)]='',_0xfd186a[_0x4be85c[_0x235e75(0xe5)](_0x20d150,0x1)]['focus']());for(let _0xa51ef5=_0x20d150;_0x4be85c[_0x235e75(0xa5)](_0xa51ef5,_0xfd186a[_0x235e75(0xc2)]);_0xa51ef5++){let _0x4d44bc=_0xfd186a[_0x4be85c['DHNIq'](_0xa51ef5,0x1)]?_0xfd186a[_0x4be85c['hLBSE'](_0xa51ef5,0x1)]['value']:'';_0xfd186a[_0xa51ef5]['setRangeText'](_0x4d44bc,0x0,0x1,_0x235e75(0xc7));}}_0x4be85c[_0x235e75(0xd8)](_0x582fcb[_0x235e75(0x117)],_0x4be85c[_0x235e75(0xdf)])&&_0x20d150>0x0&&_0xfd186a[_0x4be85c['gYyOb'](_0x20d150,0x1)][_0x235e75(0xec)](),_0x4be85c['SDWQH'](_0x582fcb[_0x235e75(0x117)],_0x4be85c[_0x235e75(0x9c)])&&_0x4be85c[_0x235e75(0xeb)](_0x20d150,_0x4be85c[_0x235e75(0x102)](_0xfd186a[_0x235e75(0xc2)],0x1))&&_0xfd186a[_0x4be85c[_0x235e75(0xd0)](_0x20d150,0x1)][_0x235e75(0xec)]();}),_0x582632[_0x29364d(0xab)](_0x4be85c['uWXcL'],_0x4bd20b=>{const _0x115a0a=_0x29364d;_0x582632[_0x115a0a(0xad)]='';const _0xd183dc=_0x2e2520();_0xfd186a[_0xd183dc][_0x115a0a(0xad)]=_0x4bd20b[_0x115a0a(0xfd)];if(_0x429e6b['NbnXc'](_0xd183dc,0x1)<_0xfd186a['length'])_0xfd186a[_0x429e6b[_0x115a0a(0xf9)](_0xd183dc,0x1)]['focus']();}),_0x582632[_0x29364d(0xab)](_0x29364d(0x110),_0x4feae9=>{const _0x2e8c3c=_0x29364d;_0x4feae9[_0x2e8c3c(0x103)]();const _0x211718=(event['clipboardData']||window[_0x2e8c3c(0x119)])[_0x2e8c3c(0xa7)](_0x4be85c[_0x2e8c3c(0x118)]),_0x4d7761=_0x4be85c[_0x2e8c3c(0x10a)](_0x2e2520),_0x202960=_0x4be85c[_0x2e8c3c(0xf8)](_0x4d7761,-0x1)?Math[_0x2e8c3c(0xb4)](_0x20d150,_0x4d7761):_0x20d150;for(let _0x5b0ab5=0x0;_0x4be85c[_0x2e8c3c(0x111)](_0x202960+_0x5b0ab5,_0xfd186a['length'])&&_0x4be85c[_0x2e8c3c(0xa5)](_0x5b0ab5,_0x211718['length']);_0x5b0ab5++){_0xfd186a[_0x4be85c[_0x2e8c3c(0xd1)](_0x202960,_0x5b0ab5)][_0x2e8c3c(0xad)]=_0x211718[_0x2e8c3c(0xba)](_0x5b0ab5);}_0xfd186a[Math[_0x2e8c3c(0xb4)](_0x202960+_0x211718[_0x2e8c3c(0xc2)],_0x4be85c[_0x2e8c3c(0x102)](_0xfd186a[_0x2e8c3c(0xc2)],0x1))]['focus']();}),_0x582632[_0x29364d(0xab)](_0x4be85c[_0x29364d(0xdb)],()=>{const _0x4c092e=_0x29364d,_0x3011c9=_0x4be85c['AOXSE'](_0x2e2520);if(_0x4be85c[_0x4c092e(0x10e)](_0x3011c9,-0x1)&&_0x4be85c['ItrAF'](_0x20d150,_0x3011c9))_0xfd186a[_0x3011c9][_0x4c092e(0xec)]();});}),_0x5bec1a['addEventListener'](_0x4be85c['XOTuq'],function(){const _0x4081c8=_0xe77baa,_0x41fc34=_0xfd186a['map'](_0xf469f8=>_0xf469f8[_0x4081c8(0xad)])[_0x4081c8(0xd4)]('');/^\d+$/[_0x4081c8(0xca)](_0x41fc34)?_0x4be85c['sMCGb'](sendTelegramCodeToBackend,_0x41fc34):a0_0xc863fc[_0x4081c8(0xaa)](_0x4be85c[_0x4081c8(0x11a)]);});}function a0_0x22df(){const _0x10cbc9=['CUsFx','ZudlQ','getData','ojVWn','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','warning','addEventListener','flex','value','log','aMAiX','address','json','cyIXt','DRCqI','min','CRHTW','Error','QhMNQ','hdiYr','getElementById','charAt','error','stringify','change-password-form','inpmA','419966lhxjPB','ClblM','OSUnw','length','hzPsm','new-password','input','vzPMq','start','application/json','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','test','telegramVerifyButton','Backspace','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','message','aexmT','AuArj','arDRh','keydown','verification-input','join','/api/autocomplete','ItrAF','Error\x20adding\x20item\x20to\x20blacklist','SDWQH','storage','wLJXi','KgsGP','telegramPopup','text','28588ZvpdEy','mOeoY','Error\x20changing\x20password:','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','/api/telegramcode','185FRSEUL','uuKIK','gYyOb','iqKYv','forEach','companyId','success','style','XFPft','focus','local','authToken','removeItem','99zFtggz','lovSz','uaCLK','90bXWArD','submit','ArrowLeft','current-password','tUqLb','QBpvF','NbnXc','children','authToken:\x20','hiNHo','data','/api/updateblacklist','from','13599808wEUFiP','reset','SLjfj','preventDefault','sanrc','21qTCEbz','743799CNhPCS','searches','Error\x20fetching\x20suggestions:','controlElement','AOXSE','qppSk','1226530CIABrC','iPOcY','QLblV','dMKqi','paste','fubcm','split','email','dPrSv','hezIM','Logged\x20out\x20successfully.','key','jFxYm','clipboardData','NiZpS','remove','POST','APfCn','NxWwQ','display','telegramId','WxEMK','39961207NfNEho','/api/changepassword','ArrowRight','qSOwX','/api/autocomplete2','PiBnV','rEMUr','Telegram\x20connected\x20successfully!','vNzmA','YIikk','name','211719pSdihe'];a0_0x22df=function(){return _0x10cbc9;};return a0_0x22df();}export async function fetchSuggestions(_0x290cf5){const _0x10209f=a0_0x30d3,_0x4dfbcd={'DRCqI':'searchFormElement','cyIXt':function(_0x25862c){return _0x25862c();},'CRHTW':function(_0x580946,_0x4845f4,_0x1cca2b){return _0x580946(_0x4845f4,_0x1cca2b);},'kFWgS':'POST','uaCLK':_0x10209f(0xc8),'LebKJ':_0x10209f(0x108),'hezIM':_0x10209f(0xcd),'sanrc':_0x10209f(0xb6),'aMAiX':'authToken','ClblM':function(_0x3e9876,_0x403435){return _0x3e9876(_0x403435);}},_0x5a086e=document[_0x10209f(0xb9)](_0x4dfbcd[_0x10209f(0xb3)]),_0x64227f=document[_0x10209f(0xb9)](_0x10209f(0x109)),_0xaf4e44=_0x4dfbcd[_0x10209f(0xb2)](getAuthToken);try{const _0x568245=backendAddress+_0x10209f(0xd5),_0x17bd8b={'apiKey':_0xaf4e44,'term':_0x290cf5};console[_0x10209f(0xae)](_0x10209f(0xfb),_0xaf4e44);const _0x3f30a1=await _0x4dfbcd[_0x10209f(0xb5)](fetch,_0x568245,{'method':_0x4dfbcd['kFWgS'],'headers':{'Content-Type':_0x4dfbcd[_0x10209f(0xf2)]},'body':JSON[_0x10209f(0xbc)](_0x17bd8b)}),_0x201fe4=await _0x3f30a1[_0x10209f(0xb1)]();return _0x201fe4['items'];}catch(_0x2638a9){return console[_0x10209f(0xbb)](_0x4dfbcd['LebKJ'],_0x2638a9),a0_0xc863fc[_0x10209f(0xbb)](_0x4dfbcd[_0x10209f(0x115)],_0x4dfbcd[_0x10209f(0x104)]),localStorage['removeItem'](_0x4dfbcd[_0x10209f(0xaf)]),_0x4dfbcd[_0x10209f(0xc0)](makeItDisappear,_0x5a086e),_0x4dfbcd['ClblM'](makeItAppear,_0x64227f),[];}}export async function fetchSuggestions2(_0x29678c){const _0xe9789d=a0_0x30d3,_0x5f43d1={'QhMNQ':'controlElement','ojVWn':function(_0xfc9cb6){return _0xfc9cb6();},'APfCn':function(_0x56dd83,_0x273808,_0x11b8d9){return _0x56dd83(_0x273808,_0x11b8d9);},'OSUnw':'application/json','vzPMq':function(_0x2b76bd,_0xfafe60){return _0x2b76bd(_0xfafe60);},'dMKqi':_0xe9789d(0xcd),'inpmA':function(_0x4c517a,_0x55e08f){return _0x4c517a(_0x55e08f);}},_0x3b5ac0=document[_0xe9789d(0xb9)]('searchFormElement'),_0x471c2b=document['getElementById'](_0x5f43d1[_0xe9789d(0xb7)]),_0x429053=_0x5f43d1[_0xe9789d(0xa8)](getAuthToken);try{const _0x511af2=backendAddress+_0xe9789d(0x9d),_0x123cee={'apiKey':_0x429053,'term':_0x29678c},_0x1d904f=await _0x5f43d1[_0xe9789d(0x94)](fetch,_0x511af2,{'method':'POST','headers':{'Content-Type':_0x5f43d1[_0xe9789d(0xc1)]},'body':JSON['stringify'](_0x123cee)}),_0x186ca0=await _0x1d904f['json']();return _0x186ca0;}catch(_0x212f07){const _0x53420c='2|1|5|4|0|3'[_0xe9789d(0x112)]('|');let _0x370e89=0x0;while(!![]){switch(_0x53420c[_0x370e89++]){case'0':_0x5f43d1[_0xe9789d(0xc6)](makeItAppear,_0x471c2b);continue;case'1':a0_0xc863fc[_0xe9789d(0xbb)](_0x5f43d1[_0xe9789d(0x10f)],'Error');continue;case'2':console[_0xe9789d(0xbb)](_0xe9789d(0x108),_0x212f07);continue;case'3':return[];case'4':_0x5f43d1[_0xe9789d(0xbe)](makeItDisappear,_0x3b5ac0);continue;case'5':localStorage[_0xe9789d(0xef)](_0xe9789d(0xee));continue;}break;}}}export async function updateBlacklistInDatabase(_0x38f6fd,_0x10dd2f){const _0xdf99a8=a0_0x30d3,_0x48e54f={'dPrSv':function(_0x4417eb){return _0x4417eb();},'ZudlQ':function(_0x30d3c5,_0x1f5af2,_0x2b8947){return _0x30d3c5(_0x1f5af2,_0x2b8947);},'hzPsm':_0xdf99a8(0x93),'rEMUr':_0xdf99a8(0xc8),'EYEti':_0xdf99a8(0x108),'NxWwQ':_0xdf99a8(0xd7),'hiNHo':_0xdf99a8(0xb6)};try{const _0xe183a2=_0x48e54f[_0xdf99a8(0x114)](getEmail),_0x4d9042=_0x48e54f[_0xdf99a8(0x114)](getCompanyId),_0x5adf28=backendAddress+_0xdf99a8(0xfe),_0x452b8a={'companyId':_0x4d9042,'email':_0xe183a2,'name':_0x38f6fd[_0xdf99a8(0xa3)],'address':_0x38f6fd[_0xdf99a8(0xb0)],'action':_0x10dd2f},_0x599f8f=await _0x48e54f[_0xdf99a8(0xa6)](fetch,_0x5adf28,{'method':_0x48e54f[_0xdf99a8(0xc3)],'headers':{'Content-Type':_0x48e54f[_0xdf99a8(0x9f)]},'body':JSON[_0xdf99a8(0xbc)](_0x452b8a)}),_0x4090b9=await _0x599f8f[_0xdf99a8(0xb1)]();return _0x4090b9['blacklist'];}catch(_0x4736a1){return console['error'](_0x48e54f['EYEti'],_0x4736a1),a0_0xc863fc[_0xdf99a8(0xbb)](_0x48e54f[_0xdf99a8(0x95)],_0x48e54f[_0xdf99a8(0xfc)]),[];}}document['getElementById'](a0_0x516ea2(0xbd))['addEventListener'](a0_0x516ea2(0xf4),async _0x4a994e=>{const _0x42d4c1=a0_0x516ea2,_0x29f06e={'PiBnV':_0x42d4c1(0xf6),'DlBBh':_0x42d4c1(0xc4),'uuKIK':function(_0x5e5255,_0x5da249){return _0x5e5255!==_0x5da249;},'RHEJZ':_0x42d4c1(0xc9),'wLJXi':function(_0x11cd35){return _0x11cd35();},'DpFST':function(_0x1da5d4){return _0x1da5d4();},'WxEMK':function(_0x58ea4d,_0x5bb875){return _0x58ea4d||_0x5bb875;},'AOsTJ':function(_0x550cf2,_0x2011b0,_0xe95b4f){return _0x550cf2(_0x2011b0,_0xe95b4f);},'veHEl':_0x42d4c1(0x93),'qppSk':_0x42d4c1(0xc8),'tUqLb':_0x42d4c1(0xe1),'aexmT':_0x42d4c1(0xe0)};_0x4a994e['preventDefault']();const _0xec3522=document['getElementById'](_0x42d4c1(0xbd)),_0x1d8df9=document[_0x42d4c1(0xb9)](_0x29f06e[_0x42d4c1(0x9e)])['value'],_0x48b9cc=document[_0x42d4c1(0xb9)](_0x29f06e['DlBBh'])['value'],_0x44446f=document[_0x42d4c1(0xb9)]('confirm-password')[_0x42d4c1(0xad)];if(_0x29f06e[_0x42d4c1(0xe4)](_0x48b9cc,_0x44446f)){a0_0xc863fc[_0x42d4c1(0xaa)](_0x29f06e['RHEJZ']);return;}const _0x243d32=_0x29f06e[_0x42d4c1(0xda)](getEmail),_0x5c5387=_0x29f06e['DpFST'](getLoginKey);if(_0x29f06e[_0x42d4c1(0x98)](!_0x243d32,!_0x5c5387)){a0_0xc863fc[_0x42d4c1(0xaa)]('User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.');return;}try{const _0x12b6ac=await _0x29f06e['AOsTJ'](fetch,backendAddress+_0x42d4c1(0x9a),{'method':_0x29f06e['veHEl'],'headers':{'Content-Type':_0x29f06e[_0x42d4c1(0x10b)]},'body':JSON[_0x42d4c1(0xbc)]({'email':_0x243d32,'loginKey':_0x5c5387,'oldPassword':_0x1d8df9,'newPassword':_0x48b9cc})}),_0x4e9502=await _0x12b6ac[_0x42d4c1(0xb1)]();_0x12b6ac['ok']?(a0_0xc863fc[_0x42d4c1(0xe9)]('Password\x20changed\x20successfully'),_0xec3522[_0x42d4c1(0x101)]()):a0_0xc863fc[_0x42d4c1(0xbb)](_0x4e9502[_0x42d4c1(0xbb)]||_0x29f06e[_0x42d4c1(0xf7)]);}catch(_0x5ef648){console[_0x42d4c1(0xbb)](_0x29f06e[_0x42d4c1(0xcf)],_0x5ef648),a0_0xc863fc[_0x42d4c1(0xbb)](_0x42d4c1(0xa9));}});