const a0_0x1a0c24=a0_0x22e3;(function(_0xed2c34,_0x276c41){const _0x39d2fa=a0_0x22e3,_0x29aed6=_0xed2c34();while(!![]){try{const _0x4d4961=-parseInt(_0x39d2fa(0xeb))/0x1*(-parseInt(_0x39d2fa(0x98))/0x2)+-parseInt(_0x39d2fa(0xdd))/0x3+parseInt(_0x39d2fa(0xd5))/0x4+parseInt(_0x39d2fa(0xfe))/0x5*(-parseInt(_0x39d2fa(0xba))/0x6)+-parseInt(_0x39d2fa(0xef))/0x7+parseInt(_0x39d2fa(0xb8))/0x8*(-parseInt(_0x39d2fa(0x9c))/0x9)+parseInt(_0x39d2fa(0xe8))/0xa;if(_0x4d4961===_0x276c41)break;else _0x29aed6['push'](_0x29aed6['shift']());}catch(_0x46e823){_0x29aed6['push'](_0x29aed6['shift']());}}}(a0_0x3820,0x7373f));function a0_0x22e3(_0x1eeb8e,_0xd7571e){const _0x3820a2=a0_0x3820();return a0_0x22e3=function(_0x22e31b,_0x46612f){_0x22e31b=_0x22e31b-0x8c;let _0x435a76=_0x3820a2[_0x22e31b];return _0x435a76;},a0_0x22e3(_0x1eeb8e,_0xd7571e);}import a0_0x4c71ff from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x57cd21=a0_0x22e3,_0x5d5459={'NJPxc':'authToken','CNuli':_0x57cd21(0xaa),'OVpVG':'searches'};chrome['storage'][_0x57cd21(0xe7)][_0x57cd21(0xbe)]([_0x5d5459['NJPxc'],_0x57cd21(0xe0),_0x57cd21(0xaf),_0x5d5459[_0x57cd21(0x10f)],_0x5d5459[_0x57cd21(0xe3)]],()=>{const _0x1f1acb=_0x57cd21;a0_0x4c71ff[_0x1f1acb(0x108)]('Logged\x20out\x20successfully.');});}export async function sendTelegramCodeToBackend(_0x4499b9){const _0x1434d8=a0_0x22e3,_0x1c4967={'msnZM':function(_0x2a9df7){return _0x2a9df7();},'OLkUm':_0x1434d8(0x8c),'miUZH':_0x1434d8(0xde),'ZLjgC':'Telegram\x20connected\x20successfully!','VNfdM':_0x1434d8(0xd7)};try{const _0x31142f=_0x1c4967['msnZM'](getEmail),_0x1b4f71=getLoginKey(),_0x3bf58c=await fetch(backendAddress+_0x1434d8(0x93),{'method':'POST','headers':{'Content-Type':_0x1c4967['OLkUm']},'body':JSON[_0x1434d8(0x105)]({'email':_0x31142f,'code':_0x4499b9,'loginKey':_0x1b4f71})}),_0xedbbeb=await _0x3bf58c['json']();if(_0xedbbeb[_0x1434d8(0xad)])saveToLocal(_0x1c4967['miUZH'],_0xedbbeb['userId']),a0_0x4c71ff['success'](_0x1c4967[_0x1434d8(0xb0)]);else throw new Error(_0xedbbeb[_0x1434d8(0x119)]||_0x1c4967['VNfdM']);}catch(_0x504ba7){a0_0x4c71ff[_0x1434d8(0xbf)](_0x504ba7[_0x1434d8(0x119)]);}}export function showTelegramPopup(){const _0x21118d=a0_0x22e3,_0x5a5200={'gRuFF':_0x21118d(0xfc),'JdELI':function(_0x2fed33){return _0x2fed33();},'zriBI':function(_0x12c738,_0x5c3ffe){return _0x12c738<_0x5c3ffe;},'dkcMl':function(_0x593788,_0x386b74){return _0x593788+_0x386b74;},'UJQAm':function(_0x4b92ca){return _0x4b92ca();},'NqNZo':function(_0x135e31,_0x3ef78f){return _0x135e31!==_0x3ef78f;},'nxcgH':function(_0x7ef36e,_0x1281c0){return _0x7ef36e>_0x1281c0;},'rDeKd':function(_0xe44600,_0x55c045){return _0xe44600===_0x55c045;},'rISBH':_0x21118d(0xd2),'lCXay':_0x21118d(0x109),'SalCV':'ArrowLeft','NkgeQ':function(_0x4a1922,_0x282924){return _0x4a1922+_0x282924;},'hXWVy':_0x21118d(0xa1),'SMLeL':'input','ZHQVL':_0x21118d(0xf8),'MmyDp':_0x21118d(0xb2),'xmJAa':function(_0x15e301,_0x4d94a5){return _0x15e301(_0x4d94a5);},'QVWvE':_0x21118d(0xa0),'sCSoY':'telegramPopup','trfMs':_0x21118d(0x101),'HnQxj':_0x21118d(0x99)},_0x1a6e79=document[_0x21118d(0xda)](_0x5a5200[_0x21118d(0xdf)]),_0x4eef5f=document[_0x21118d(0xda)]('telegramVerifyButton');_0x1a6e79[_0x21118d(0x10a)][_0x21118d(0xf1)]=_0x5a5200[_0x21118d(0xe6)];const _0x4e874b=Array[_0x21118d(0xa3)](document[_0x21118d(0xda)](_0x5a5200[_0x21118d(0xf0)])[_0x21118d(0x111)]);function _0x2d865d(){const _0x3fce7a=_0x21118d;return _0x4e874b[_0x3fce7a(0x115)](_0xb2baa0=>_0xb2baa0[_0x3fce7a(0xbb)]==='');}_0x4e874b['forEach']((_0x9e51cc,_0x4c2419)=>{const _0x5be8da=_0x21118d,_0x5f9b45={'cmnNA':function(_0x36bf8b,_0x205290){const _0x2d7e57=a0_0x22e3;return _0x5a5200[_0x2d7e57(0xd0)](_0x36bf8b,_0x205290);},'UwtYK':_0x5a5200[_0x5be8da(0x114)],'kdIbu':function(_0x3dd3c0,_0xb5be27){const _0x45233a=_0x5be8da;return _0x5a5200[_0x45233a(0x8f)](_0x3dd3c0,_0xb5be27);},'NSbtP':function(_0xa218ce,_0x39d180){return _0xa218ce-_0x39d180;},'Qwtfy':function(_0xdca8a2,_0x2f9010){const _0x1562a8=_0x5be8da;return _0x5a5200[_0x1562a8(0xff)](_0xdca8a2,_0x2f9010);},'ybQjg':function(_0x36317d,_0x59c2d4){const _0x5dfd52=_0x5be8da;return _0x5a5200[_0x5dfd52(0x10b)](_0x36317d,_0x59c2d4);},'bBloq':function(_0x3d3065,_0x1e5f38){return _0x3d3065+_0x1e5f38;},'bgnJh':_0x5a5200[_0x5be8da(0x8d)],'auzml':_0x5a5200[_0x5be8da(0xec)],'POdje':'ArrowRight','wLvkU':function(_0x41530f,_0x119a96){const _0x43b57d=_0x5be8da;return _0x5a5200[_0x43b57d(0xf3)](_0x41530f,_0x119a96);},'xECal':function(_0x38cb0c,_0x2a3084){return _0x38cb0c<_0x2a3084;},'GrPcK':function(_0x3557d4,_0x10c6bd){return _0x3557d4+_0x10c6bd;},'VTHcV':function(_0x4e6d85,_0x2eae72){const _0x25385=_0x5be8da;return _0x5a5200[_0x25385(0x10b)](_0x4e6d85,_0x2eae72);}};_0x9e51cc[_0x5be8da(0xf7)](_0x5a5200[_0x5be8da(0xfa)],_0x4e84f5=>{const _0x35da91=_0x5be8da;if(_0x5f9b45[_0x35da91(0xce)](_0x4e84f5[_0x35da91(0x112)],_0x5f9b45[_0x35da91(0xe9)])){_0x9e51cc[_0x35da91(0xbb)]===''&&_0x5f9b45[_0x35da91(0xe5)](_0x4c2419,0x0)&&(_0x4e874b[_0x5f9b45[_0x35da91(0xd8)](_0x4c2419,0x1)][_0x35da91(0xbb)]='',_0x4e874b[_0x5f9b45[_0x35da91(0xd8)](_0x4c2419,0x1)][_0x35da91(0xb2)]());for(let _0x26e57e=_0x4c2419;_0x5f9b45[_0x35da91(0x8e)](_0x26e57e,_0x4e874b[_0x35da91(0xdc)]);_0x26e57e++){let _0x55707e=_0x4e874b[_0x5f9b45[_0x35da91(0xc4)](_0x26e57e,0x1)]?_0x4e874b[_0x5f9b45[_0x35da91(0x118)](_0x26e57e,0x1)][_0x35da91(0xbb)]:'';_0x4e874b[_0x26e57e][_0x35da91(0xcc)](_0x55707e,0x0,0x1,_0x5f9b45[_0x35da91(0xe1)]);}}_0x4e84f5[_0x35da91(0x112)]===_0x5f9b45[_0x35da91(0x9d)]&&_0x5f9b45[_0x35da91(0xe5)](_0x4c2419,0x0)&&_0x4e874b[_0x5f9b45[_0x35da91(0xd8)](_0x4c2419,0x1)][_0x35da91(0xb2)](),_0x4e84f5[_0x35da91(0x112)]===_0x5f9b45[_0x35da91(0xa2)]&&_0x5f9b45['Qwtfy'](_0x4c2419,_0x5f9b45['NSbtP'](_0x4e874b[_0x35da91(0xdc)],0x1))&&_0x4e874b[_0x5f9b45[_0x35da91(0x104)](_0x4c2419,0x1)]['focus']();}),_0x9e51cc[_0x5be8da(0xf7)](_0x5a5200[_0x5be8da(0xbc)],_0x587892=>{const _0x5ca76e=_0x5be8da;_0x9e51cc[_0x5ca76e(0xbb)]='';const _0x454287=_0x2d865d();_0x4e874b[_0x454287]['value']=_0x587892[_0x5ca76e(0x94)];if(_0x5f9b45[_0x5ca76e(0xcd)](_0x5f9b45[_0x5ca76e(0xf9)](_0x454287,0x1),_0x4e874b[_0x5ca76e(0xdc)]))_0x4e874b[_0x5f9b45['VTHcV'](_0x454287,0x1)][_0x5ca76e(0xb2)]();}),_0x9e51cc[_0x5be8da(0xf7)](_0x5a5200[_0x5be8da(0xa7)],_0x3dd273=>{const _0x5efc44=_0x5be8da;_0x3dd273[_0x5efc44(0xb4)]();const _0x9fd890=(event[_0x5efc44(0xf2)]||window[_0x5efc44(0xf2)])[_0x5efc44(0x91)](_0x5a5200[_0x5efc44(0xb6)]),_0x15d08b=_0x5a5200[_0x5efc44(0xee)](_0x2d865d),_0x1d4440=_0x15d08b!==-0x1?Math[_0x5efc44(0x9e)](_0x4c2419,_0x15d08b):_0x4c2419;for(let _0x356ccd=0x0;_0x5a5200['zriBI'](_0x5a5200[_0x5efc44(0x10b)](_0x1d4440,_0x356ccd),_0x4e874b[_0x5efc44(0xdc)])&&_0x5a5200['zriBI'](_0x356ccd,_0x9fd890[_0x5efc44(0xdc)]);_0x356ccd++){_0x4e874b[_0x5a5200[_0x5efc44(0x10b)](_0x1d4440,_0x356ccd)][_0x5efc44(0xbb)]=_0x9fd890[_0x5efc44(0xca)](_0x356ccd);}_0x4e874b[Math[_0x5efc44(0x9e)](_0x5a5200['dkcMl'](_0x1d4440,_0x9fd890[_0x5efc44(0xdc)]),_0x4e874b['length']-0x1)][_0x5efc44(0xb2)]();}),_0x9e51cc['addEventListener'](_0x5a5200[_0x5be8da(0x110)],()=>{const _0x2c46cd=_0x5be8da,_0x56124c=_0x5a5200[_0x2c46cd(0xc9)](_0x2d865d);if(_0x5a5200[_0x2c46cd(0xd1)](_0x56124c,-0x1)&&_0x5a5200[_0x2c46cd(0x8f)](_0x4c2419,_0x56124c))_0x4e874b[_0x56124c][_0x2c46cd(0xb2)]();});}),_0x4eef5f['addEventListener']('click',function(){const _0x149363=_0x21118d,_0x3e7386=_0x4e874b[_0x149363(0xe4)](_0xa5f00e=>_0xa5f00e[_0x149363(0xbb)])['join']('');/^\d+$/[_0x149363(0xc6)](_0x3e7386)?_0x5a5200[_0x149363(0xea)](sendTelegramCodeToBackend,_0x3e7386):a0_0x4c71ff['warning'](_0x5a5200['QVWvE']);});}export async function fetchSuggestions(_0x53757c){const _0x56b170=a0_0x22e3,_0x33215c={'KoewR':_0x56b170(0xd3),'gaPlR':function(_0x2c7385){return _0x2c7385();},'lOfZy':_0x56b170(0x11a),'ibSaj':function(_0x1ff2f0,_0x54d59d,_0x5b4061){return _0x1ff2f0(_0x54d59d,_0x5b4061);},'GlLyg':_0x56b170(0x8c),'FaBJb':_0x56b170(0x103),'hCuQi':'Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','clAAb':'Error','PMdvB':function(_0x18a63d,_0x299379){return _0x18a63d(_0x299379);},'LKvXD':function(_0x1a4fd4,_0x779a90){return _0x1a4fd4(_0x779a90);}},_0x2f417f=document[_0x56b170(0xda)](_0x33215c[_0x56b170(0xab)]),_0x2d1c03=document[_0x56b170(0xda)]('controlElement'),_0x4c7dd5=_0x33215c[_0x56b170(0xd4)](getAuthToken);try{const _0x3a67ee=backendAddress+_0x56b170(0x10c),_0x1b7c89={'apiKey':_0x4c7dd5,'term':_0x53757c};console[_0x56b170(0x102)](_0x33215c[_0x56b170(0xc0)],_0x4c7dd5);const _0x493592=await _0x33215c[_0x56b170(0xb3)](fetch,_0x3a67ee,{'method':_0x56b170(0x106),'headers':{'Content-Type':_0x33215c[_0x56b170(0xc8)]},'body':JSON[_0x56b170(0x105)](_0x1b7c89)}),_0x563e8a=await _0x493592[_0x56b170(0x90)]();return _0x563e8a[_0x56b170(0xbd)];}catch(_0x566108){return console[_0x56b170(0xbf)](_0x33215c['FaBJb'],_0x566108),a0_0x4c71ff[_0x56b170(0xbf)](_0x33215c[_0x56b170(0xae)],_0x33215c[_0x56b170(0xb7)]),localStorage[_0x56b170(0xc1)]('authToken'),_0x33215c[_0x56b170(0x100)](makeItDisappear,_0x2f417f),_0x33215c[_0x56b170(0xf6)](makeItAppear,_0x2d1c03),[];}}function a0_0x3820(){const _0x23b723=['Telegram\x20connection\x20failed.','NSbtP','address','getElementById','gfwQu','length','1639944ILRrph','telegramId','sCSoY','email','bgnJh','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','OVpVG','map','kdIbu','trfMs','local','26647660AaiOtT','UwtYK','xmJAa','9HFqsOg','SalCV','KGDsz','JdELI','6026419pQLHdL','HnQxj','display','clipboardData','NkgeQ','UdXxb','ScQLD','LKvXD','addEventListener','paste','GrPcK','hXWVy','/api/autocomplete2','text','WiKBw','492220qqwtyE','zriBI','PMdvB','flex','log','Error\x20fetching\x20suggestions:','wLvkU','stringify','POST','UPDbr','info','start','style','dkcMl','/api/autocomplete','Error\x20changing\x20password:','ecaiO','CNuli','MmyDp','children','key','Xumtv','rISBH','findIndex','/api/updateblacklist','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','bBloq','message','authToken:\x20','application/json','lCXay','Qwtfy','nxcgH','json','getData','reset','/api/telegramcode','data','current-password','zKpia','HQkJp','86326FOWTMg','verification-input','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','authToken','4653uKumuO','auzml','min','change-password-form','Please\x20enter\x20a\x20valid\x20numeric\x20code.','keydown','POdje','from','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','/api/changepassword','Error\x20adding\x20item\x20to\x20blacklist','ZHQVL','warning','MSWoN','blacklist','KoewR','Error','success','hCuQi','companyId','ZLjgC','NNRvU','focus','ibSaj','preventDefault','ZiSYy','gRuFF','clAAb','9608ICTvza','Password\x20changed\x20successfully','42yDyuuQ','value','SMLeL','items','remove','error','lOfZy','removeItem','WkAoR','KllWQ','ybQjg','new-password','test','btShs','GlLyg','UJQAm','charAt','mNfIK','setRangeText','xECal','cmnNA','qaIPm','rDeKd','NqNZo','Backspace','searchFormElement','gaPlR','549008tuVWAA','confirm-password'];a0_0x3820=function(){return _0x23b723;};return a0_0x3820();}export async function fetchSuggestions2(_0x350714){const _0xb36b44=a0_0x22e3,_0x3b5e9b={'HQkJp':'controlElement','WiKBw':function(_0x2c5efc,_0x15e3b0,_0x6db32c){return _0x2c5efc(_0x15e3b0,_0x6db32c);},'TtfYJ':_0xb36b44(0x106),'ecaiO':'2|0|5|1|3|4','cRSpD':_0xb36b44(0x9b)},_0x4d044e=document[_0xb36b44(0xda)]('searchFormElement'),_0x412d30=document[_0xb36b44(0xda)](_0x3b5e9b[_0xb36b44(0x97)]),_0x2010cd=getAuthToken();try{const _0x4fd9a8=backendAddress+_0xb36b44(0xfb),_0x503ce0={'apiKey':_0x2010cd,'term':_0x350714},_0x56b597=await _0x3b5e9b[_0xb36b44(0xfd)](fetch,_0x4fd9a8,{'method':_0x3b5e9b['TtfYJ'],'headers':{'Content-Type':'application/json'},'body':JSON[_0xb36b44(0x105)](_0x503ce0)}),_0x127dcc=await _0x56b597[_0xb36b44(0x90)]();return _0x127dcc;}catch(_0x3ca796){const _0x5a40a4=_0x3b5e9b[_0xb36b44(0x10e)]['split']('|');let _0x485732=0x0;while(!![]){switch(_0x5a40a4[_0x485732++]){case'0':a0_0x4c71ff[_0xb36b44(0xbf)](_0xb36b44(0xe2),'Error');continue;case'1':makeItDisappear(_0x4d044e);continue;case'2':console[_0xb36b44(0xbf)](_0xb36b44(0x103),_0x3ca796);continue;case'3':makeItAppear(_0x412d30);continue;case'4':return[];case'5':localStorage['removeItem'](_0x3b5e9b['cRSpD']);continue;}break;}}}export async function updateBlacklistInDatabase(_0x4c713a,_0x69b40d){const _0x2ff4a6=a0_0x22e3,_0x43391c={'NZMkV':function(_0x103555){return _0x103555();},'btShs':function(_0x34ef6f,_0x499d62,_0x2db5d5){return _0x34ef6f(_0x499d62,_0x2db5d5);},'mNfIK':_0x2ff4a6(0x106),'MydIG':_0x2ff4a6(0x8c),'WkAoR':_0x2ff4a6(0x103),'KlJWY':_0x2ff4a6(0xa6),'MSWoN':_0x2ff4a6(0xac)};try{const _0x3368b7=getEmail(),_0x1321b2=_0x43391c['NZMkV'](getCompanyId),_0x5934cc=backendAddress+_0x2ff4a6(0x116),_0x8a7cdb={'companyId':_0x1321b2,'email':_0x3368b7,'name':_0x4c713a['name'],'address':_0x4c713a[_0x2ff4a6(0xd9)],'action':_0x69b40d},_0x1df0b8=await _0x43391c[_0x2ff4a6(0xc7)](fetch,_0x5934cc,{'method':_0x43391c[_0x2ff4a6(0xcb)],'headers':{'Content-Type':_0x43391c['MydIG']},'body':JSON[_0x2ff4a6(0x105)](_0x8a7cdb)}),_0x19ba0d=await _0x1df0b8[_0x2ff4a6(0x90)]();return _0x19ba0d['blacklist'];}catch(_0x4ef4f1){return console['error'](_0x43391c[_0x2ff4a6(0xc2)],_0x4ef4f1),a0_0x4c71ff[_0x2ff4a6(0xbf)](_0x43391c['KlJWY'],_0x43391c[_0x2ff4a6(0xa9)]),[];}}document[a0_0x1a0c24(0xda)](a0_0x1a0c24(0x9f))[a0_0x1a0c24(0xf7)]('submit',async _0x41d7bc=>{const _0x51d68a=a0_0x1a0c24,_0x3db15e={'gfwQu':_0x51d68a(0x9f),'ZiSYy':_0x51d68a(0x95),'Wfmhf':_0x51d68a(0xc5),'KGDsz':_0x51d68a(0xd6),'UPDbr':function(_0x78cbef,_0x3b7b02){return _0x78cbef!==_0x3b7b02;},'NNRvU':_0x51d68a(0x117),'Xumtv':function(_0x33209b){return _0x33209b();},'zKpia':function(_0x5eff48,_0x2556a7){return _0x5eff48||_0x2556a7;},'sJMXR':_0x51d68a(0xa4),'UdXxb':function(_0x1a0c6d,_0x148d7f,_0x3c8f0c){return _0x1a0c6d(_0x148d7f,_0x3c8f0c);},'KllWQ':_0x51d68a(0x8c),'ScQLD':_0x51d68a(0xb9),'DaIrp':_0x51d68a(0x10d),'qaIPm':_0x51d68a(0x9a)};_0x41d7bc[_0x51d68a(0xb4)]();const _0x37c43a=document[_0x51d68a(0xda)](_0x3db15e[_0x51d68a(0xdb)]),_0x500c97=document[_0x51d68a(0xda)](_0x3db15e[_0x51d68a(0xb5)])[_0x51d68a(0xbb)],_0x59f169=document[_0x51d68a(0xda)](_0x3db15e['Wfmhf'])[_0x51d68a(0xbb)],_0x115f3e=document[_0x51d68a(0xda)](_0x3db15e[_0x51d68a(0xed)])[_0x51d68a(0xbb)];if(_0x3db15e[_0x51d68a(0x107)](_0x59f169,_0x115f3e)){a0_0x4c71ff['warning'](_0x3db15e[_0x51d68a(0xb1)]);return;}const _0x24885e=_0x3db15e[_0x51d68a(0x113)](getEmail),_0x321f5f=_0x3db15e['Xumtv'](getLoginKey);if(_0x3db15e[_0x51d68a(0x96)](!_0x24885e,!_0x321f5f)){a0_0x4c71ff[_0x51d68a(0xa8)](_0x3db15e['sJMXR']);return;}try{const _0x571ea6=await _0x3db15e[_0x51d68a(0xf4)](fetch,backendAddress+_0x51d68a(0xa5),{'method':_0x51d68a(0x106),'headers':{'Content-Type':_0x3db15e[_0x51d68a(0xc3)]},'body':JSON[_0x51d68a(0x105)]({'email':_0x24885e,'loginKey':_0x321f5f,'oldPassword':_0x500c97,'newPassword':_0x59f169})}),_0x446813=await _0x571ea6[_0x51d68a(0x90)]();_0x571ea6['ok']?(a0_0x4c71ff['success'](_0x3db15e[_0x51d68a(0xf5)]),_0x37c43a[_0x51d68a(0x92)]()):a0_0x4c71ff['error'](_0x446813[_0x51d68a(0xbf)]||'An\x20error\x20occurred\x20while\x20changing\x20the\x20password.');}catch(_0x292124){console[_0x51d68a(0xbf)](_0x3db15e['DaIrp'],_0x292124),a0_0x4c71ff[_0x51d68a(0xbf)](_0x3db15e[_0x51d68a(0xcf)]);}});