const a0_0x2db037=a0_0x4d6e;function a0_0xd115(){const _0x1f2694=['Error\x20adding\x20item\x20to\x20blacklist','Usyyv','pIuqF','key','ynFCa','companyId','split','Password\x20changed\x20successfully','BPTpN','12403qbSJSG','input','authToken:\x20','Gtpkb','WzTGo','GevdL','ZTasS','ItVLF','cnCfI','LHOmM','liUeB','bsfOa','lVBUZ','usRqJ','keydown','2300YPiDaD','message','UHuoQ','/api/autocomplete','forEach','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','13512KdXkfC','NRPkW','dBYFz','ArrowLeft','GCdEW','0|5|3|1|4|2','stringify','uxrjw','snLDl','json','submit','EnHPZ','blacklist','charAt','cAjvC','FAzOb','1|2|3|4|5|0','findIndex','zVaVQ','PcCGm','success','getElementById','hozik','remove','length','Error\x20fetching\x20suggestions:','txdRZ','rTtgf','clipboardData','Error','warning','2107uAHzPr','searchFormElement','SJgGj','58234OZXfym','verification-input','current-password','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','OcMnq','controlElement','Corfx','hTsyT','flex','storage','authToken','items','/api/changepassword','/api/autocomplete2','482082cTkioA','change-password-form','Qzooo','cisTS','45fcpkvd','WLTEv','619260QebYwk','aLFzz','searches','Telegram\x20connection\x20failed.','addEventListener','min','DHpjH','nhJxg','email','hEapQ','info','XxmLa','xoKbp','ONHag','address','SqFoi','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','paste','getData','log','IVwXn','mzoWL','TyefM','7191693BCGdhA','value','FhbcW','userId','error','focus','removeItem','telegramVerifyButton','lNjhh','application/json','data','IWoNK','EarrA','join','Logged\x20out\x20successfully.','BTDRg','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','dpjaz','new-password','RWVeE','POST','935912vUGgKX','Backspace','HXkRf','/api/telegramcode','VAOPm','test','from','LjQbj','preventDefault','children','yBzJm','nNivG','LPmPA','3nviAqt'];a0_0xd115=function(){return _0x1f2694;};return a0_0xd115();}(function(_0x556245,_0x230b3c){const _0x435364=a0_0x4d6e,_0x390f5b=_0x556245();while(!![]){try{const _0x3f3afb=-parseInt(_0x435364(0xee))/0x1+parseInt(_0x435364(0xd7))/0x2*(parseInt(_0x435364(0xe4))/0x3)+parseInt(_0x435364(0xab))/0x4+-parseInt(_0x435364(0xa9))/0x5*(-parseInt(_0x435364(0xa5))/0x6)+parseInt(_0x435364(0x94))/0x7*(-parseInt(_0x435364(0x103))/0x8)+parseInt(_0x435364(0xc2))/0x9+-parseInt(_0x435364(0xfd))/0xa*(parseInt(_0x435364(0x97))/0xb);if(_0x3f3afb===_0x230b3c)break;else _0x390f5b['push'](_0x390f5b['shift']());}catch(_0x5ccc98){_0x390f5b['push'](_0x390f5b['shift']());}}}(a0_0xd115,0x6341f));import a0_0xe7e70d from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x2e951b=a0_0x4d6e,_0x1ac487={'ItVLF':_0x2e951b(0xd0),'djLLu':_0x2e951b(0xa1),'cnCfI':_0x2e951b(0xb3),'ONHag':_0x2e951b(0xea),'SjDcG':_0x2e951b(0x81)};chrome[_0x2e951b(0xa0)]['local'][_0x2e951b(0x8c)]([_0x1ac487['djLLu'],_0x1ac487[_0x2e951b(0xf6)],_0x1ac487[_0x2e951b(0xb8)],_0x1ac487['SjDcG'],_0x2e951b(0xad)],()=>{const _0x3646a4=_0x2e951b;a0_0xe7e70d[_0x3646a4(0xb5)](_0x1ac487[_0x3646a4(0xf5)]);});}export async function sendTelegramCodeToBackend(_0x348284){const _0x3539b4=a0_0x4d6e,_0x404dff={'mMQPN':function(_0x131c08){return _0x131c08();},'fRcmP':function(_0x3e1afe){return _0x3e1afe();},'hEapQ':function(_0x48f044,_0x2745b5,_0x372da6){return _0x48f044(_0x2745b5,_0x372da6);},'nhJxg':'POST','eWwYh':_0x3539b4(0xcb),'IWoNK':function(_0x3819dd,_0x4b8600,_0x21079f){return _0x3819dd(_0x4b8600,_0x21079f);},'LjQbj':'telegramId','LPmPA':'Telegram\x20connected\x20successfully!','GCdEW':_0x3539b4(0xae)};try{const _0x5f4ae0=_0x404dff['mMQPN'](getEmail),_0x389368=_0x404dff['fRcmP'](getLoginKey),_0x582595=await _0x404dff[_0x3539b4(0xb4)](fetch,backendAddress+_0x3539b4(0xda),{'method':_0x404dff[_0x3539b4(0xb2)],'headers':{'Content-Type':_0x404dff['eWwYh']},'body':JSON['stringify']({'email':_0x5f4ae0,'code':_0x348284,'loginKey':_0x389368})}),_0x25d0a1=await _0x582595[_0x3539b4(0x7e)]();if(_0x25d0a1[_0x3539b4(0x89)])_0x404dff[_0x3539b4(0xcd)](saveToLocal,_0x404dff[_0x3539b4(0xde)],_0x25d0a1[_0x3539b4(0xc5)]),a0_0xe7e70d[_0x3539b4(0x89)](_0x404dff[_0x3539b4(0xe3)]);else throw new Error(_0x25d0a1[_0x3539b4(0xfe)]||_0x404dff[_0x3539b4(0x107)]);}catch(_0x2e7abf){a0_0xe7e70d[_0x3539b4(0xc6)](_0x2e7abf[_0x3539b4(0xfe)]);}}export function showTelegramPopup(){const _0x45a576=a0_0x4d6e,_0x36751a={'VAOPm':function(_0x4f8cbc,_0x1029f9){return _0x4f8cbc===_0x1029f9;},'xoKbp':_0x45a576(0xd8),'pIuqF':function(_0xa6b51a,_0x561985){return _0xa6b51a>_0x561985;},'nNivG':function(_0x38cfa7,_0x242065){return _0x38cfa7-_0x242065;},'rTtgf':function(_0x2f0907,_0x51fb3f){return _0x2f0907<_0x51fb3f;},'WLTEv':function(_0x4c58a5,_0x2918a8){return _0x4c58a5+_0x2918a8;},'XxmLa':'start','NRPkW':_0x45a576(0x106),'wovMW':'ArrowRight','Usyyv':function(_0x102d6d,_0x1bd9ad){return _0x102d6d-_0x1bd9ad;},'FAzOb':function(_0x18ad59,_0x51e469){return _0x18ad59+_0x51e469;},'ynFCa':function(_0x26c782,_0x3fb34f){return _0x26c782+_0x3fb34f;},'Gtpkb':_0x45a576(0xef),'dBYFz':_0x45a576(0xc7),'mzoWL':function(_0x323603,_0x35fb11){return _0x323603(_0x35fb11);},'lVBUZ':_0x45a576(0xc9),'dpjaz':_0x45a576(0x9f),'EarrA':_0x45a576(0x98)},_0x394103=document[_0x45a576(0x8a)]('telegramPopup'),_0x247825=document[_0x45a576(0x8a)](_0x36751a[_0x45a576(0xfa)]);_0x394103['style']['display']=_0x36751a[_0x45a576(0xd3)];const _0x2fd579=Array[_0x45a576(0xdd)](document['getElementById'](_0x36751a[_0x45a576(0xce)])[_0x45a576(0xe0)]);function _0x5f5330(){const _0x4330c=_0x45a576;return _0x2fd579[_0x4330c(0x86)](_0x218b4a=>_0x218b4a[_0x4330c(0xc3)]==='');}_0x2fd579[_0x45a576(0x101)]((_0x5c78c3,_0x3cdea7)=>{const _0x1e4831=_0x45a576,_0x35a862={'zVaVQ':'text','cAjvC':function(_0x423b1e){return _0x423b1e();},'liUeB':function(_0x460a4f,_0x67fca8){return _0x460a4f!==_0x67fca8;},'yBzJm':function(_0x2c9a54,_0x5f04f0){return _0x36751a['rTtgf'](_0x2c9a54,_0x5f04f0);},'GevdL':function(_0x321763,_0x2c0adc){return _0x36751a['rTtgf'](_0x321763,_0x2c0adc);},'uxrjw':function(_0x484577,_0x4d57eb){return _0x484577+_0x4d57eb;},'TyefM':function(_0x3b2882,_0x318017){return _0x36751a['nNivG'](_0x3b2882,_0x318017);},'gBibz':function(_0xf36711,_0x17d9c4){const _0x3bacbc=a0_0x4d6e;return _0x36751a[_0x3bacbc(0xe7)](_0xf36711,_0x17d9c4);}};_0x5c78c3[_0x1e4831(0xaf)](_0x1e4831(0xfc),_0x48149a=>{const _0x362ad5=_0x1e4831;if(_0x36751a[_0x362ad5(0xdb)](_0x48149a[_0x362ad5(0xe8)],_0x36751a[_0x362ad5(0xb7)])){_0x5c78c3[_0x362ad5(0xc3)]===''&&_0x36751a[_0x362ad5(0xe7)](_0x3cdea7,0x0)&&(_0x2fd579[_0x36751a[_0x362ad5(0xe2)](_0x3cdea7,0x1)]['value']='',_0x2fd579[_0x36751a['nNivG'](_0x3cdea7,0x1)][_0x362ad5(0xc7)]());for(let _0x570296=_0x3cdea7;_0x36751a[_0x362ad5(0x90)](_0x570296,_0x2fd579[_0x362ad5(0x8d)]);_0x570296++){let _0xd3b560=_0x2fd579[_0x36751a[_0x362ad5(0xaa)](_0x570296,0x1)]?_0x2fd579[_0x36751a['WLTEv'](_0x570296,0x1)][_0x362ad5(0xc3)]:'';_0x2fd579[_0x570296]['setRangeText'](_0xd3b560,0x0,0x1,_0x36751a[_0x362ad5(0xb6)]);}}_0x48149a['key']===_0x36751a[_0x362ad5(0x104)]&&_0x36751a[_0x362ad5(0xe7)](_0x3cdea7,0x0)&&_0x2fd579[_0x36751a[_0x362ad5(0xe2)](_0x3cdea7,0x1)][_0x362ad5(0xc7)](),_0x36751a[_0x362ad5(0xdb)](_0x48149a[_0x362ad5(0xe8)],_0x36751a['wovMW'])&&_0x3cdea7<_0x36751a[_0x362ad5(0xe6)](_0x2fd579[_0x362ad5(0x8d)],0x1)&&_0x2fd579[_0x3cdea7+0x1][_0x362ad5(0xc7)]();}),_0x5c78c3[_0x1e4831(0xaf)](_0x36751a[_0x1e4831(0xf1)],_0x16f5c5=>{const _0x256e05=_0x1e4831;_0x5c78c3['value']='';const _0x1b3b29=_0x5f5330();_0x2fd579[_0x1b3b29][_0x256e05(0xc3)]=_0x16f5c5[_0x256e05(0xcc)];if(_0x36751a[_0x256e05(0x90)](_0x36751a[_0x256e05(0x84)](_0x1b3b29,0x1),_0x2fd579[_0x256e05(0x8d)]))_0x2fd579[_0x36751a[_0x256e05(0xe9)](_0x1b3b29,0x1)]['focus']();}),_0x5c78c3[_0x1e4831(0xaf)](_0x1e4831(0xbc),_0x3522d1=>{const _0x26431f=_0x1e4831;_0x3522d1[_0x26431f(0xdf)]();const _0x20448a=(event['clipboardData']||window[_0x26431f(0x91)])[_0x26431f(0xbd)](_0x35a862[_0x26431f(0x87)]),_0x1376a2=_0x35a862[_0x26431f(0x83)](_0x5f5330),_0xcbda2a=_0x35a862[_0x26431f(0xf8)](_0x1376a2,-0x1)?Math[_0x26431f(0xb0)](_0x3cdea7,_0x1376a2):_0x3cdea7;for(let _0x17315c=0x0;_0x35a862[_0x26431f(0xe1)](_0xcbda2a+_0x17315c,_0x2fd579['length'])&&_0x35a862[_0x26431f(0xf3)](_0x17315c,_0x20448a[_0x26431f(0x8d)]);_0x17315c++){_0x2fd579[_0xcbda2a+_0x17315c]['value']=_0x20448a[_0x26431f(0x82)](_0x17315c);}_0x2fd579[Math['min'](_0x35a862[_0x26431f(0x7c)](_0xcbda2a,_0x20448a[_0x26431f(0x8d)]),_0x35a862[_0x26431f(0xc1)](_0x2fd579[_0x26431f(0x8d)],0x1))]['focus']();}),_0x5c78c3[_0x1e4831(0xaf)](_0x36751a[_0x1e4831(0x105)],()=>{const _0x7f2eaa=_0x1e4831,_0x3239b4=_0x35a862[_0x7f2eaa(0x83)](_0x5f5330);if(_0x35a862[_0x7f2eaa(0xf8)](_0x3239b4,-0x1)&&_0x35a862['gBibz'](_0x3cdea7,_0x3239b4))_0x2fd579[_0x3239b4]['focus']();});}),_0x247825[_0x45a576(0xaf)]('click',function(){const _0x42fa6d=_0x45a576,_0x4f7e58=_0x2fd579['map'](_0x5720ec=>_0x5720ec[_0x42fa6d(0xc3)])[_0x42fa6d(0xcf)]('');/^\d+$/[_0x42fa6d(0xdc)](_0x4f7e58)?_0x36751a[_0x42fa6d(0xc0)](sendTelegramCodeToBackend,_0x4f7e58):a0_0xe7e70d[_0x42fa6d(0x93)]('Please\x20enter\x20a\x20valid\x20numeric\x20code.');});}export async function fetchSuggestions(_0x47d285){const _0x1f7959=a0_0x4d6e,_0x27aadb={'SJgGj':_0x1f7959(0x95),'Qzooo':'controlElement','snLDl':function(_0x4cf2b9){return _0x4cf2b9();},'usRqJ':function(_0x545e87,_0x12bdd5,_0x26f890){return _0x545e87(_0x12bdd5,_0x26f890);},'PcCGm':'POST','sLgVi':_0x1f7959(0x7a),'wPbLA':_0x1f7959(0x8e),'hTsyT':_0x1f7959(0xa1),'RWVeE':_0x1f7959(0x92)},_0x386489=document[_0x1f7959(0x8a)](_0x27aadb[_0x1f7959(0x96)]),_0x3561ef=document[_0x1f7959(0x8a)](_0x27aadb[_0x1f7959(0xa7)]),_0x157e1c=_0x27aadb[_0x1f7959(0x7d)](getAuthToken);try{const _0x40675a=backendAddress+_0x1f7959(0x100),_0x566909={'apiKey':_0x157e1c,'term':_0x47d285};console[_0x1f7959(0xbe)](_0x1f7959(0xf0),_0x157e1c);const _0x5981a7=await _0x27aadb[_0x1f7959(0xfb)](fetch,_0x40675a,{'method':_0x27aadb[_0x1f7959(0x88)],'headers':{'Content-Type':_0x1f7959(0xcb)},'body':JSON[_0x1f7959(0x7b)](_0x566909)}),_0x14a15d=await _0x5981a7[_0x1f7959(0x7e)]();return _0x14a15d[_0x1f7959(0xa2)];}catch(_0x3d3432){const _0x50bf2d=_0x27aadb['sLgVi'][_0x1f7959(0xeb)]('|');let _0x4875ff=0x0;while(!![]){switch(_0x50bf2d[_0x4875ff++]){case'0':console[_0x1f7959(0xc6)](_0x27aadb['wPbLA'],_0x3d3432);continue;case'1':makeItDisappear(_0x386489);continue;case'2':return[];case'3':localStorage['removeItem'](_0x27aadb[_0x1f7959(0x9e)]);continue;case'4':makeItAppear(_0x3561ef);continue;case'5':a0_0xe7e70d[_0x1f7959(0xc6)](_0x1f7959(0x102),_0x27aadb[_0x1f7959(0xd5)]);continue;}break;}}}function a0_0x4d6e(_0x503a90,_0x374857){const _0xd115f1=a0_0xd115();return a0_0x4d6e=function(_0x4d6e82,_0x49d5ae){_0x4d6e82=_0x4d6e82-0x7a;let _0x98109a=_0xd115f1[_0x4d6e82];return _0x98109a;},a0_0x4d6e(_0x503a90,_0x374857);}export async function fetchSuggestions2(_0x2ae8a9){const _0x51bbbc=a0_0x4d6e,_0x40d143={'FhbcW':_0x51bbbc(0x95),'SqFoi':_0x51bbbc(0x9c),'BPTpN':function(_0x2d67f3,_0xb164da,_0x9728c8){return _0x2d67f3(_0xb164da,_0x9728c8);},'HXkRf':'POST','BTDRg':'application/json','ZTasS':_0x51bbbc(0x85),'IVwXn':_0x51bbbc(0x8e),'hozik':_0x51bbbc(0x92),'txdRZ':_0x51bbbc(0xa1),'OcMnq':function(_0x8aff8c,_0x7094e9){return _0x8aff8c(_0x7094e9);}},_0x4b1114=document['getElementById'](_0x40d143[_0x51bbbc(0xc4)]),_0x5afad9=document['getElementById'](_0x40d143[_0x51bbbc(0xba)]),_0x4cfe42=getAuthToken();try{const _0x20181b=backendAddress+_0x51bbbc(0xa4),_0x1abebc={'apiKey':_0x4cfe42,'term':_0x2ae8a9},_0x480dd8=await _0x40d143[_0x51bbbc(0xed)](fetch,_0x20181b,{'method':_0x40d143[_0x51bbbc(0xd9)],'headers':{'Content-Type':_0x40d143[_0x51bbbc(0xd1)]},'body':JSON['stringify'](_0x1abebc)}),_0x483050=await _0x480dd8[_0x51bbbc(0x7e)]();return _0x483050;}catch(_0x9658be){const _0x3918c3=_0x40d143[_0x51bbbc(0xf4)][_0x51bbbc(0xeb)]('|');let _0x30691a=0x0;while(!![]){switch(_0x3918c3[_0x30691a++]){case'0':return[];case'1':console[_0x51bbbc(0xc6)](_0x40d143[_0x51bbbc(0xbf)],_0x9658be);continue;case'2':a0_0xe7e70d[_0x51bbbc(0xc6)]('Please\x20reload\x20CentralDispatch\x20or\x20login\x20again',_0x40d143[_0x51bbbc(0x8b)]);continue;case'3':localStorage[_0x51bbbc(0xc8)](_0x40d143[_0x51bbbc(0x8f)]);continue;case'4':_0x40d143[_0x51bbbc(0x9b)](makeItDisappear,_0x4b1114);continue;case'5':makeItAppear(_0x5afad9);continue;}break;}}}export async function updateBlacklistInDatabase(_0x2fca4a,_0x37fa8d){const _0x6ed4e=a0_0x4d6e,_0x45879d={'EnHPZ':function(_0x153add){return _0x153add();},'EFcBG':function(_0x2247f9,_0x4157b8,_0x5977ec){return _0x2247f9(_0x4157b8,_0x5977ec);},'Corfx':_0x6ed4e(0xd6),'cisTS':_0x6ed4e(0xcb),'lNjhh':_0x6ed4e(0x8e),'bsfOa':'Error'};try{const _0x15e6cc=_0x45879d['EnHPZ'](getEmail),_0x3cfc1d=_0x45879d[_0x6ed4e(0x80)](getCompanyId),_0x391b0f=backendAddress+'/api/updateblacklist',_0x19eb2c={'companyId':_0x3cfc1d,'email':_0x15e6cc,'name':_0x2fca4a['name'],'address':_0x2fca4a[_0x6ed4e(0xb9)],'action':_0x37fa8d},_0x135f56=await _0x45879d['EFcBG'](fetch,_0x391b0f,{'method':_0x45879d[_0x6ed4e(0x9d)],'headers':{'Content-Type':_0x45879d[_0x6ed4e(0xa8)]},'body':JSON[_0x6ed4e(0x7b)](_0x19eb2c)}),_0xe4615b=await _0x135f56[_0x6ed4e(0x7e)]();return _0xe4615b['blacklist'];}catch(_0x138e9c){return console[_0x6ed4e(0xc6)](_0x45879d[_0x6ed4e(0xca)],_0x138e9c),a0_0xe7e70d[_0x6ed4e(0xc6)](_0x6ed4e(0xe5),_0x45879d[_0x6ed4e(0xf9)]),[];}}document[a0_0x2db037(0x8a)](a0_0x2db037(0xa6))[a0_0x2db037(0xaf)](a0_0x2db037(0x7f),async _0x325bd7=>{const _0xfb8c34=a0_0x2db037,_0xdaae4b={'aLFzz':_0xfb8c34(0xd4),'LHOmM':'confirm-password','DHpjH':function(_0x2b2b6e,_0x4be743){return _0x2b2b6e!==_0x4be743;},'Kizfj':_0xfb8c34(0xd2),'zPpEY':'User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','UHuoQ':function(_0x44ef4c,_0x17bbe6,_0x20ed11){return _0x44ef4c(_0x17bbe6,_0x20ed11);},'ukBKV':_0xfb8c34(0xd6),'WzTGo':_0xfb8c34(0x9a)};_0x325bd7[_0xfb8c34(0xdf)]();const _0x920c82=document[_0xfb8c34(0x8a)](_0xfb8c34(0xa6)),_0x24bbed=document[_0xfb8c34(0x8a)](_0xfb8c34(0x99))[_0xfb8c34(0xc3)],_0x203d6e=document[_0xfb8c34(0x8a)](_0xdaae4b[_0xfb8c34(0xac)])[_0xfb8c34(0xc3)],_0x7e8d03=document[_0xfb8c34(0x8a)](_0xdaae4b[_0xfb8c34(0xf7)])['value'];if(_0xdaae4b[_0xfb8c34(0xb1)](_0x203d6e,_0x7e8d03)){a0_0xe7e70d[_0xfb8c34(0x93)](_0xdaae4b['Kizfj']);return;}const _0x3d944e=getEmail(),_0xd99339=getLoginKey();if(!_0x3d944e||!_0xd99339){a0_0xe7e70d[_0xfb8c34(0x93)](_0xdaae4b['zPpEY']);return;}try{const _0x34c987=await _0xdaae4b[_0xfb8c34(0xff)](fetch,backendAddress+_0xfb8c34(0xa3),{'method':_0xdaae4b['ukBKV'],'headers':{'Content-Type':'application/json'},'body':JSON[_0xfb8c34(0x7b)]({'email':_0x3d944e,'loginKey':_0xd99339,'oldPassword':_0x24bbed,'newPassword':_0x203d6e})}),_0x4994a9=await _0x34c987[_0xfb8c34(0x7e)]();_0x34c987['ok']?(a0_0xe7e70d[_0xfb8c34(0x89)](_0xfb8c34(0xec)),_0x920c82['reset']()):a0_0xe7e70d['error'](_0x4994a9[_0xfb8c34(0xc6)]||_0xfb8c34(0xbb));}catch(_0x2565cf){console[_0xfb8c34(0xc6)]('Error\x20changing\x20password:',_0x2565cf),a0_0xe7e70d[_0xfb8c34(0xc6)](_0xdaae4b[_0xfb8c34(0xf2)]);}});