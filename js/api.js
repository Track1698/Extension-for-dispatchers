const a0_0x11aef2=a0_0x322c;(function(_0xdecca0,_0xc4a22){const _0x42e5b3=a0_0x322c,_0x24b265=_0xdecca0();while(!![]){try{const _0xa935f9=-parseInt(_0x42e5b3(0x184))/0x1*(-parseInt(_0x42e5b3(0x1a9))/0x2)+-parseInt(_0x42e5b3(0x1ed))/0x3*(-parseInt(_0x42e5b3(0x1eb))/0x4)+-parseInt(_0x42e5b3(0x1bf))/0x5*(-parseInt(_0x42e5b3(0x182))/0x6)+parseInt(_0x42e5b3(0x1e5))/0x7*(-parseInt(_0x42e5b3(0x179))/0x8)+-parseInt(_0x42e5b3(0x1e6))/0x9*(-parseInt(_0x42e5b3(0x1c8))/0xa)+parseInt(_0x42e5b3(0x1b0))/0xb*(parseInt(_0x42e5b3(0x19e))/0xc)+parseInt(_0x42e5b3(0x1a2))/0xd;if(_0xa935f9===_0xc4a22)break;else _0x24b265['push'](_0x24b265['shift']());}catch(_0x33b547){_0x24b265['push'](_0x24b265['shift']());}}}(a0_0x4d13,0xd79a5));import a0_0x239a94 from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';function a0_0x4d13(){const _0x494004=['POST','/api/changepassword','reset','XvUrk','searchFormElement','/api/autocomplete','fkWZs','paste','forEach','map','kyHZz','jpjyH','teCHp','sMGVi','min','yJqYr','2904nTXZlV','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','authToken','MqZox','aowDA','/api/telegramcode','addEventListener','Error\x20fetching\x20suggestions:','userId','6OAeUHr','json','39547gsaEEK','removeItem','from','tDYxA','remove','text','IZnzu','email','gCzXz','VaXYU','HjTyU','vJkNq','TfNbz','fTvmO','lZawz','UuiEY','gojyH','storage','Zsxem','Qttvt','rBfZg','focus','warning','IuRxS','data','bHdWQ','1942008eJYafj','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','hGDWo','RVsYG','2907333pVmAmH','RxMFx','xhmnQ','value','items','XCRMk','verification-input','8ttZmtG','telegramVerifyButton','getElementById','KJNZj','KtJFZ','uJRGP','Zmkch','33AcUMMW','getData','XcwnB','start','yestJ','dcLwo','Telegram\x20connection\x20failed.','Error\x20adding\x20item\x20to\x20blacklist','iOAir','success','YIkNz','companyId','djcms','length','flex','3282095psuLwc','test','change-password-form','authToken:\x20','application/json','WaIpH','vnuti','clipboardData','lSRBy','69420MwCPHO','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','message','fwioE','confirm-password','submit','preventDefault','2|0|5|1|4|3','XNZgg','ovcvf','local','Error','lZeQj','children','WewEg','Backspace','HZmXI','wwSJw','CWkzX','key','CYpiu','qmtoJ','ReNvV','KAAje','click','yIJVX','error','findIndex','rbrYJ','24052HvzIiX','603TqSIWm','split','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','Password\x20changed\x20successfully','Please\x20enter\x20a\x20valid\x20numeric\x20code.','188684kpFceU','DHxMm','9dLYuYk','searches','aelxR','stringify','blacklist','info','hSUjn','UIwsq'];a0_0x4d13=function(){return _0x494004;};return a0_0x4d13();}import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x3d2cc6=a0_0x322c,_0xbdf5f={'xhmnQ':'authToken','CWkzX':_0x3d2cc6(0x18b),'hGDWo':_0x3d2cc6(0x1bb),'fkWZs':_0x3d2cc6(0x165),'vXIOA':_0x3d2cc6(0x1ee)};chrome[_0x3d2cc6(0x195)][_0x3d2cc6(0x1d2)][_0x3d2cc6(0x188)]([_0xbdf5f[_0x3d2cc6(0x1a4)],_0xbdf5f[_0x3d2cc6(0x1da)],_0xbdf5f[_0x3d2cc6(0x1a0)],_0xbdf5f[_0x3d2cc6(0x16f)],_0xbdf5f['vXIOA']],()=>{const _0x5262bb=_0x3d2cc6;a0_0x239a94[_0x5262bb(0x166)]('Logged\x20out\x20successfully.');});}export async function sendTelegramCodeToBackend(_0x5c8e48){const _0x54796f=a0_0x322c,_0x112e70={'TrVnX':function(_0x3755f1){return _0x3755f1();},'kyHZz':function(_0x4c5019){return _0x4c5019();},'uJRGP':function(_0x37e563,_0x4da198,_0x260218){return _0x37e563(_0x4da198,_0x260218);},'IZnzu':_0x54796f(0x169),'vJkNq':_0x54796f(0x1c3),'LmZCt':'telegramId','wXSkV':'Telegram\x20connected\x20successfully!','XCRMk':_0x54796f(0x1b6)};try{const _0x9a3f72=_0x112e70['TrVnX'](getEmail),_0x20846c=_0x112e70[_0x54796f(0x173)](getLoginKey),_0x30f792=await _0x112e70['uJRGP'](fetch,backendAddress+_0x54796f(0x17e),{'method':_0x112e70[_0x54796f(0x18a)],'headers':{'Content-Type':_0x112e70[_0x54796f(0x18f)]},'body':JSON[_0x54796f(0x164)]({'email':_0x9a3f72,'code':_0x5c8e48,'loginKey':_0x20846c})}),_0x1037cd=await _0x30f792[_0x54796f(0x183)]();if(_0x1037cd[_0x54796f(0x1b9)])_0x112e70[_0x54796f(0x1ae)](saveToLocal,_0x112e70['LmZCt'],_0x1037cd[_0x54796f(0x181)]),a0_0x239a94[_0x54796f(0x1b9)](_0x112e70['wXSkV']);else throw new Error(_0x1037cd[_0x54796f(0x1ca)]||_0x112e70[_0x54796f(0x1a7)]);}catch(_0x44b1ad){a0_0x239a94['error'](_0x44b1ad[_0x54796f(0x1ca)]);}}export function showTelegramPopup(){const _0x284d32=a0_0x322c,_0x31a3e4={'rbrYJ':function(_0x4b1215,_0x18c6ae){return _0x4b1215===_0x18c6ae;},'sMGVi':_0x284d32(0x1d7),'rBfZg':function(_0x491b4a,_0x36216d){return _0x491b4a===_0x36216d;},'wwSJw':function(_0x1a0fb6,_0x44314d){return _0x1a0fb6>_0x44314d;},'fwioE':function(_0x17cffa,_0x4e0008){return _0x17cffa-_0x4e0008;},'CYpiu':function(_0x4c20aa,_0x54e0e2){return _0x4c20aa+_0x54e0e2;},'RVsYG':function(_0x10c8b4,_0x52927b){return _0x10c8b4+_0x52927b;},'HjTyU':_0x284d32(0x1b3),'gCzXz':function(_0x14d9d6,_0x21772d){return _0x14d9d6>_0x21772d;},'djcms':function(_0xc9b0f0,_0x1f6440){return _0xc9b0f0-_0x1f6440;},'HZmXI':'ArrowRight','lZawz':function(_0x5494c9,_0x265ff5){return _0x5494c9<_0x265ff5;},'hpfcW':function(_0x260b15){return _0x260b15();},'aelxR':function(_0x25b409,_0x3ef7f4){return _0x25b409!==_0x3ef7f4;},'XcwnB':function(_0x38b236,_0x5d98a1){return _0x38b236>_0x5d98a1;},'sJEBc':function(_0x324b23){return _0x324b23();},'yestJ':_0x284d32(0x189),'XNZgg':_0x284d32(0x170),'aowDA':_0x284d32(0x199),'lZeQj':_0x284d32(0x1ea),'jpjyH':'telegramPopup','UuiEY':_0x284d32(0x1be),'iOAir':_0x284d32(0x1e0)},_0x71d3b9=document[_0x284d32(0x1ab)](_0x31a3e4[_0x284d32(0x174)]),_0x4a4249=document[_0x284d32(0x1ab)](_0x284d32(0x1aa));_0x71d3b9['style']['display']=_0x31a3e4[_0x284d32(0x193)];const _0xe6a895=Array[_0x284d32(0x186)](document[_0x284d32(0x1ab)](_0x284d32(0x1a8))[_0x284d32(0x1d5)]);function _0x18c6bc(){const _0x1d8894=_0x284d32;return _0xe6a895[_0x1d8894(0x1e3)](_0x374580=>_0x374580[_0x1d8894(0x1a5)]==='');}_0xe6a895[_0x284d32(0x171)]((_0x34ff95,_0x484b76)=>{const _0x5a602a=_0x284d32,_0x13febe={'bHdWQ':function(_0x2957bf){return _0x31a3e4['sJEBc'](_0x2957bf);},'ReNvV':function(_0x10a4bb,_0x37cffc){const _0x35d048=a0_0x322c;return _0x31a3e4[_0x35d048(0x1a1)](_0x10a4bb,_0x37cffc);},'oXSfx':_0x31a3e4[_0x5a602a(0x1b4)],'XvUrk':function(_0x8637b1,_0xb8d7c7){const _0x20b5fb=_0x5a602a;return _0x31a3e4[_0x20b5fb(0x163)](_0x8637b1,_0xb8d7c7);},'VaXYU':function(_0x1141ef,_0x39d4d7){return _0x1141ef<_0x39d4d7;},'hSUjn':function(_0x596e95,_0x179f92){return _0x596e95+_0x179f92;},'NYxru':function(_0x3c125f,_0x3395ef){const _0x4df612=_0x5a602a;return _0x31a3e4[_0x4df612(0x1dc)](_0x3c125f,_0x3395ef);}};_0x34ff95['addEventListener']('keydown',_0x41b290=>{const _0x181985=_0x5a602a;if(_0x31a3e4[_0x181985(0x1e4)](_0x41b290[_0x181985(0x1db)],_0x31a3e4[_0x181985(0x176)])){_0x31a3e4[_0x181985(0x198)](_0x34ff95['value'],'')&&_0x31a3e4[_0x181985(0x1d9)](_0x484b76,0x0)&&(_0xe6a895[_0x31a3e4[_0x181985(0x1cb)](_0x484b76,0x1)]['value']='',_0xe6a895[_0x31a3e4[_0x181985(0x1cb)](_0x484b76,0x1)][_0x181985(0x199)]());for(let _0x67bd40=_0x484b76;_0x67bd40<_0xe6a895[_0x181985(0x1bd)];_0x67bd40++){let _0x22f405=_0xe6a895[_0x31a3e4['CYpiu'](_0x67bd40,0x1)]?_0xe6a895[_0x31a3e4['RVsYG'](_0x67bd40,0x1)][_0x181985(0x1a5)]:'';_0xe6a895[_0x67bd40]['setRangeText'](_0x22f405,0x0,0x1,_0x31a3e4[_0x181985(0x18e)]);}}_0x31a3e4[_0x181985(0x198)](_0x41b290['key'],'ArrowLeft')&&_0x31a3e4[_0x181985(0x18c)](_0x484b76,0x0)&&_0xe6a895[_0x31a3e4[_0x181985(0x1bc)](_0x484b76,0x1)][_0x181985(0x199)](),_0x41b290[_0x181985(0x1db)]===_0x31a3e4[_0x181985(0x1d8)]&&_0x31a3e4[_0x181985(0x192)](_0x484b76,_0xe6a895[_0x181985(0x1bd)]-0x1)&&_0xe6a895[_0x31a3e4[_0x181985(0x1a1)](_0x484b76,0x1)][_0x181985(0x199)]();}),_0x34ff95['addEventListener']('input',_0x397225=>{const _0x4d6f31=_0x5a602a;_0x34ff95[_0x4d6f31(0x1a5)]='';const _0xff5b94=_0x13febe[_0x4d6f31(0x19d)](_0x18c6bc);_0xe6a895[_0xff5b94][_0x4d6f31(0x1a5)]=_0x397225[_0x4d6f31(0x19c)];if(_0x13febe[_0x4d6f31(0x1de)](_0xff5b94,0x1)<_0xe6a895[_0x4d6f31(0x1bd)])_0xe6a895[_0x13febe[_0x4d6f31(0x1de)](_0xff5b94,0x1)][_0x4d6f31(0x199)]();}),_0x34ff95[_0x5a602a(0x17f)](_0x31a3e4[_0x5a602a(0x1d0)],_0x3efdc5=>{const _0x362e7d=_0x5a602a;_0x3efdc5[_0x362e7d(0x1ce)]();const _0x4f819a=(event[_0x362e7d(0x1c6)]||window[_0x362e7d(0x1c6)])[_0x362e7d(0x1b1)](_0x13febe['oXSfx']),_0x51e79e=_0x13febe['bHdWQ'](_0x18c6bc),_0x5dac3a=_0x13febe[_0x362e7d(0x16c)](_0x51e79e,-0x1)?Math[_0x362e7d(0x177)](_0x484b76,_0x51e79e):_0x484b76;for(let _0x461b9d=0x0;_0x13febe[_0x362e7d(0x18d)](_0x13febe[_0x362e7d(0x167)](_0x5dac3a,_0x461b9d),_0xe6a895[_0x362e7d(0x1bd)])&&_0x13febe[_0x362e7d(0x18d)](_0x461b9d,_0x4f819a[_0x362e7d(0x1bd)]);_0x461b9d++){_0xe6a895[_0x13febe['NYxru'](_0x5dac3a,_0x461b9d)][_0x362e7d(0x1a5)]=_0x4f819a['charAt'](_0x461b9d);}_0xe6a895[Math[_0x362e7d(0x177)](_0x5dac3a+_0x4f819a[_0x362e7d(0x1bd)],_0xe6a895[_0x362e7d(0x1bd)]-0x1)][_0x362e7d(0x199)]();}),_0x34ff95[_0x5a602a(0x17f)](_0x31a3e4[_0x5a602a(0x17d)],()=>{const _0x36b965=_0x5a602a,_0x550fff=_0x31a3e4['hpfcW'](_0x18c6bc);if(_0x31a3e4[_0x36b965(0x163)](_0x550fff,-0x1)&&_0x31a3e4[_0x36b965(0x1b2)](_0x484b76,_0x550fff))_0xe6a895[_0x550fff][_0x36b965(0x199)]();});}),_0x4a4249[_0x284d32(0x17f)](_0x31a3e4[_0x284d32(0x1b8)],function(){const _0x3b4a4f=_0x284d32,_0x27b317=_0xe6a895[_0x3b4a4f(0x172)](_0x11e982=>_0x11e982[_0x3b4a4f(0x1a5)])['join']('');/^\d+$/[_0x3b4a4f(0x1c0)](_0x27b317)?sendTelegramCodeToBackend(_0x27b317):a0_0x239a94['warning'](_0x31a3e4[_0x3b4a4f(0x1d4)]);});}export async function fetchSuggestions(_0x18be7f){const _0x123002=a0_0x322c,_0x379dff={'YIkNz':'searchFormElement','yIJVX':'controlElement','TfNbz':function(_0x2345de){return _0x2345de();},'MqZox':_0x123002(0x1c2),'gojyH':'POST','nMoUA':_0x123002(0x180),'Zsxem':_0x123002(0x1c9),'lSRBy':_0x123002(0x1d3),'RxMFx':_0x123002(0x17b),'ovcvf':function(_0x2a1201,_0x45b884){return _0x2a1201(_0x45b884);}},_0x1d8911=document[_0x123002(0x1ab)](_0x379dff[_0x123002(0x1ba)]),_0x197415=document[_0x123002(0x1ab)](_0x379dff[_0x123002(0x1e1)]),_0x7a5a08=_0x379dff[_0x123002(0x190)](getAuthToken);try{const _0x4ef17f=backendAddress+_0x123002(0x16e),_0x16cd04={'apiKey':_0x7a5a08,'term':_0x18be7f};console['log'](_0x379dff[_0x123002(0x17c)],_0x7a5a08);const _0x5d72bb=await fetch(_0x4ef17f,{'method':_0x379dff[_0x123002(0x194)],'headers':{'Content-Type':_0x123002(0x1c3)},'body':JSON['stringify'](_0x16cd04)}),_0x36243d=await _0x5d72bb[_0x123002(0x183)]();return _0x36243d[_0x123002(0x1a6)];}catch(_0x518e15){return console[_0x123002(0x1e2)](_0x379dff['nMoUA'],_0x518e15),a0_0x239a94[_0x123002(0x1e2)](_0x379dff[_0x123002(0x196)],_0x379dff[_0x123002(0x1c7)]),localStorage[_0x123002(0x185)](_0x379dff[_0x123002(0x1a3)]),_0x379dff[_0x123002(0x1d1)](makeItDisappear,_0x1d8911),makeItAppear(_0x197415),[];}}export async function fetchSuggestions2(_0x56a13d){const _0x1cfff9=a0_0x322c,_0x55eba6={'UIwsq':_0x1cfff9(0x16d),'WaIpH':'controlElement','wHMPB':function(_0xc751c8){return _0xc751c8();},'tDYxA':_0x1cfff9(0x169),'yJqYr':_0x1cfff9(0x1c3),'Qttvt':_0x1cfff9(0x1cf),'LVxpE':_0x1cfff9(0x1c9),'KAAje':_0x1cfff9(0x1d3),'Ykwrq':function(_0x50ebb2,_0x3e5c8a){return _0x50ebb2(_0x3e5c8a);},'KtJFZ':_0x1cfff9(0x180),'WewEg':function(_0x35d029,_0x22e975){return _0x35d029(_0x22e975);},'DHxMm':_0x1cfff9(0x17b)},_0x3cc8ba=document['getElementById'](_0x55eba6[_0x1cfff9(0x168)]),_0xdaf943=document[_0x1cfff9(0x1ab)](_0x55eba6[_0x1cfff9(0x1c4)]),_0x195755=_0x55eba6['wHMPB'](getAuthToken);try{const _0x444c96=backendAddress+'/api/autocomplete2',_0x16b35c={'apiKey':_0x195755,'term':_0x56a13d},_0x231863=await fetch(_0x444c96,{'method':_0x55eba6[_0x1cfff9(0x187)],'headers':{'Content-Type':_0x55eba6[_0x1cfff9(0x178)]},'body':JSON[_0x1cfff9(0x164)](_0x16b35c)}),_0x5f024a=await _0x231863[_0x1cfff9(0x183)]();return _0x5f024a;}catch(_0xe83683){const _0x3f61ae=_0x55eba6[_0x1cfff9(0x197)][_0x1cfff9(0x1e7)]('|');let _0x3b54f5=0x0;while(!![]){switch(_0x3f61ae[_0x3b54f5++]){case'0':a0_0x239a94[_0x1cfff9(0x1e2)](_0x55eba6['LVxpE'],_0x55eba6[_0x1cfff9(0x1df)]);continue;case'1':_0x55eba6['Ykwrq'](makeItDisappear,_0x3cc8ba);continue;case'2':console[_0x1cfff9(0x1e2)](_0x55eba6[_0x1cfff9(0x1ad)],_0xe83683);continue;case'3':return[];case'4':_0x55eba6[_0x1cfff9(0x1d6)](makeItAppear,_0xdaf943);continue;case'5':localStorage['removeItem'](_0x55eba6[_0x1cfff9(0x1ec)]);continue;}break;}}}function a0_0x322c(_0x28f373,_0x848f91){const _0x4d13ae=a0_0x4d13();return a0_0x322c=function(_0x322c19,_0x1b3cce){_0x322c19=_0x322c19-0x163;let _0x538351=_0x4d13ae[_0x322c19];return _0x538351;},a0_0x322c(_0x28f373,_0x848f91);}export async function updateBlacklistInDatabase(_0x262d85,_0x57fa52){const _0x211bd8=a0_0x322c,_0x3146dc={'vnuti':function(_0x22e93e){return _0x22e93e();},'qmtoJ':function(_0x5c00ee){return _0x5c00ee();},'ZwvoJ':function(_0x23e323,_0x23a700,_0x192966){return _0x23e323(_0x23a700,_0x192966);},'YhbCk':_0x211bd8(0x169),'NbxpE':_0x211bd8(0x180),'dcLwo':_0x211bd8(0x1b7),'CZUFZ':_0x211bd8(0x1d3)};try{const _0x287c70=_0x3146dc[_0x211bd8(0x1c5)](getEmail),_0x599259=_0x3146dc[_0x211bd8(0x1dd)](getCompanyId),_0x2a2e3f=backendAddress+'/api/updateblacklist',_0x2b9949={'companyId':_0x599259,'email':_0x287c70,'name':_0x262d85['name'],'address':_0x262d85['address'],'action':_0x57fa52},_0x2ee977=await _0x3146dc['ZwvoJ'](fetch,_0x2a2e3f,{'method':_0x3146dc['YhbCk'],'headers':{'Content-Type':_0x211bd8(0x1c3)},'body':JSON[_0x211bd8(0x164)](_0x2b9949)}),_0x36dc36=await _0x2ee977[_0x211bd8(0x183)]();return _0x36dc36[_0x211bd8(0x165)];}catch(_0x5401d3){return console[_0x211bd8(0x1e2)](_0x3146dc['NbxpE'],_0x5401d3),a0_0x239a94[_0x211bd8(0x1e2)](_0x3146dc[_0x211bd8(0x1b5)],_0x3146dc['CZUFZ']),[];}}document[a0_0x11aef2(0x1ab)](a0_0x11aef2(0x1c1))[a0_0x11aef2(0x17f)](a0_0x11aef2(0x1cd),async _0x269244=>{const _0x11921e=a0_0x11aef2,_0x597c8f={'gLFLF':'current-password','SQVet':'new-password','WLpCv':_0x11921e(0x1cc),'Zmkch':function(_0x54f789,_0x3e03c5){return _0x54f789!==_0x3e03c5;},'fTvmO':function(_0x6f0c1c){return _0x6f0c1c();},'IuRxS':function(_0x51d08c,_0x2682a7){return _0x51d08c||_0x2682a7;},'KJNZj':'application/json','GCOYk':_0x11921e(0x1e9),'teCHp':_0x11921e(0x17a),'lMCOb':'Error\x20changing\x20password:'};_0x269244[_0x11921e(0x1ce)]();const _0x4f6dd8=document['getElementById'](_0x11921e(0x1c1)),_0x531ad0=document[_0x11921e(0x1ab)](_0x597c8f['gLFLF'])['value'],_0x4d8be8=document[_0x11921e(0x1ab)](_0x597c8f['SQVet'])[_0x11921e(0x1a5)],_0x4da715=document[_0x11921e(0x1ab)](_0x597c8f['WLpCv'])[_0x11921e(0x1a5)];if(_0x597c8f[_0x11921e(0x1af)](_0x4d8be8,_0x4da715)){a0_0x239a94[_0x11921e(0x19a)](_0x11921e(0x19f));return;}const _0x3660a0=_0x597c8f[_0x11921e(0x191)](getEmail),_0x51ee08=getLoginKey();if(_0x597c8f[_0x11921e(0x19b)](!_0x3660a0,!_0x51ee08)){a0_0x239a94[_0x11921e(0x19a)](_0x11921e(0x1e8));return;}try{const _0x51ce58=await fetch(backendAddress+_0x11921e(0x16a),{'method':_0x11921e(0x169),'headers':{'Content-Type':_0x597c8f[_0x11921e(0x1ac)]},'body':JSON['stringify']({'email':_0x3660a0,'loginKey':_0x51ee08,'oldPassword':_0x531ad0,'newPassword':_0x4d8be8})}),_0x406b58=await _0x51ce58[_0x11921e(0x183)]();_0x51ce58['ok']?(a0_0x239a94[_0x11921e(0x1b9)](_0x597c8f['GCOYk']),_0x4f6dd8[_0x11921e(0x16b)]()):a0_0x239a94[_0x11921e(0x1e2)](_0x406b58[_0x11921e(0x1e2)]||_0x597c8f[_0x11921e(0x175)]);}catch(_0x201c44){console[_0x11921e(0x1e2)](_0x597c8f['lMCOb'],_0x201c44),a0_0x239a94[_0x11921e(0x1e2)]('An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.');}});