const a0_0x3d4444=a0_0x5a34;function a0_0x5a34(_0x4051b6,_0x1343a6){const _0x8ef69b=a0_0x8ef6();return a0_0x5a34=function(_0x5a34dd,_0x58fbb6){_0x5a34dd=_0x5a34dd-0xdf;let _0x4651bc=_0x8ef69b[_0x5a34dd];return _0x4651bc;},a0_0x5a34(_0x4051b6,_0x1343a6);}(function(_0x17f35b,_0x4d0505){const _0x130af4=a0_0x5a34,_0x43f79d=_0x17f35b();while(!![]){try{const _0x38c638=-parseInt(_0x130af4(0x142))/0x1+parseInt(_0x130af4(0x124))/0x2+-parseInt(_0x130af4(0xe6))/0x3*(-parseInt(_0x130af4(0x12d))/0x4)+-parseInt(_0x130af4(0x143))/0x5*(parseInt(_0x130af4(0x10d))/0x6)+-parseInt(_0x130af4(0x112))/0x7+-parseInt(_0x130af4(0x120))/0x8+parseInt(_0x130af4(0x138))/0x9;if(_0x38c638===_0x4d0505)break;else _0x43f79d['push'](_0x43f79d['shift']());}catch(_0x5df781){_0x43f79d['push'](_0x43f79d['shift']());}}}(a0_0x8ef6,0x2092b));import a0_0xb12868 from'./alerts.js';import{saveToLocal,getFromLocal}from'./storage.js';import{backendAddress}from'./main.js';import{setAuthToken,getAuthToken,setEmail,getEmail,setCompanyId,setLoginKey,getLoginKey,getCompanyId}from'./state.js';export function logout(){const _0x205578=a0_0x5a34,_0x57c4a7={'MfZbV':_0x205578(0x10f),'syNTJ':_0x205578(0xee),'NWDqf':'companyId','wFOrJ':'blacklist','IXBvz':_0x205578(0x155)};chrome[_0x205578(0xe3)][_0x205578(0xeb)][_0x205578(0x150)](['authToken',_0x57c4a7[_0x205578(0x128)],_0x57c4a7[_0x205578(0x144)],_0x57c4a7['wFOrJ'],_0x57c4a7[_0x205578(0x109)]],()=>{const _0x4d2645=_0x205578;a0_0xb12868[_0x4d2645(0x131)](_0x57c4a7['MfZbV']);});}export async function sendTelegramCodeToBackend(_0x89dcc9){const _0x42964f=a0_0x5a34,_0x34fcbe={'NBSJh':function(_0x8bb8a7){return _0x8bb8a7();},'ucJPl':_0x42964f(0x10e),'nrrGT':'application/json','rTJKP':_0x42964f(0xf6),'Xyfuf':_0x42964f(0xe9)};try{const _0x25baeb=_0x34fcbe[_0x42964f(0x137)](getEmail),_0xa21520=_0x34fcbe[_0x42964f(0x137)](getLoginKey),_0x24d44c=await fetch(backendAddress+_0x42964f(0x15f),{'method':_0x34fcbe[_0x42964f(0x11a)],'headers':{'Content-Type':_0x34fcbe['nrrGT']},'body':JSON[_0x42964f(0x113)]({'email':_0x25baeb,'code':_0x89dcc9,'loginKey':_0xa21520})}),_0x4bff3e=await _0x24d44c[_0x42964f(0x14c)]();if(_0x4bff3e[_0x42964f(0x115)])saveToLocal('telegramId',_0x4bff3e[_0x42964f(0x119)]),a0_0xb12868[_0x42964f(0x115)](_0x34fcbe['rTJKP']);else throw new Error(_0x4bff3e['message']||_0x34fcbe[_0x42964f(0x158)]);}catch(_0x38baba){a0_0xb12868[_0x42964f(0xe1)](_0x38baba[_0x42964f(0x121)]);}}function a0_0x8ef6(){const _0x26e00d=['Please\x20enter\x20a\x20valid\x20numeric\x20code.','qQExr','gxxSQ','flex','address','from','AxyTK','json','kGNSl','ArrowRight','EaXst','remove','mNMRd','/api/updateblacklist','application/json','authToken:\x20','searches','XHDjf','TqSId','Xyfuf','findIndex','cfAuF','JACac','length','test','addEventListener','/api/telegramcode','input','name','setRangeText','oEbYp','RWIDS','items','UZSRY','kzrna','/api/changepassword','error','clipboardData','storage','BzrdN','gYvcV','6PcAOuP','hnmTP','GoqpN','Telegram\x20connection\x20failed.','SSeUb','local','Jrdxk','bTZPH','email','keydown','blacklist','telegramVerifyButton','aTqKr','uxdmI','WayDt','value','Telegram\x20connected\x20successfully!','edAfk','Error\x20fetching\x20suggestions:','SdKQn','split','aXsiZ','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','getElementById','children','text','QIWhg','TsOJW','data','spTuo','pmHEb','change-password-form','map','paste','current-password','IXBvz','uSxIV','KZsho','controlElement','22854ZZolxT','POST','Logged\x20out\x20successfully.','warning','min','1446571saXEfT','stringify','4|5|2|1|0|3','success','njYbB','ArrowLeft','telegramPopup','userId','ucJPl','mQEwy','iKKCZ','RJqRt','lJvix','Error','1597712EWgDvZ','message','emOfk','Iqaft','423446awAgeJ','key','Error\x20adding\x20item\x20to\x20blacklist','charAt','syNTJ','preventDefault','OCiqy','eCwCZ','wGPkf','296804hhrKOh','forEach','skjMb','confirm-password','info','Error\x20changing\x20password:','ERuvq','searchFormElement','oaxRU','focus','NBSJh','4919373zdzZMp','new-password','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','IVVRr','gLfWj','start','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','CWKzA','qIYFr','display','130778xnKbXv','310zKftQC','NWDqf'];a0_0x8ef6=function(){return _0x26e00d;};return a0_0x8ef6();}export function showTelegramPopup(){const _0x572555=a0_0x5a34,_0x387a22={'mQEwy':_0x572555(0xff),'RWIDS':function(_0x33091b){return _0x33091b();},'emOfk':function(_0x9df72a,_0x2bcf1d){return _0x9df72a!==_0x2bcf1d;},'eCwCZ':function(_0x35a898,_0x406ed5){return _0x35a898<_0x406ed5;},'qIYFr':function(_0x520c0c,_0x596554){return _0x520c0c+_0x596554;},'Jrdxk':function(_0x5d634f,_0x20304a){return _0x5d634f+_0x20304a;},'luAmZ':function(_0x1c41ac,_0x41346c){return _0x1c41ac-_0x41346c;},'TsOJW':function(_0xe4527f,_0xb1d6e4){return _0xe4527f>_0xb1d6e4;},'aTqKr':function(_0xb14961,_0x2b6a8d){return _0xb14961===_0x2b6a8d;},'IHQhv':'Backspace','mCRDo':function(_0xe83f50,_0x454019){return _0xe83f50+_0x454019;},'CWKzA':_0x572555(0x13d),'PcQPy':_0x572555(0x117),'gLfWj':_0x572555(0x14e),'spTuo':function(_0x319e47,_0x13d832){return _0x319e47+_0x13d832;},'ERuvq':function(_0x52322c,_0x4254c6){return _0x52322c+_0x4254c6;},'cyzul':_0x572555(0x160),'EaXst':_0x572555(0x107),'JACac':_0x572555(0x136),'OCiqy':_0x572555(0x145),'TqSId':_0x572555(0x148),'oaxRU':'verification-input'},_0x1d8916=document[_0x572555(0xfd)](_0x572555(0x118)),_0x28ac04=document[_0x572555(0xfd)](_0x572555(0xf1));_0x1d8916['style'][_0x572555(0x141)]=_0x387a22[_0x572555(0x157)];const _0x2b8bf9=Array[_0x572555(0x14a)](document[_0x572555(0xfd)](_0x387a22[_0x572555(0x135)])[_0x572555(0xfe)]);function _0x2db15f(){const _0xd1e77c=_0x572555;return _0x2b8bf9[_0xd1e77c(0x159)](_0x222a41=>_0x222a41[_0xd1e77c(0xf5)]==='');}_0x2b8bf9[_0x572555(0x12e)]((_0x180db1,_0x3b0785)=>{const _0x4b5010=_0x572555,_0x3179da={'XHDjf':function(_0x41799d,_0xb138e7){return _0x387a22['aTqKr'](_0x41799d,_0xb138e7);},'ddUeG':_0x387a22['IHQhv'],'yDXyP':function(_0xf3e560,_0x179fcf){const _0x4fc1f6=a0_0x5a34;return _0x387a22[_0x4fc1f6(0x101)](_0xf3e560,_0x179fcf);},'AxyTK':function(_0x42188d,_0x57fd05){return _0x42188d-_0x57fd05;},'ySGbF':function(_0x53febd,_0x213f28){const _0x440ade=a0_0x5a34;return _0x387a22[_0x440ade(0x12b)](_0x53febd,_0x213f28);},'WayDt':function(_0x2bbd93,_0x45eb35){return _0x387a22['mCRDo'](_0x2bbd93,_0x45eb35);},'IVVRr':_0x387a22[_0x4b5010(0x13f)],'sCBmO':_0x387a22['PcQPy'],'RJqRt':function(_0x59df97,_0x2e864c){const _0x4cc5bf=_0x4b5010;return _0x387a22[_0x4cc5bf(0xf2)](_0x59df97,_0x2e864c);},'cfAuF':_0x387a22[_0x4b5010(0x13c)],'lJvix':function(_0x55eaa7,_0x465bb2){const _0x200b75=_0x4b5010;return _0x387a22[_0x200b75(0x12b)](_0x55eaa7,_0x465bb2);},'Oksqu':function(_0x53c839,_0x2292e3){return _0x53c839-_0x2292e3;},'PCBbB':function(_0xf2bbc7,_0x4cb064){const _0x2d1ec6=_0x4b5010;return _0x387a22[_0x2d1ec6(0x103)](_0xf2bbc7,_0x4cb064);},'wGPkf':function(_0x54ec8d,_0x1e3379){const _0x4d7042=_0x4b5010;return _0x387a22[_0x4d7042(0x133)](_0x54ec8d,_0x1e3379);}};_0x180db1[_0x4b5010(0x15e)](_0x4b5010(0xef),_0xb3d98c=>{const _0x4308e9=_0x4b5010;if(_0x3179da[_0x4308e9(0x156)](_0xb3d98c[_0x4308e9(0x125)],_0x3179da['ddUeG'])){_0x3179da[_0x4308e9(0x156)](_0x180db1[_0x4308e9(0xf5)],'')&&_0x3179da['yDXyP'](_0x3b0785,0x0)&&(_0x2b8bf9[_0x3179da[_0x4308e9(0x14b)](_0x3b0785,0x1)]['value']='',_0x2b8bf9[_0x3179da[_0x4308e9(0x14b)](_0x3b0785,0x1)]['focus']());for(let _0x231312=_0x3b0785;_0x3179da['ySGbF'](_0x231312,_0x2b8bf9['length']);_0x231312++){let _0x299a7e=_0x2b8bf9[_0x3179da[_0x4308e9(0xf4)](_0x231312,0x1)]?_0x2b8bf9[_0x231312+0x1]['value']:'';_0x2b8bf9[_0x231312][_0x4308e9(0x162)](_0x299a7e,0x0,0x1,_0x3179da[_0x4308e9(0x13b)]);}}_0x3179da[_0x4308e9(0x156)](_0xb3d98c[_0x4308e9(0x125)],_0x3179da['sCBmO'])&&_0x3b0785>0x0&&_0x2b8bf9[_0x3179da[_0x4308e9(0x14b)](_0x3b0785,0x1)]['focus'](),_0x3179da[_0x4308e9(0x11d)](_0xb3d98c[_0x4308e9(0x125)],_0x3179da[_0x4308e9(0x15a)])&&_0x3179da[_0x4308e9(0x11e)](_0x3b0785,_0x3179da['Oksqu'](_0x2b8bf9[_0x4308e9(0x15c)],0x1))&&_0x2b8bf9[_0x3179da[_0x4308e9(0xf4)](_0x3b0785,0x1)][_0x4308e9(0x136)]();}),_0x180db1[_0x4b5010(0x15e)](_0x387a22['cyzul'],_0x42b03f=>{const _0x3641eb=_0x4b5010;_0x180db1[_0x3641eb(0xf5)]='';const _0x114822=_0x2db15f();_0x2b8bf9[_0x114822][_0x3641eb(0xf5)]=_0x42b03f[_0x3641eb(0x102)];if(_0x3179da['PCBbB'](_0x114822,0x1)<_0x2b8bf9[_0x3641eb(0x15c)])_0x2b8bf9[_0x3179da[_0x3641eb(0x12c)](_0x114822,0x1)]['focus']();}),_0x180db1[_0x4b5010(0x15e)](_0x387a22[_0x4b5010(0x14f)],_0xb064ac=>{const _0x1f3b24=_0x4b5010;_0xb064ac[_0x1f3b24(0x129)]();const _0x4812e8=(event['clipboardData']||window[_0x1f3b24(0xe2)])['getData'](_0x387a22[_0x1f3b24(0x11b)]),_0x3c6409=_0x387a22['RWIDS'](_0x2db15f),_0x4e612f=_0x387a22[_0x1f3b24(0x122)](_0x3c6409,-0x1)?Math[_0x1f3b24(0x111)](_0x3b0785,_0x3c6409):_0x3b0785;for(let _0x27ac69=0x0;_0x387a22[_0x1f3b24(0x12b)](_0x387a22[_0x1f3b24(0x140)](_0x4e612f,_0x27ac69),_0x2b8bf9[_0x1f3b24(0x15c)])&&_0x387a22[_0x1f3b24(0x12b)](_0x27ac69,_0x4812e8[_0x1f3b24(0x15c)]);_0x27ac69++){_0x2b8bf9[_0x387a22['qIYFr'](_0x4e612f,_0x27ac69)][_0x1f3b24(0xf5)]=_0x4812e8[_0x1f3b24(0x127)](_0x27ac69);}_0x2b8bf9[Math[_0x1f3b24(0x111)](_0x387a22[_0x1f3b24(0xec)](_0x4e612f,_0x4812e8['length']),_0x387a22['luAmZ'](_0x2b8bf9['length'],0x1))][_0x1f3b24(0x136)]();}),_0x180db1[_0x4b5010(0x15e)](_0x387a22[_0x4b5010(0x15b)],()=>{const _0x28fb00=_0x4b5010,_0x10d90d=_0x387a22[_0x28fb00(0x164)](_0x2db15f);if(_0x10d90d!==-0x1&&_0x387a22[_0x28fb00(0x101)](_0x3b0785,_0x10d90d))_0x2b8bf9[_0x10d90d][_0x28fb00(0x136)]();});}),_0x28ac04[_0x572555(0x15e)]('click',function(){const _0x4c51f6=_0x572555,_0x2884a2=_0x2b8bf9[_0x4c51f6(0x106)](_0x40a1e5=>_0x40a1e5[_0x4c51f6(0xf5)])['join']('');/^\d+$/[_0x4c51f6(0x15d)](_0x2884a2)?sendTelegramCodeToBackend(_0x2884a2):a0_0xb12868[_0x4c51f6(0x110)](_0x387a22[_0x4c51f6(0x12a)]);});}export async function fetchSuggestions(_0xd2f1d9){const _0x4e000f=a0_0x5a34,_0x5ae7d3={'ngolD':_0x4e000f(0x134),'aXsiZ':_0x4e000f(0x10c),'mNMRd':function(_0x4e6cab){return _0x4e6cab();},'kzrna':_0x4e000f(0x154),'uxdmI':function(_0x1aed3d,_0x115ecf,_0x56301b){return _0x1aed3d(_0x115ecf,_0x56301b);},'pmHEb':'POST','hnmTP':_0x4e000f(0x153),'edAfk':_0x4e000f(0x114),'sXifg':function(_0x227022,_0x429405){return _0x227022(_0x429405);},'KtUOx':function(_0x3a41aa,_0x359ad){return _0x3a41aa(_0x359ad);},'KZsho':'authToken','gxxSQ':'Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','GsZQP':_0x4e000f(0x11f)},_0x2722d1=document[_0x4e000f(0xfd)](_0x5ae7d3['ngolD']),_0x4e0ee0=document[_0x4e000f(0xfd)](_0x5ae7d3[_0x4e000f(0xfb)]),_0x2c4fa5=_0x5ae7d3[_0x4e000f(0x151)](getAuthToken);try{const _0x299538=backendAddress+'/api/autocomplete',_0x4c19e4={'apiKey':_0x2c4fa5,'term':_0xd2f1d9};console['log'](_0x5ae7d3[_0x4e000f(0xdf)],_0x2c4fa5);const _0x44196f=await _0x5ae7d3[_0x4e000f(0xf3)](fetch,_0x299538,{'method':_0x5ae7d3[_0x4e000f(0x104)],'headers':{'Content-Type':_0x5ae7d3[_0x4e000f(0xe7)]},'body':JSON['stringify'](_0x4c19e4)}),_0xdaad6c=await _0x44196f[_0x4e000f(0x14c)]();return _0xdaad6c[_0x4e000f(0x165)];}catch(_0x4f0f58){const _0x405460=_0x5ae7d3[_0x4e000f(0xf7)][_0x4e000f(0xfa)]('|');let _0x3195c2=0x0;while(!![]){switch(_0x405460[_0x3195c2++]){case'0':_0x5ae7d3['sXifg'](makeItAppear,_0x4e0ee0);continue;case'1':_0x5ae7d3['KtUOx'](makeItDisappear,_0x2722d1);continue;case'2':localStorage['removeItem'](_0x5ae7d3[_0x4e000f(0x10b)]);continue;case'3':return[];case'4':console[_0x4e000f(0xe1)](_0x4e000f(0xf8),_0x4f0f58);continue;case'5':a0_0xb12868[_0x4e000f(0xe1)](_0x5ae7d3[_0x4e000f(0x147)],_0x5ae7d3['GsZQP']);continue;}break;}}}export async function updateBlacklistInDatabase(_0x164b35,_0xe563c5){const _0x26ff57=a0_0x5a34,_0x504c42={'SSeUb':function(_0xa4948a){return _0xa4948a();},'qQExr':function(_0x1cafab,_0x27cded,_0x4bcbae){return _0x1cafab(_0x27cded,_0x4bcbae);},'gYvcV':_0x26ff57(0x10e),'bTZPH':_0x26ff57(0x153),'BzrdN':_0x26ff57(0xf8),'SdKQn':_0x26ff57(0x126),'iKKCZ':_0x26ff57(0x11f)};try{const _0x2939ce=_0x504c42['SSeUb'](getEmail),_0xe6289e=_0x504c42[_0x26ff57(0xea)](getCompanyId),_0x25c5d5=backendAddress+_0x26ff57(0x152),_0x2e7a03={'companyId':_0xe6289e,'email':_0x2939ce,'name':_0x164b35[_0x26ff57(0x161)],'address':_0x164b35[_0x26ff57(0x149)],'action':_0xe563c5},_0xd0f380=await _0x504c42[_0x26ff57(0x146)](fetch,_0x25c5d5,{'method':_0x504c42[_0x26ff57(0xe5)],'headers':{'Content-Type':_0x504c42[_0x26ff57(0xed)]},'body':JSON['stringify'](_0x2e7a03)}),_0x53db88=await _0xd0f380[_0x26ff57(0x14c)]();return populateBlacklist(_0x53db88[_0x26ff57(0xf0)]),_0x53db88['blacklist'];}catch(_0x9a312f){return console[_0x26ff57(0xe1)](_0x504c42[_0x26ff57(0xe4)],_0x9a312f),a0_0xb12868[_0x26ff57(0xe1)](_0x504c42[_0x26ff57(0xf9)],_0x504c42[_0x26ff57(0x11c)]),[];}}document[a0_0x3d4444(0xfd)](a0_0x3d4444(0x105))['addEventListener']('submit',async _0x34a6bf=>{const _0x5b9a52=a0_0x3d4444,_0x5739f1={'GoqpN':_0x5b9a52(0x105),'nYXTL':_0x5b9a52(0x130),'UZSRY':function(_0x570e37,_0x33ce01){return _0x570e37!==_0x33ce01;},'oEbYp':_0x5b9a52(0x13e),'kGNSl':function(_0x304ff2){return _0x304ff2();},'aVtzi':'User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','skjMb':function(_0x59f014,_0x1d0180,_0x179a11){return _0x59f014(_0x1d0180,_0x179a11);},'QIWhg':_0x5b9a52(0x10e),'uSxIV':_0x5b9a52(0x153),'Iqaft':'Password\x20changed\x20successfully','njYbB':_0x5b9a52(0xfc)};_0x34a6bf[_0x5b9a52(0x129)]();const _0x74ab1e=document['getElementById'](_0x5739f1[_0x5b9a52(0xe8)]),_0x53a69b=document[_0x5b9a52(0xfd)](_0x5b9a52(0x108))[_0x5b9a52(0xf5)],_0x57ca8d=document[_0x5b9a52(0xfd)](_0x5b9a52(0x139))[_0x5b9a52(0xf5)],_0x679e07=document[_0x5b9a52(0xfd)](_0x5739f1['nYXTL'])[_0x5b9a52(0xf5)];if(_0x5739f1[_0x5b9a52(0x166)](_0x57ca8d,_0x679e07)){a0_0xb12868[_0x5b9a52(0x110)](_0x5739f1[_0x5b9a52(0x163)]);return;}const _0x46b9a7=_0x5739f1[_0x5b9a52(0x14d)](getEmail),_0x4db0f8=getLoginKey();if(!_0x46b9a7||!_0x4db0f8){a0_0xb12868[_0x5b9a52(0x110)](_0x5739f1['aVtzi']);return;}try{const _0x191be2=await _0x5739f1[_0x5b9a52(0x12f)](fetch,backendAddress+_0x5b9a52(0xe0),{'method':_0x5739f1[_0x5b9a52(0x100)],'headers':{'Content-Type':_0x5739f1[_0x5b9a52(0x10a)]},'body':JSON[_0x5b9a52(0x113)]({'email':_0x46b9a7,'loginKey':_0x4db0f8,'oldPassword':_0x53a69b,'newPassword':_0x57ca8d})}),_0x5198dc=await _0x191be2['json']();_0x191be2['ok']?(a0_0xb12868[_0x5b9a52(0x115)](_0x5739f1[_0x5b9a52(0x123)]),_0x74ab1e['reset']()):a0_0xb12868[_0x5b9a52(0xe1)](_0x5198dc['error']||_0x5b9a52(0x13a));}catch(_0x1a72bc){console[_0x5b9a52(0xe1)](_0x5b9a52(0x132),_0x1a72bc),a0_0xb12868['error'](_0x5739f1[_0x5b9a52(0x116)]);}});