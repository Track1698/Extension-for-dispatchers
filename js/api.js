const a0_0x301f54=a0_0x36f8;function a0_0x7f03(){const _0xec7336=['GFyZQ','stringify','Qreod','13952yfiTIG','flex','ArrowRight','text','jMgVb','QXaQI','submit','Telegram\x20connected\x20successfully!','TeeUB','data','70pWGFYb','WlZdT','iHCzY','paste','1022850tkeaEe','uqDwn','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','/api/autocomplete','esakd','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','items','telegramPopup','min','WCoLz','value','blacklist','RgPEJ','WrBBo','Logged\x20out\x20successfully.','display','MscKa','falUr','8AhFnBy','ArrowLeft','application/json','focus','address','392119KelpTL','309505KaulEh','FUVLk','success','Error\x20fetching\x20suggestions:','jBmlV','remove','split','getData','change-password-form','ronFx','dITqT','iveJm','POST','jmIsW','new-password','dyiWB','XgJMo','MGgyN','map','warning','length','jITCw','oyQuq','7623280JXWKew','ODYNT','KJorz','ysLdQ','6PHvVnp','message','bpTXM','/api/updateblacklist','input','key','yOSwS','KyBdQ','EuwQv','Please\x20enter\x20a\x20valid\x20numeric\x20code.','forEach','click','style','children','NRbnz','OYGjV','error','removeItem','Error\x20changing\x20password:','name','fJKsU','JdJIp','KLOCV','ijlKW','Error','info','niuYM','vBENU','ArNSQ','/api/changepassword','log','gfQLQ','addEventListener','setRangeText','436198GbqAYu','email','confirm-password','from','0|4|2|5|3|1','sfnOb','ytfyf','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','sEjVF','authToken','storage','searchFormElement','reset','clipboardData','Password\x20changed\x20successfully','telegramVerifyButton','userId','Rrztu','getElementById','Telegram\x20connection\x20failed.','telegramId','json','551316VIBZjr','Error\x20adding\x20item\x20to\x20blacklist'];a0_0x7f03=function(){return _0xec7336;};return a0_0x7f03();}(function(_0x54aca4,_0x4adead){const _0x515126=a0_0x36f8,_0x309279=_0x54aca4();while(!![]){try{const _0x5df612=-parseInt(_0x515126(0x19e))/0x1+-parseInt(_0x515126(0x1db))/0x2+-parseInt(_0x515126(0x173))/0x3+parseInt(_0x515126(0x178))/0x4*(parseInt(_0x515126(0x182))/0x5)+-parseInt(_0x515126(0x1b9))/0x6*(parseInt(_0x515126(0x19d))/0x7)+parseInt(_0x515126(0x198))/0x8*(parseInt(_0x515126(0x186))/0x9)+parseInt(_0x515126(0x1b5))/0xa;if(_0x5df612===_0x4adead)break;else _0x309279['push'](_0x309279['shift']());}catch(_0x34a7c4){_0x309279['push'](_0x309279['shift']());}}}(a0_0x7f03,0x266e9));import a0_0x167204 from'./alerts.js';import{saveToLocal,getFromLocal}from'./storage.js';import{backendAddress}from'./main.js';import{setAuthToken,getAuthToken,setEmail,getEmail,setCompanyId,setLoginKey,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x38d860=a0_0x36f8,_0x5e3036={'CnhYL':_0x38d860(0x1e4),'jmIsW':'companyId','bpTXM':'blacklist','MGgyN':'searches'};chrome[_0x38d860(0x1e5)]['local'][_0x38d860(0x1a3)]([_0x5e3036['CnhYL'],_0x38d860(0x1dc),_0x5e3036[_0x38d860(0x1ab)],_0x5e3036[_0x38d860(0x1bb)],_0x5e3036[_0x38d860(0x1af)]],()=>{const _0x4fb948=_0x38d860;a0_0x167204[_0x4fb948(0x1d2)](_0x4fb948(0x194));});}export async function sendTelegramCodeToBackend(_0x47bbe7){const _0x51b9bf=a0_0x36f8,_0x3ce968={'WCoLz':function(_0x422dbe){return _0x422dbe();},'WrBBo':function(_0x24f0fb,_0x356f6f,_0x1b07c7){return _0x24f0fb(_0x356f6f,_0x1b07c7);},'rVWuo':'POST','vvUBF':_0x51b9bf(0x19a),'lENKH':_0x51b9bf(0x171)};try{const _0x31aae3=_0x3ce968[_0x51b9bf(0x18f)](getEmail),_0xe2637f=_0x3ce968['WCoLz'](getLoginKey),_0x7e5d4f=await _0x3ce968[_0x51b9bf(0x193)](fetch,backendAddress+'/api/telegramcode',{'method':_0x3ce968['rVWuo'],'headers':{'Content-Type':_0x3ce968['vvUBF']},'body':JSON[_0x51b9bf(0x176)]({'email':_0x31aae3,'code':_0x47bbe7,'loginKey':_0xe2637f})}),_0x3431a0=await _0x7e5d4f[_0x51b9bf(0x172)]();if(_0x3431a0['success'])saveToLocal(_0x3ce968['lENKH'],_0x3431a0[_0x51b9bf(0x1eb)]),a0_0x167204[_0x51b9bf(0x1a0)](_0x51b9bf(0x17f));else throw new Error(_0x3431a0[_0x51b9bf(0x1ba)]||_0x51b9bf(0x170));}catch(_0x2e1055){a0_0x167204[_0x51b9bf(0x1c9)](_0x2e1055['message']);}}export function showTelegramPopup(){const _0x3d7b6c=a0_0x36f8,_0x26c887={'WlZdT':function(_0x589375,_0x3566cc){return _0x589375===_0x3566cc;},'QXaQI':'Backspace','jITCw':function(_0x37db5f,_0x3d87b1){return _0x37db5f-_0x3d87b1;},'JZsEQ':function(_0xb54f00,_0x37110){return _0xb54f00+_0x37110;},'vBENU':'start','gfQLQ':_0x3d7b6c(0x199),'qkKdg':function(_0x3612d7,_0x490322){return _0x3612d7>_0x490322;},'EZiXv':_0x3d7b6c(0x17a),'falUr':function(_0x35f7df,_0x4f0871){return _0x35f7df<_0x4f0871;},'KLOCV':function(_0x444a80,_0x5c2382){return _0x444a80+_0x5c2382;},'jBmlV':function(_0x17ed02){return _0x17ed02();},'ytfyf':function(_0x5a78cf,_0x848fa6){return _0x5a78cf+_0x848fa6;},'niuYM':_0x3d7b6c(0x17b),'fJKsU':'keydown','Qreod':_0x3d7b6c(0x1bd),'EuwQv':_0x3d7b6c(0x185),'ronFx':_0x3d7b6c(0x19b),'iHCzY':_0x3d7b6c(0x1c2),'KJorz':_0x3d7b6c(0x18d),'JdJIp':_0x3d7b6c(0x1ea),'FUVLk':_0x3d7b6c(0x179),'NRbnz':_0x3d7b6c(0x1c4)},_0xc0e8fa=document[_0x3d7b6c(0x16f)](_0x26c887[_0x3d7b6c(0x1b7)]),_0x297146=document[_0x3d7b6c(0x16f)](_0x26c887[_0x3d7b6c(0x1ce)]);_0xc0e8fa[_0x3d7b6c(0x1c5)][_0x3d7b6c(0x195)]=_0x26c887[_0x3d7b6c(0x19f)];const _0xb8e5d3=Array[_0x3d7b6c(0x1de)](document[_0x3d7b6c(0x16f)]('verification-input')[_0x3d7b6c(0x1c6)]);function _0x2e0f17(){return _0xb8e5d3['findIndex'](_0x5f2f04=>_0x5f2f04['value']==='');}_0xb8e5d3[_0x3d7b6c(0x1c3)]((_0x13f7a2,_0x461f2c)=>{const _0x45eafb=_0x3d7b6c,_0x25bd7b={'TwBQo':function(_0x48b814){const _0x4747ba=a0_0x36f8;return _0x26c887[_0x4747ba(0x1a2)](_0x48b814);},'sEjVF':function(_0x2a7461,_0x22178a){const _0x25fc81=a0_0x36f8;return _0x26c887[_0x25fc81(0x197)](_0x2a7461,_0x22178a);},'iveJm':function(_0x339f66,_0x106bc3){const _0x5f09bf=a0_0x36f8;return _0x26c887[_0x5f09bf(0x1e1)](_0x339f66,_0x106bc3);},'uqDwn':function(_0x70c17c,_0x11a3da){return _0x70c17c+_0x11a3da;},'pBYAP':_0x26c887[_0x45eafb(0x1d3)],'ODYNT':function(_0x26fca0,_0x1c1dda){const _0x285778=_0x45eafb;return _0x26c887[_0x285778(0x197)](_0x26fca0,_0x1c1dda);},'VySoP':function(_0x13acb5,_0x267759){return _0x26c887['jITCw'](_0x13acb5,_0x267759);}};_0x13f7a2[_0x45eafb(0x1d9)](_0x26c887[_0x45eafb(0x1cd)],_0x40c509=>{const _0x1924f7=_0x45eafb;if(_0x26c887[_0x1924f7(0x183)](_0x40c509[_0x1924f7(0x1be)],_0x26c887[_0x1924f7(0x17d)])){_0x13f7a2[_0x1924f7(0x190)]===''&&_0x461f2c>0x0&&(_0xb8e5d3[_0x26c887[_0x1924f7(0x1b3)](_0x461f2c,0x1)]['value']='',_0xb8e5d3[_0x26c887[_0x1924f7(0x1b3)](_0x461f2c,0x1)][_0x1924f7(0x19b)]());for(let _0x22f56d=_0x461f2c;_0x22f56d<_0xb8e5d3[_0x1924f7(0x1b2)];_0x22f56d++){let _0x3bcd57=_0xb8e5d3[_0x22f56d+0x1]?_0xb8e5d3[_0x26c887['JZsEQ'](_0x22f56d,0x1)][_0x1924f7(0x190)]:'';_0xb8e5d3[_0x22f56d][_0x1924f7(0x1da)](_0x3bcd57,0x0,0x1,_0x26c887[_0x1924f7(0x1d4)]);}}_0x40c509[_0x1924f7(0x1be)]===_0x26c887[_0x1924f7(0x1d8)]&&_0x26c887['qkKdg'](_0x461f2c,0x0)&&_0xb8e5d3[_0x26c887[_0x1924f7(0x1b3)](_0x461f2c,0x1)][_0x1924f7(0x19b)](),_0x40c509['key']===_0x26c887['EZiXv']&&_0x26c887[_0x1924f7(0x197)](_0x461f2c,_0xb8e5d3[_0x1924f7(0x1b2)]-0x1)&&_0xb8e5d3[_0x26c887[_0x1924f7(0x1cf)](_0x461f2c,0x1)][_0x1924f7(0x19b)]();}),_0x13f7a2[_0x45eafb(0x1d9)](_0x26c887[_0x45eafb(0x177)],_0x28cbac=>{const _0x8e7c84=_0x45eafb;_0x13f7a2['value']='';const _0x50b850=_0x25bd7b['TwBQo'](_0x2e0f17);_0xb8e5d3[_0x50b850][_0x8e7c84(0x190)]=_0x28cbac[_0x8e7c84(0x181)];if(_0x25bd7b['sEjVF'](_0x25bd7b[_0x8e7c84(0x1a9)](_0x50b850,0x1),_0xb8e5d3[_0x8e7c84(0x1b2)]))_0xb8e5d3[_0x25bd7b[_0x8e7c84(0x187)](_0x50b850,0x1)][_0x8e7c84(0x19b)]();}),_0x13f7a2['addEventListener'](_0x26c887[_0x45eafb(0x1c1)],_0x2c5c16=>{const _0x1c5620=_0x45eafb;_0x2c5c16['preventDefault']();const _0x5d0fac=(event[_0x1c5620(0x1e8)]||window[_0x1c5620(0x1e8)])[_0x1c5620(0x1a5)](_0x25bd7b['pBYAP']),_0x19628a=_0x2e0f17(),_0x40ec3f=_0x19628a!==-0x1?Math[_0x1c5620(0x18e)](_0x461f2c,_0x19628a):_0x461f2c;for(let _0x1fb76d=0x0;_0x25bd7b[_0x1c5620(0x1e3)](_0x40ec3f+_0x1fb76d,_0xb8e5d3['length'])&&_0x25bd7b[_0x1c5620(0x1b6)](_0x1fb76d,_0x5d0fac[_0x1c5620(0x1b2)]);_0x1fb76d++){_0xb8e5d3[_0x25bd7b[_0x1c5620(0x187)](_0x40ec3f,_0x1fb76d)]['value']=_0x5d0fac['charAt'](_0x1fb76d);}_0xb8e5d3[Math['min'](_0x40ec3f+_0x5d0fac[_0x1c5620(0x1b2)],_0x25bd7b['VySoP'](_0xb8e5d3[_0x1c5620(0x1b2)],0x1))][_0x1c5620(0x19b)]();}),_0x13f7a2['addEventListener'](_0x26c887[_0x45eafb(0x1a7)],()=>{const _0x23b0a1=_0x45eafb,_0x407cbd=_0x2e0f17();if(_0x407cbd!==-0x1&&_0x461f2c>_0x407cbd)_0xb8e5d3[_0x407cbd][_0x23b0a1(0x19b)]();});}),_0x297146[_0x3d7b6c(0x1d9)](_0x26c887[_0x3d7b6c(0x1c7)],function(){const _0x1182dd=_0x3d7b6c,_0x566d25=_0xb8e5d3[_0x1182dd(0x1b0)](_0x33584a=>_0x33584a[_0x1182dd(0x190)])['join']('');/^\d+$/['test'](_0x566d25)?sendTelegramCodeToBackend(_0x566d25):a0_0x167204[_0x1182dd(0x1b1)](_0x26c887[_0x1182dd(0x184)]);});}export async function fetchSuggestions(_0x298602){const _0x28424c=a0_0x36f8,_0x3cd8ff={'ZBWNa':'authToken:\x20','sfnOb':'POST','GFyZQ':_0x28424c(0x19a),'OYGjV':_0x28424c(0x1df),'dITqT':_0x28424c(0x1e4),'Rrztu':function(_0x58a9ec,_0x7c7b27){return _0x58a9ec(_0x7c7b27);},'TeeUB':_0x28424c(0x1e2),'DsTtG':_0x28424c(0x1d1)},_0x3a3a78=document[_0x28424c(0x16f)](_0x28424c(0x1e6)),_0x4268a6=document['getElementById']('controlElement'),_0x4effbd=getAuthToken();try{const _0x306e8d=backendAddress+_0x28424c(0x189),_0x2b6a51={'apiKey':_0x4effbd,'term':_0x298602};console[_0x28424c(0x1d7)](_0x3cd8ff['ZBWNa'],_0x4effbd);const _0x10ca91=await fetch(_0x306e8d,{'method':_0x3cd8ff[_0x28424c(0x1e0)],'headers':{'Content-Type':_0x3cd8ff[_0x28424c(0x175)]},'body':JSON[_0x28424c(0x176)](_0x2b6a51)}),_0x40dbe2=await _0x10ca91[_0x28424c(0x172)]();return _0x40dbe2[_0x28424c(0x18c)];}catch(_0x4ee171){const _0x2f1482=_0x3cd8ff[_0x28424c(0x1c8)][_0x28424c(0x1a4)]('|');let _0x38fa1b=0x0;while(!![]){switch(_0x2f1482[_0x38fa1b++]){case'0':console[_0x28424c(0x1c9)](_0x28424c(0x1a1),_0x4ee171);continue;case'1':return[];case'2':localStorage[_0x28424c(0x1ca)](_0x3cd8ff[_0x28424c(0x1a8)]);continue;case'3':_0x3cd8ff[_0x28424c(0x16e)](makeItAppear,_0x4268a6);continue;case'4':a0_0x167204[_0x28424c(0x1c9)](_0x3cd8ff[_0x28424c(0x180)],_0x3cd8ff['DsTtG']);continue;case'5':_0x3cd8ff['Rrztu'](makeItDisappear,_0x3a3a78);continue;}break;}}}export async function updateBlacklistInDatabase(_0x17f69c,_0x2880e3){const _0x103e12=a0_0x36f8,_0x8fa684={'XgJMo':function(_0x5bc1ba){return _0x5bc1ba();},'ysLdQ':function(_0x5e202a,_0x4ae05b,_0x136fe4){return _0x5e202a(_0x4ae05b,_0x136fe4);},'RgPEJ':_0x103e12(0x1aa),'OsmHF':_0x103e12(0x19a),'esakd':_0x103e12(0x1a1),'cADFr':_0x103e12(0x174),'yOSwS':_0x103e12(0x1d1)};try{const _0x3c27f7=getEmail(),_0x192660=_0x8fa684[_0x103e12(0x1ae)](getCompanyId),_0x1f392b=backendAddress+_0x103e12(0x1bc),_0x52de3a={'companyId':_0x192660,'email':_0x3c27f7,'name':_0x17f69c[_0x103e12(0x1cc)],'address':_0x17f69c[_0x103e12(0x19c)],'action':_0x2880e3},_0x5d29bf=await _0x8fa684[_0x103e12(0x1b8)](fetch,_0x1f392b,{'method':_0x8fa684[_0x103e12(0x192)],'headers':{'Content-Type':_0x8fa684['OsmHF']},'body':JSON[_0x103e12(0x176)](_0x52de3a)}),_0x3eed8e=await _0x5d29bf[_0x103e12(0x172)]();return populateBlacklist(_0x3eed8e[_0x103e12(0x191)]),_0x3eed8e[_0x103e12(0x191)];}catch(_0x4483db){return console[_0x103e12(0x1c9)](_0x8fa684[_0x103e12(0x18a)],_0x4483db),a0_0x167204['error'](_0x8fa684['cADFr'],_0x8fa684[_0x103e12(0x1bf)]),[];}}function a0_0x36f8(_0x2e25b7,_0x4790bc){const _0x7f0367=a0_0x7f03();return a0_0x36f8=function(_0x36f85b,_0x8a8b6c){_0x36f85b=_0x36f85b-0x16e;let _0x9c3cb6=_0x7f0367[_0x36f85b];return _0x9c3cb6;},a0_0x36f8(_0x2e25b7,_0x4790bc);}document[a0_0x301f54(0x16f)](a0_0x301f54(0x1a6))['addEventListener'](a0_0x301f54(0x17e),async _0x190065=>{const _0x4e3912=a0_0x301f54,_0x212c1f={'ZSNDC':_0x4e3912(0x1a6),'uWFbm':'current-password','dyiWB':_0x4e3912(0x1ac),'jMgVb':function(_0x3958e,_0x4b02c6){return _0x3958e!==_0x4b02c6;},'ArNSQ':function(_0x4d2078){return _0x4d2078();},'ojQPX':function(_0xcb72f4,_0x2472d3){return _0xcb72f4||_0x2472d3;},'ijlKW':_0x4e3912(0x188),'oyQuq':_0x4e3912(0x1aa),'KyBdQ':_0x4e3912(0x19a),'MscKa':'An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','wZnnB':'An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.'};_0x190065['preventDefault']();const _0x7f88b2=document['getElementById'](_0x212c1f['ZSNDC']),_0x283a93=document[_0x4e3912(0x16f)](_0x212c1f['uWFbm'])[_0x4e3912(0x190)],_0x5c166e=document[_0x4e3912(0x16f)](_0x212c1f[_0x4e3912(0x1ad)])[_0x4e3912(0x190)],_0x51a743=document['getElementById'](_0x4e3912(0x1dd))['value'];if(_0x212c1f[_0x4e3912(0x17c)](_0x5c166e,_0x51a743)){a0_0x167204[_0x4e3912(0x1b1)](_0x4e3912(0x18b));return;}const _0x57a12b=_0x212c1f[_0x4e3912(0x1d5)](getEmail),_0x5bf458=getLoginKey();if(_0x212c1f['ojQPX'](!_0x57a12b,!_0x5bf458)){a0_0x167204[_0x4e3912(0x1b1)](_0x212c1f[_0x4e3912(0x1d0)]);return;}try{const _0x4aa8e4=await fetch(backendAddress+_0x4e3912(0x1d6),{'method':_0x212c1f[_0x4e3912(0x1b4)],'headers':{'Content-Type':_0x212c1f[_0x4e3912(0x1c0)]},'body':JSON[_0x4e3912(0x176)]({'email':_0x57a12b,'loginKey':_0x5bf458,'oldPassword':_0x283a93,'newPassword':_0x5c166e})}),_0x445678=await _0x4aa8e4['json']();_0x4aa8e4['ok']?(a0_0x167204[_0x4e3912(0x1a0)](_0x4e3912(0x1e9)),_0x7f88b2[_0x4e3912(0x1e7)]()):a0_0x167204['error'](_0x445678['error']||_0x212c1f[_0x4e3912(0x196)]);}catch(_0x25e728){console['error'](_0x4e3912(0x1cb),_0x25e728),a0_0x167204[_0x4e3912(0x1c9)](_0x212c1f['wZnnB']);}});