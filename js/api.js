const a0_0xf06096=a0_0x464c;(function(_0x532407,_0x738aa1){const _0x10c9be=a0_0x464c,_0x560ee6=_0x532407();while(!![]){try{const _0x42d6c3=-parseInt(_0x10c9be(0xe6))/0x1*(parseInt(_0x10c9be(0x139))/0x2)+-parseInt(_0x10c9be(0xf9))/0x3+parseInt(_0x10c9be(0xf5))/0x4+-parseInt(_0x10c9be(0x106))/0x5*(parseInt(_0x10c9be(0x15e))/0x6)+parseInt(_0x10c9be(0x117))/0x7+-parseInt(_0x10c9be(0xfa))/0x8+parseInt(_0x10c9be(0x16f))/0x9;if(_0x42d6c3===_0x738aa1)break;else _0x560ee6['push'](_0x560ee6['shift']());}catch(_0x458dfb){_0x560ee6['push'](_0x560ee6['shift']());}}}(a0_0xcd1d,0x65240));import a0_0x2b4863 from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x16f25e=a0_0x464c,_0x40b59e={'zYZJA':_0x16f25e(0x142),'bGDou':_0x16f25e(0x162),'MIxgt':_0x16f25e(0x11c),'ayfvi':_0x16f25e(0x10c)};chrome[_0x16f25e(0xf1)][_0x16f25e(0xee)][_0x16f25e(0x137)]([_0x40b59e[_0x16f25e(0xe5)],_0x16f25e(0x14d),_0x40b59e[_0x16f25e(0x11e)],_0x16f25e(0xf0),_0x40b59e[_0x16f25e(0x10d)]],()=>{const _0x11ac83=_0x16f25e;a0_0x2b4863[_0x11ac83(0xfb)](_0x40b59e[_0x11ac83(0xe2)]);});}function a0_0x464c(_0x17e7c8,_0x3d2634){const _0xcd1daf=a0_0xcd1d();return a0_0x464c=function(_0x464c1a,_0x4146ff){_0x464c1a=_0x464c1a-0xe1;let _0x15bcbb=_0xcd1daf[_0x464c1a];return _0x15bcbb;},a0_0x464c(_0x17e7c8,_0x3d2634);}export async function sendTelegramCodeToBackend(_0x29b18e){const _0x5739a6=a0_0x464c,_0x58b211={'ZiZrD':function(_0x130ed7,_0x531818,_0x1ab928){return _0x130ed7(_0x531818,_0x1ab928);},'SHGeo':_0x5739a6(0x151),'Yxqws':'application/json','BYaWO':_0x5739a6(0x143),'StXTi':_0x5739a6(0x161)};try{const _0xc3ac8d=getEmail(),_0x1238a0=getLoginKey(),_0x470583=await _0x58b211[_0x5739a6(0x128)](fetch,backendAddress+_0x5739a6(0x108),{'method':_0x58b211[_0x5739a6(0x153)],'headers':{'Content-Type':_0x58b211['Yxqws']},'body':JSON[_0x5739a6(0x104)]({'email':_0xc3ac8d,'code':_0x29b18e,'loginKey':_0x1238a0})}),_0x22abad=await _0x470583[_0x5739a6(0x158)]();if(_0x22abad[_0x5739a6(0xfc)])saveToLocal(_0x5739a6(0xeb),_0x22abad['userId']),a0_0x2b4863['success'](_0x58b211[_0x5739a6(0x16b)]);else throw new Error(_0x22abad[_0x5739a6(0xf2)]||_0x58b211['StXTi']);}catch(_0x1c7f75){a0_0x2b4863[_0x5739a6(0x144)](_0x1c7f75[_0x5739a6(0xf2)]);}}export function showTelegramPopup(){const _0x2f53ab=a0_0x464c,_0x427dad={'XNFhV':_0x2f53ab(0x164),'krfsw':function(_0x4f6a15,_0x3a9b83){return _0x4f6a15===_0x3a9b83;},'CRYAS':function(_0x46066a,_0x5ecbb4){return _0x46066a>_0x5ecbb4;},'tTGjy':function(_0x482671,_0x45fead){return _0x482671-_0x45fead;},'aNMxS':function(_0x413b4d,_0x2eb214){return _0x413b4d+_0x2eb214;},'tNWyQ':function(_0x41b57e,_0x56a9f8){return _0x41b57e+_0x56a9f8;},'CCMzW':function(_0x23eafd,_0x7b6de9){return _0x23eafd===_0x7b6de9;},'yIzFb':_0x2f53ab(0x11a),'HZagR':function(_0x1e4e03,_0x4681ca){return _0x1e4e03>_0x4681ca;},'Schyc':_0x2f53ab(0x157),'BBiFS':function(_0x5c767c,_0x5b1332){return _0x5c767c<_0x5b1332;},'CTCwg':function(_0x208a6b){return _0x208a6b();},'mYkAJ':_0x2f53ab(0x107),'oVZdb':function(_0x402e03,_0x2a1000){return _0x402e03!==_0x2a1000;},'vXrev':function(_0x3334ad,_0x102de1){return _0x3334ad>_0x102de1;},'ZqPtz':_0x2f53ab(0x14b),'fRFTE':'input','rBQNv':_0x2f53ab(0x119),'McAMK':function(_0x5ab49c,_0x5995fa){return _0x5ab49c(_0x5995fa);},'XcEUH':_0x2f53ab(0x140),'gipFZ':'telegramVerifyButton'},_0x34df9d=document['getElementById'](_0x2f53ab(0x152)),_0x3d55c1=document[_0x2f53ab(0x13c)](_0x427dad['gipFZ']);_0x34df9d[_0x2f53ab(0x12b)][_0x2f53ab(0x129)]=_0x2f53ab(0xf6);const _0x1374b7=Array[_0x2f53ab(0x147)](document[_0x2f53ab(0x13c)](_0x2f53ab(0x118))[_0x2f53ab(0x11f)]);function _0x179c22(){const _0x1c7bdf=_0x2f53ab;return _0x1374b7[_0x1c7bdf(0x102)](_0x2b0e03=>_0x2b0e03[_0x1c7bdf(0xf7)]==='');}_0x1374b7[_0x2f53ab(0x125)]((_0x363631,_0x157b7b)=>{const _0x319303=_0x2f53ab,_0x3179e3={'fcbGF':function(_0x553b78){return _0x427dad['CTCwg'](_0x553b78);},'kNjnO':_0x427dad[_0x319303(0x10b)],'sFmiy':function(_0x43b29b,_0x566be8){return _0x427dad['oVZdb'](_0x43b29b,_0x566be8);},'jyOnP':function(_0x40b18f,_0x2ec056){const _0x479fc1=_0x319303;return _0x427dad[_0x479fc1(0x131)](_0x40b18f,_0x2ec056);},'gnnCn':function(_0x232e37,_0xb394be){return _0x427dad['aNMxS'](_0x232e37,_0xb394be);},'kzRPW':function(_0x6e1ba9,_0x57def2){return _0x6e1ba9+_0x57def2;},'QJdmm':function(_0x21a23f,_0x22ca99){const _0x36a359=_0x319303;return _0x427dad[_0x36a359(0x14f)](_0x21a23f,_0x22ca99);},'pHPdW':function(_0x3f32b7,_0x589cad){const _0x52bb68=_0x319303;return _0x427dad[_0x52bb68(0x166)](_0x3f32b7,_0x589cad);},'BByPg':function(_0x4eb070,_0x59c690){const _0x558354=_0x319303;return _0x427dad[_0x558354(0x14e)](_0x4eb070,_0x59c690);}};_0x363631[_0x319303(0x16a)](_0x427dad[_0x319303(0x10f)],_0x3e2ec3=>{const _0x5a2b53=_0x319303;if(_0x3e2ec3[_0x5a2b53(0x16e)]===_0x427dad[_0x5a2b53(0x163)]){_0x427dad[_0x5a2b53(0xef)](_0x363631['value'],'')&&_0x427dad[_0x5a2b53(0x16c)](_0x157b7b,0x0)&&(_0x1374b7[_0x157b7b-0x1][_0x5a2b53(0xf7)]='',_0x1374b7[_0x427dad[_0x5a2b53(0x166)](_0x157b7b,0x1)][_0x5a2b53(0x11d)]());for(let _0x33667d=_0x157b7b;_0x33667d<_0x1374b7[_0x5a2b53(0x115)];_0x33667d++){let _0x3e6936=_0x1374b7[_0x427dad[_0x5a2b53(0x14f)](_0x33667d,0x1)]?_0x1374b7[_0x427dad[_0x5a2b53(0xe8)](_0x33667d,0x1)][_0x5a2b53(0xf7)]:'';_0x1374b7[_0x33667d]['setRangeText'](_0x3e6936,0x0,0x1,_0x5a2b53(0x14a));}}_0x427dad[_0x5a2b53(0x13e)](_0x3e2ec3['key'],_0x427dad[_0x5a2b53(0x13f)])&&_0x427dad[_0x5a2b53(0xe3)](_0x157b7b,0x0)&&_0x1374b7[_0x427dad[_0x5a2b53(0x166)](_0x157b7b,0x1)][_0x5a2b53(0x11d)](),_0x427dad[_0x5a2b53(0x13e)](_0x3e2ec3[_0x5a2b53(0x16e)],_0x427dad[_0x5a2b53(0x160)])&&_0x427dad['BBiFS'](_0x157b7b,_0x427dad[_0x5a2b53(0x166)](_0x1374b7['length'],0x1))&&_0x1374b7[_0x157b7b+0x1]['focus']();}),_0x363631[_0x319303(0x16a)](_0x427dad[_0x319303(0x127)],_0x30870c=>{const _0xe19b31=_0x319303;_0x363631[_0xe19b31(0xf7)]='';const _0x4ea161=_0x3179e3[_0xe19b31(0x135)](_0x179c22);_0x1374b7[_0x4ea161][_0xe19b31(0xf7)]=_0x30870c['data'];if(_0x4ea161+0x1<_0x1374b7['length'])_0x1374b7[_0x4ea161+0x1][_0xe19b31(0x11d)]();}),_0x363631[_0x319303(0x16a)](_0x427dad[_0x319303(0x136)],_0x3535a0=>{const _0x21c815=_0x319303;_0x3535a0[_0x21c815(0x121)]();const _0x585105=(event[_0x21c815(0x149)]||window[_0x21c815(0x149)])['getData'](_0x3179e3[_0x21c815(0x168)]),_0xf38979=_0x3179e3[_0x21c815(0x135)](_0x179c22),_0x47afa9=_0x3179e3['sFmiy'](_0xf38979,-0x1)?Math[_0x21c815(0x15c)](_0x157b7b,_0xf38979):_0x157b7b;for(let _0x2f7713=0x0;_0x3179e3[_0x21c815(0x120)](_0x3179e3['gnnCn'](_0x47afa9,_0x2f7713),_0x1374b7[_0x21c815(0x115)])&&_0x3179e3[_0x21c815(0x120)](_0x2f7713,_0x585105[_0x21c815(0x115)]);_0x2f7713++){_0x1374b7[_0x3179e3['kzRPW'](_0x47afa9,_0x2f7713)][_0x21c815(0xf7)]=_0x585105[_0x21c815(0x12c)](_0x2f7713);}_0x1374b7[Math[_0x21c815(0x15c)](_0x3179e3[_0x21c815(0x154)](_0x47afa9,_0x585105[_0x21c815(0x115)]),_0x3179e3['pHPdW'](_0x1374b7['length'],0x1))][_0x21c815(0x11d)]();}),_0x363631[_0x319303(0x16a)](_0x319303(0x11d),()=>{const _0x113db6=_0x319303,_0x54cc08=_0x3179e3['fcbGF'](_0x179c22);if(_0x54cc08!==-0x1&&_0x3179e3[_0x113db6(0x110)](_0x157b7b,_0x54cc08))_0x1374b7[_0x54cc08][_0x113db6(0x11d)]();});}),_0x3d55c1[_0x2f53ab(0x16a)](_0x2f53ab(0x12d),function(){const _0x27a0c1=_0x2f53ab,_0x76cdea=_0x1374b7[_0x27a0c1(0x165)](_0x51450b=>_0x51450b['value'])[_0x27a0c1(0x113)]('');/^\d+$/[_0x27a0c1(0xfd)](_0x76cdea)?_0x427dad[_0x27a0c1(0x169)](sendTelegramCodeToBackend,_0x76cdea):a0_0x2b4863['warning'](_0x427dad[_0x27a0c1(0xea)]);});}export async function fetchSuggestions(_0x5053c1){const _0x4fd711=a0_0x464c,_0x1e9229={'TzqQK':_0x4fd711(0x15f),'nQhKa':function(_0x421ab4){return _0x421ab4();},'iTTAt':_0x4fd711(0x141),'qiHQD':function(_0x3b7d9d,_0x51d37a,_0x587920){return _0x3b7d9d(_0x51d37a,_0x587920);},'OKPfX':_0x4fd711(0x151),'BTHyg':_0x4fd711(0xf8),'LbJsp':_0x4fd711(0x114),'ZZFTM':_0x4fd711(0x15a),'KAIuM':function(_0x39aa61,_0x508ca5){return _0x39aa61(_0x508ca5);},'vFEdi':function(_0x265155,_0x2de2a0){return _0x265155(_0x2de2a0);}},_0xd32f3b=document[_0x4fd711(0x13c)](_0x4fd711(0xed)),_0x434a00=document[_0x4fd711(0x13c)](_0x1e9229['TzqQK']),_0x5bf1a4=_0x1e9229[_0x4fd711(0xfe)](getAuthToken);try{const _0x549724=backendAddress+_0x4fd711(0x16d),_0x111dee={'apiKey':_0x5bf1a4,'term':_0x5053c1};console[_0x4fd711(0x122)](_0x1e9229[_0x4fd711(0x146)],_0x5bf1a4);const _0x5cf42b=await _0x1e9229['qiHQD'](fetch,_0x549724,{'method':_0x1e9229[_0x4fd711(0x123)],'headers':{'Content-Type':_0x1e9229[_0x4fd711(0xe7)]},'body':JSON[_0x4fd711(0x104)](_0x111dee)}),_0x211bc1=await _0x5cf42b[_0x4fd711(0x158)]();return _0x211bc1[_0x4fd711(0x148)];}catch(_0x362ab9){return console[_0x4fd711(0x144)](_0x1e9229[_0x4fd711(0x10a)],_0x362ab9),a0_0x2b4863['error'](_0x1e9229[_0x4fd711(0xe1)],_0x4fd711(0x11b)),localStorage[_0x4fd711(0x145)]('authToken'),_0x1e9229[_0x4fd711(0xec)](makeItDisappear,_0xd32f3b),_0x1e9229[_0x4fd711(0x12a)](makeItAppear,_0x434a00),[];}}export async function fetchSuggestions2(_0x1a2e20){const _0x316e2a=a0_0x464c,_0x3ce384={'xOsCr':_0x316e2a(0xed),'gTcXJ':_0x316e2a(0x15f),'ImOgx':function(_0x56803c){return _0x56803c();},'LUXAW':function(_0x5ce0d8,_0x3451be,_0x3449cf){return _0x5ce0d8(_0x3451be,_0x3449cf);},'EmWGu':_0x316e2a(0x151),'bNuip':'application/json','ESjhZ':_0x316e2a(0x114),'sDQWS':function(_0x4f82b0,_0x2e907f){return _0x4f82b0(_0x2e907f);},'zGOyR':'authToken','QIsFG':function(_0x1d2700,_0x2c446a){return _0x1d2700(_0x2c446a);}},_0x588a0e=document[_0x316e2a(0x13c)](_0x3ce384['xOsCr']),_0x4302c1=document['getElementById'](_0x3ce384[_0x316e2a(0x13b)]),_0xac065b=_0x3ce384[_0x316e2a(0x105)](getAuthToken);try{const _0x15b8ea=backendAddress+_0x316e2a(0x138),_0xe60a21={'apiKey':_0xac065b,'term':_0x1a2e20},_0x33a625=await _0x3ce384[_0x316e2a(0x12f)](fetch,_0x15b8ea,{'method':_0x3ce384[_0x316e2a(0x15d)],'headers':{'Content-Type':_0x3ce384[_0x316e2a(0x126)]},'body':JSON[_0x316e2a(0x104)](_0xe60a21)}),_0x4c3ac7=await _0x33a625[_0x316e2a(0x158)]();return _0x4c3ac7;}catch(_0xa5593e){const _0x336580=_0x316e2a(0x130)['split']('|');let _0x4664a4=0x0;while(!![]){switch(_0x336580[_0x4664a4++]){case'0':return[];case'1':console[_0x316e2a(0x144)](_0x3ce384['ESjhZ'],_0xa5593e);continue;case'2':_0x3ce384['sDQWS'](makeItDisappear,_0x588a0e);continue;case'3':a0_0x2b4863[_0x316e2a(0x144)]('Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','Error');continue;case'4':localStorage[_0x316e2a(0x145)](_0x3ce384[_0x316e2a(0x124)]);continue;case'5':_0x3ce384[_0x316e2a(0x134)](makeItAppear,_0x4302c1);continue;}break;}}}export async function updateBlacklistInDatabase(_0x1e78d6,_0x38bbb9){const _0x48b889=a0_0x464c,_0x40e167={'TdLvU':function(_0x14a330){return _0x14a330();},'SoGzL':function(_0x3a4852){return _0x3a4852();},'cRkNF':_0x48b889(0x151),'ZsCCh':'application/json','IDaIt':_0x48b889(0x114),'AXVst':'Error\x20adding\x20item\x20to\x20blacklist','lSjQS':_0x48b889(0x11b)};try{const _0x157f4d=_0x40e167[_0x48b889(0x15b)](getEmail),_0x3e6e01=_0x40e167[_0x48b889(0xff)](getCompanyId),_0x202d75=backendAddress+_0x48b889(0x170),_0x4d564e={'companyId':_0x3e6e01,'email':_0x157f4d,'name':_0x1e78d6[_0x48b889(0x101)],'address':_0x1e78d6[_0x48b889(0xe9)],'action':_0x38bbb9},_0x483807=await fetch(_0x202d75,{'method':_0x40e167[_0x48b889(0x111)],'headers':{'Content-Type':_0x40e167[_0x48b889(0x133)]},'body':JSON[_0x48b889(0x104)](_0x4d564e)}),_0x533eab=await _0x483807[_0x48b889(0x158)]();return _0x533eab[_0x48b889(0xf0)];}catch(_0x41fd74){return console[_0x48b889(0x144)](_0x40e167[_0x48b889(0x159)],_0x41fd74),a0_0x2b4863[_0x48b889(0x144)](_0x40e167['AXVst'],_0x40e167[_0x48b889(0xf4)]),[];}}function a0_0xcd1d(){const _0x4dc4ae=['authToken:\x20','Logged\x20out\x20successfully.','Telegram\x20connected\x20successfully!','error','removeItem','iTTAt','from','items','clipboardData','start','keydown','AOEoS','email','vXrev','aNMxS','veXka','POST','telegramPopup','SHGeo','QJdmm','new-password','DRgUZ','ArrowRight','json','IDaIt','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','TdLvU','min','EmWGu','66XrvwaE','controlElement','Schyc','Telegram\x20connection\x20failed.','authToken','XNFhV','Backspace','map','tTGjy','uKZXU','kNjnO','McAMK','addEventListener','BYaWO','CRYAS','/api/autocomplete','key','23675301JoTrzm','/api/updateblacklist','ZZFTM','zYZJA','HZagR','Password\x20changed\x20successfully','bGDou','258194sgoWmK','BTHyg','tNWyQ','address','XcEUH','telegramId','KAIuM','searchFormElement','local','krfsw','blacklist','storage','message','rrYuV','lSjQS','670356rXSEpV','flex','value','application/json','2444487bmomay','4691528YAHjFZ','info','success','test','nQhKa','SoGzL','confirm-password','name','findIndex','change-password-form','stringify','ImOgx','372385DouDoY','text','/api/telegramcode','dGRJC','LbJsp','mYkAJ','searches','ayfvi','lmlPu','ZqPtz','BByPg','cRkNF','ytWsT','join','Error\x20fetching\x20suggestions:','length','current-password','4278351bFygXC','verification-input','paste','ArrowLeft','Error','companyId','focus','MIxgt','children','jyOnP','preventDefault','log','OKPfX','zGOyR','forEach','bNuip','fRFTE','ZiZrD','display','vFEdi','style','charAt','click','warning','LUXAW','1|3|4|2|5|0','BBiFS','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','ZsCCh','QIsFG','fcbGF','rBQNv','remove','/api/autocomplete2','6FBhvwE','bRYuN','gTcXJ','getElementById','/api/changepassword','CCMzW','yIzFb','Please\x20enter\x20a\x20valid\x20numeric\x20code.'];a0_0xcd1d=function(){return _0x4dc4ae;};return a0_0xcd1d();}document[a0_0xf06096(0x13c)]('change-password-form')[a0_0xf06096(0x16a)]('submit',async _0x3d8ecf=>{const _0x17eed1=a0_0xf06096,_0x32dade={'AOEoS':_0x17eed1(0x116),'DRgUZ':_0x17eed1(0x155),'rrYuV':_0x17eed1(0x100),'veXka':function(_0x14c437,_0x341ff5){return _0x14c437!==_0x341ff5;},'NOQjt':function(_0x2e0c80){return _0x2e0c80();},'bRYuN':function(_0x35dc9a,_0x17d654){return _0x35dc9a||_0x17d654;},'lmlPu':'User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','dGRJC':function(_0x2da7b2,_0xc51062,_0x2e680d){return _0x2da7b2(_0xc51062,_0x2e680d);},'YesOF':_0x17eed1(0x151),'uKZXU':_0x17eed1(0xf8),'ytWsT':'An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','dOAdJ':_0x17eed1(0x132)};_0x3d8ecf[_0x17eed1(0x121)]();const _0xd12a3=document[_0x17eed1(0x13c)](_0x17eed1(0x103)),_0x43e8c1=document[_0x17eed1(0x13c)](_0x32dade[_0x17eed1(0x14c)])[_0x17eed1(0xf7)],_0x5a51db=document[_0x17eed1(0x13c)](_0x32dade[_0x17eed1(0x156)])[_0x17eed1(0xf7)],_0x25b7ef=document['getElementById'](_0x32dade[_0x17eed1(0xf3)])[_0x17eed1(0xf7)];if(_0x32dade[_0x17eed1(0x150)](_0x5a51db,_0x25b7ef)){a0_0x2b4863[_0x17eed1(0x12e)]('New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match');return;}const _0x50e5a4=_0x32dade['NOQjt'](getEmail),_0x28b94b=getLoginKey();if(_0x32dade[_0x17eed1(0x13a)](!_0x50e5a4,!_0x28b94b)){a0_0x2b4863['warning'](_0x32dade[_0x17eed1(0x10e)]);return;}try{const _0x403ec7=await _0x32dade[_0x17eed1(0x109)](fetch,backendAddress+_0x17eed1(0x13d),{'method':_0x32dade['YesOF'],'headers':{'Content-Type':_0x32dade[_0x17eed1(0x167)]},'body':JSON[_0x17eed1(0x104)]({'email':_0x50e5a4,'loginKey':_0x28b94b,'oldPassword':_0x43e8c1,'newPassword':_0x5a51db})}),_0x276da2=await _0x403ec7[_0x17eed1(0x158)]();_0x403ec7['ok']?(a0_0x2b4863[_0x17eed1(0xfc)](_0x17eed1(0xe4)),_0xd12a3['reset']()):a0_0x2b4863[_0x17eed1(0x144)](_0x276da2['error']||_0x32dade[_0x17eed1(0x112)]);}catch(_0x203b31){console[_0x17eed1(0x144)]('Error\x20changing\x20password:',_0x203b31),a0_0x2b4863[_0x17eed1(0x144)](_0x32dade['dOAdJ']);}});