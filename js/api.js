const a0_0xe7ad45=a0_0x4b9f;(function(_0x1fdab1,_0x2bdf54){const _0x56d0d4=a0_0x4b9f,_0x32dda1=_0x1fdab1();while(!![]){try{const _0x1be94a=-parseInt(_0x56d0d4(0x75))/0x1+parseInt(_0x56d0d4(0x72))/0x2+parseInt(_0x56d0d4(0x7e))/0x3+-parseInt(_0x56d0d4(0xca))/0x4+parseInt(_0x56d0d4(0xee))/0x5+parseInt(_0x56d0d4(0xcd))/0x6+parseInt(_0x56d0d4(0xc5))/0x7;if(_0x1be94a===_0x2bdf54)break;else _0x32dda1['push'](_0x32dda1['shift']());}catch(_0x315b69){_0x32dda1['push'](_0x32dda1['shift']());}}}(a0_0x54af,0x2f490));import a0_0x28c0b0 from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear,regions}from'./utils.js';export function logout(){const _0x5125ca=a0_0x4b9f,_0x1d03cb={'UooQl':_0x5125ca(0x9d),'AEAUf':'blacklist','qJWRP':'searches'};chrome['storage'][_0x5125ca(0xaf)][_0x5125ca(0x86)]([_0x5125ca(0xeb),_0x1d03cb[_0x5125ca(0xe5)],_0x5125ca(0x7b),_0x1d03cb[_0x5125ca(0x88)],_0x1d03cb[_0x5125ca(0x6d)]],()=>{const _0x28f22e=_0x5125ca;a0_0x28c0b0[_0x28f22e(0xa8)](_0x28f22e(0x67));});}export async function sendTelegramCodeToBackend(_0x1eecc3){const _0x41f2d3=a0_0x4b9f,_0x19f5e7={'KeWFe':function(_0x1461b6){return _0x1461b6();},'TQjWh':function(_0x1a5826,_0x484471,_0x240a75){return _0x1a5826(_0x484471,_0x240a75);},'hNMtB':_0x41f2d3(0xc3),'QUhTj':function(_0xcbf1eb,_0x3fcdaa,_0x2d405a){return _0xcbf1eb(_0x3fcdaa,_0x2d405a);},'UEfSa':_0x41f2d3(0xa3),'IyNkn':_0x41f2d3(0xa9),'tyQvq':'Telegram\x20connection\x20failed.'};try{const _0x17dd3d=_0x19f5e7[_0x41f2d3(0xdb)](getEmail),_0x23e80d=_0x19f5e7['KeWFe'](getLoginKey),_0x220e6a=await _0x19f5e7[_0x41f2d3(0xd1)](fetch,backendAddress+_0x41f2d3(0xc9),{'method':_0x41f2d3(0xec),'headers':{'Content-Type':_0x19f5e7[_0x41f2d3(0xb3)]},'body':JSON[_0x41f2d3(0x96)]({'email':_0x17dd3d,'code':_0x1eecc3,'loginKey':_0x23e80d})}),_0x17a05a=await _0x220e6a['json']();if(_0x17a05a[_0x41f2d3(0xb4)])_0x19f5e7['QUhTj'](saveToLocal,_0x19f5e7[_0x41f2d3(0x71)],_0x17a05a[_0x41f2d3(0xef)]),a0_0x28c0b0[_0x41f2d3(0xb4)](_0x19f5e7[_0x41f2d3(0x85)]);else throw new Error(_0x17a05a['message']||_0x19f5e7[_0x41f2d3(0xc8)]);}catch(_0x28bfa0){a0_0x28c0b0[_0x41f2d3(0xd6)](_0x28bfa0[_0x41f2d3(0x79)]);}}function a0_0x4b9f(_0x1580d2,_0x453cd3){const _0x54af4b=a0_0x54af();return a0_0x4b9f=function(_0x4b9ff9,_0x449e56){_0x4b9ff9=_0x4b9ff9-0x67;let _0x1d687c=_0x54af4b[_0x4b9ff9];return _0x1d687c;},a0_0x4b9f(_0x1580d2,_0x453cd3);}function a0_0x54af(){const _0x5ef73d=['map','UEfSa','514494Guusbt','verification-input','new-password','347180pWJJoB','xuEWO','oIpyV','join','message','style','companyId','json','OCUkf','694170DMHRKd','BSqMO','PcMYq','rUVPp','Fvrfd','log','searchFormElement','IyNkn','remove','GOwMY','AEAUf','/api/changepassword','BxjOS','children','FpsJc','paAyK','getData','items','lZRQf','uVODh','toLowerCase','keydown','gRwYu','telegramVerifyButton','stringify','clipboardData','submit','Error\x20fetching\x20suggestions:','RmOCe','mSwgH','FJdQh','email','warning','vkRIg','flex','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','telegramId','omrMu','removeItem','display','ifRzg','info','Telegram\x20connected\x20successfully!','eLsqk','fxWYO','start','name','setRangeText','local','/api/autocomplete2','controlElement','sVIgo','hNMtB','success','pcBwm','aHFIu','change-password-form','orOQi','value','chfex','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','preventDefault','GqtCN','TSNTq','paste','lUhke','BOmFV','from','application/json','Spkuk','1772771ilIKDi','QqwqK','ArrowLeft','tyQvq','/api/telegramcode','1214688bmzcfo','key','eKgKp','27468rJEnnO','region','focus','pvGFT','TQjWh','Error','confirm-password','Error\x20changing\x20password:','addEventListener','error','bxTkd','qcxQa','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','pLSBe','KeWFe','keys','blacklist','BrMaf','reset','SHmXC','findIndex','/api/autocomplete','CypHv','KxDRE','UooQl','TUtsl','Error\x20adding\x20item\x20to\x20blacklist','Backspace','vLaxU','authToken:\x20','authToken','POST','nHoEX','490320nMxEae','userId','QrdKE','address','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','getElementById','input','iqLKf','gfqkB','Logged\x20out\x20successfully.','min','nqsXO','length','Please\x20enter\x20a\x20valid\x20numeric\x20code.','current-password','qJWRP','ArrowRight','dWFdz'];a0_0x54af=function(){return _0x5ef73d;};return a0_0x54af();}export function showTelegramPopup(){const _0x28846a=a0_0x4b9f,_0x18e343={'uVODh':function(_0x2ab6d4,_0x5e3fe4){return _0x2ab6d4===_0x5e3fe4;},'PcMYq':_0x28846a(0xe8),'gRwYu':function(_0x48de09,_0x38ebae){return _0x48de09>_0x38ebae;},'vkRIg':function(_0x31f7be,_0x41011c){return _0x31f7be-_0x41011c;},'lUhke':function(_0x217b71,_0x1df145){return _0x217b71<_0x1df145;},'qcxQa':function(_0x114964,_0x1ff9d2){return _0x114964+_0x1ff9d2;},'OCUkf':_0x28846a(0xac),'KKfaA':_0x28846a(0xc7),'SHmXC':_0x28846a(0x6e),'ifRzg':function(_0x2b9be8,_0x57a57d){return _0x2b9be8<_0x57a57d;},'BBkiJ':function(_0x2b2993,_0x1e804a){return _0x2b2993+_0x1e804a;},'iqLKf':'text','pcBwm':function(_0x4b2569){return _0x4b2569();},'eLsqk':function(_0x3584fc,_0x41ce74){return _0x3584fc!==_0x41ce74;},'AKebH':function(_0x2e57c2,_0xdca8bf){return _0x2e57c2+_0xdca8bf;},'BxjOS':_0x28846a(0x93),'xGEgF':_0x28846a(0xf4),'pvGFT':_0x28846a(0xbf),'BSqMO':_0x28846a(0xcf),'mSwgH':function(_0x1455c6,_0x3e9458){return _0x1455c6(_0x3e9458);},'sVIgo':_0x28846a(0x6b),'lZRQf':_0x28846a(0x95),'uaeaO':_0x28846a(0xa0),'RIkof':_0x28846a(0x73),'QqwqK':'click'},_0x457911=document[_0x28846a(0xf3)]('telegramPopup'),_0x1ac305=document[_0x28846a(0xf3)](_0x18e343[_0x28846a(0x90)]);_0x457911[_0x28846a(0x7a)][_0x28846a(0xa6)]=_0x18e343['uaeaO'];const _0xeb4e57=Array[_0x28846a(0xc2)](document[_0x28846a(0xf3)](_0x18e343['RIkof'])[_0x28846a(0x8b)]);function _0xe5139a(){const _0x3e2530=_0x28846a;return _0xeb4e57[_0x3e2530(0xe1)](_0x360cfc=>_0x360cfc[_0x3e2530(0xb9)]==='');}_0xeb4e57['forEach']((_0x2b420e,_0x37de81)=>{const _0x168556=_0x28846a,_0x334bf3={'TUtsl':function(_0x111bfa,_0x16f2aa){const _0x16e597=a0_0x4b9f;return _0x18e343[_0x16e597(0xc0)](_0x111bfa,_0x16f2aa);},'RmOCe':function(_0x2fc5cf,_0x51a467){return _0x2fc5cf+_0x51a467;}};_0x2b420e[_0x168556(0xd5)](_0x18e343[_0x168556(0x8a)],_0x170543=>{const _0x589ae5=_0x168556;if(_0x18e343[_0x589ae5(0x91)](_0x170543[_0x589ae5(0xcb)],_0x18e343[_0x589ae5(0x80)])){_0x2b420e[_0x589ae5(0xb9)]===''&&_0x18e343[_0x589ae5(0x94)](_0x37de81,0x0)&&(_0xeb4e57[_0x18e343['vkRIg'](_0x37de81,0x1)][_0x589ae5(0xb9)]='',_0xeb4e57[_0x18e343[_0x589ae5(0x9f)](_0x37de81,0x1)][_0x589ae5(0xcf)]());for(let _0x4bd01f=_0x37de81;_0x18e343[_0x589ae5(0xc0)](_0x4bd01f,_0xeb4e57[_0x589ae5(0x6a)]);_0x4bd01f++){let _0x586b69=_0xeb4e57[_0x4bd01f+0x1]?_0xeb4e57[_0x18e343[_0x589ae5(0xd8)](_0x4bd01f,0x1)][_0x589ae5(0xb9)]:'';_0xeb4e57[_0x4bd01f][_0x589ae5(0xae)](_0x586b69,0x0,0x1,_0x18e343[_0x589ae5(0x7d)]);}}_0x18e343[_0x589ae5(0x91)](_0x170543[_0x589ae5(0xcb)],_0x18e343['KKfaA'])&&_0x18e343['gRwYu'](_0x37de81,0x0)&&_0xeb4e57[_0x18e343[_0x589ae5(0x9f)](_0x37de81,0x1)]['focus'](),_0x18e343['uVODh'](_0x170543[_0x589ae5(0xcb)],_0x18e343[_0x589ae5(0xe0)])&&_0x18e343[_0x589ae5(0xa7)](_0x37de81,_0xeb4e57[_0x589ae5(0x6a)]-0x1)&&_0xeb4e57[_0x18e343['BBkiJ'](_0x37de81,0x1)]['focus']();}),_0x2b420e[_0x168556(0xd5)](_0x18e343['xGEgF'],_0x3fc434=>{const _0x8def64=_0x168556;_0x2b420e[_0x8def64(0xb9)]='';const _0x7bb7fd=_0xe5139a();_0xeb4e57[_0x7bb7fd][_0x8def64(0xb9)]=_0x3fc434['data'];if(_0x334bf3[_0x8def64(0xe6)](_0x334bf3[_0x8def64(0x9a)](_0x7bb7fd,0x1),_0xeb4e57[_0x8def64(0x6a)]))_0xeb4e57[_0x7bb7fd+0x1]['focus']();}),_0x2b420e[_0x168556(0xd5)](_0x18e343[_0x168556(0xd0)],_0x22fe4=>{const _0x26ccda=_0x168556;_0x22fe4[_0x26ccda(0xbc)]();const _0x304a49=(event[_0x26ccda(0x97)]||window[_0x26ccda(0x97)])[_0x26ccda(0x8e)](_0x18e343[_0x26ccda(0xf5)]),_0x10671b=_0x18e343[_0x26ccda(0xb5)](_0xe5139a),_0x33f3b6=_0x18e343[_0x26ccda(0xaa)](_0x10671b,-0x1)?Math[_0x26ccda(0x68)](_0x37de81,_0x10671b):_0x37de81;for(let _0x24988a=0x0;_0x18e343[_0x26ccda(0xd8)](_0x33f3b6,_0x24988a)<_0xeb4e57['length']&&_0x18e343['lUhke'](_0x24988a,_0x304a49[_0x26ccda(0x6a)]);_0x24988a++){_0xeb4e57[_0x18e343['AKebH'](_0x33f3b6,_0x24988a)]['value']=_0x304a49['charAt'](_0x24988a);}_0xeb4e57[Math['min'](_0x33f3b6+_0x304a49[_0x26ccda(0x6a)],_0xeb4e57['length']-0x1)]['focus']();}),_0x2b420e[_0x168556(0xd5)](_0x18e343[_0x168556(0x7f)],()=>{const _0x2402c1=_0xe5139a();if(_0x2402c1!==-0x1&&_0x37de81>_0x2402c1)_0xeb4e57[_0x2402c1]['focus']();});}),_0x1ac305[_0x28846a(0xd5)](_0x18e343[_0x28846a(0xc6)],function(){const _0x2b6b02=_0x28846a,_0x562b2c=_0xeb4e57[_0x2b6b02(0x70)](_0x56ea7a=>_0x56ea7a[_0x2b6b02(0xb9)])[_0x2b6b02(0x78)]('');/^\d+$/['test'](_0x562b2c)?_0x18e343[_0x2b6b02(0x9b)](sendTelegramCodeToBackend,_0x562b2c):a0_0x28c0b0[_0x2b6b02(0x9e)](_0x18e343[_0x2b6b02(0xb2)]);});}export async function fetchSuggestions(_0x40bdba){const _0x18a4ab=a0_0x4b9f,_0x11c6d4={'BrMaf':'searchFormElement','unlUI':function(_0x3f23e1){return _0x3f23e1();},'xuEWO':_0x18a4ab(0xea),'ffWuk':function(_0x42c108,_0x509f06,_0x247370){return _0x42c108(_0x509f06,_0x247370);},'TnNGz':_0x18a4ab(0xc3),'bxTkd':'5|1|0|4|2|3','GOwMY':_0x18a4ab(0xbb),'QrdKE':_0x18a4ab(0xd2),'Spkuk':function(_0x45f9c7,_0x2621ce){return _0x45f9c7(_0x2621ce);}},_0x38ae03=document[_0x18a4ab(0xf3)](_0x11c6d4[_0x18a4ab(0xde)]),_0x3b6266=document[_0x18a4ab(0xf3)](_0x18a4ab(0xb1)),_0x1aa825=_0x11c6d4['unlUI'](getAuthToken);try{const _0x17fb2f=backendAddress+_0x18a4ab(0xe2),_0x3fe4b7={'apiKey':_0x1aa825,'term':_0x40bdba};console[_0x18a4ab(0x83)](_0x11c6d4[_0x18a4ab(0x76)],_0x1aa825);const _0x10d514=await _0x11c6d4['ffWuk'](fetch,_0x17fb2f,{'method':_0x18a4ab(0xec),'headers':{'Content-Type':_0x11c6d4['TnNGz']},'body':JSON[_0x18a4ab(0x96)](_0x3fe4b7)}),_0x524123=await _0x10d514['json']();return _0x524123[_0x18a4ab(0x8f)];}catch(_0x503cae){const _0x4fe620=_0x11c6d4[_0x18a4ab(0xd7)]['split']('|');let _0x103f27=0x0;while(!![]){switch(_0x4fe620[_0x103f27++]){case'0':localStorage[_0x18a4ab(0xa5)](_0x18a4ab(0xeb));continue;case'1':a0_0x28c0b0[_0x18a4ab(0xd6)](_0x11c6d4[_0x18a4ab(0x87)],_0x11c6d4[_0x18a4ab(0xf0)]);continue;case'2':_0x11c6d4[_0x18a4ab(0xc4)](makeItAppear,_0x3b6266);continue;case'3':return[];case'4':_0x11c6d4[_0x18a4ab(0xc4)](makeItDisappear,_0x38ae03);continue;case'5':console[_0x18a4ab(0xd6)](_0x18a4ab(0x99),_0x503cae);continue;}break;}}}export async function fetchSuggestions2(_0x551ade=null){const _0x508f54=a0_0x4b9f,_0x4f1cda={'eKgKp':_0x508f54(0x84),'dWFdz':_0x508f54(0xb1),'KxDRE':function(_0x4384d7,_0x2fa04f){return _0x4384d7<=_0x2fa04f;},'chfex':_0x508f54(0xce),'RVnHS':function(_0x47574f){return _0x47574f();},'paAyK':function(_0x107a8a,_0x6f469a,_0x542941){return _0x107a8a(_0x6f469a,_0x542941);},'FpsJc':_0x508f54(0xec),'tfHKz':'Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','BOmFV':_0x508f54(0xeb),'MBNdG':function(_0x2deb87,_0x354276){return _0x2deb87(_0x354276);}},_0xf3c521=document[_0x508f54(0xf3)](_0x4f1cda[_0x508f54(0xcc)]),_0x49c566=document[_0x508f54(0xf3)](_0x4f1cda[_0x508f54(0x6f)]),_0x1fbd85=_0x551ade?_0x551ade['trim']()[_0x508f54(0x92)]():'';if(!_0x551ade||_0x4f1cda[_0x508f54(0xe4)](_0x1fbd85['length'],0x2)){const _0x1a34e7=Object[_0x508f54(0xdc)](regions)['map'](_0x3a709c=>({'states':''+regions[_0x3a709c][_0x508f54(0x78)](',\x20'),'name':_0x3a709c,'state':'','zip':''}));return{'type':'region','data':_0x1a34e7};}const _0x306eb5=Object[_0x508f54(0xdc)](regions)['find'](_0x348477=>_0x348477[_0x508f54(0x92)]()===_0x1fbd85);if(_0x306eb5)return{'type':_0x4f1cda[_0x508f54(0xba)],'data':[{'suggestion':_0x306eb5+'\x20-\x20'+regions[_0x306eb5][_0x508f54(0x78)](',\x20'),'type':_0x4f1cda[_0x508f54(0xba)]}]};const _0x297ecb=_0x4f1cda['RVnHS'](getAuthToken);try{const _0x17e0ad=backendAddress+_0x508f54(0xb0),_0x258076={'apiKey':_0x297ecb,'term':_0x551ade},_0x477330=await _0x4f1cda[_0x508f54(0x8d)](fetch,_0x17e0ad,{'method':_0x4f1cda[_0x508f54(0x8c)],'headers':{'Content-Type':_0x508f54(0xc3)},'body':JSON[_0x508f54(0x96)](_0x258076)}),_0x305135=await _0x477330[_0x508f54(0x7c)]();return _0x305135;}catch(_0x3f74f4){return console[_0x508f54(0xd6)](_0x508f54(0x99),_0x3f74f4),a0_0x28c0b0[_0x508f54(0xd6)](_0x4f1cda['tfHKz'],_0x508f54(0xd2)),localStorage[_0x508f54(0xa5)](_0x4f1cda[_0x508f54(0xc1)]),makeItDisappear(_0xf3c521),_0x4f1cda['MBNdG'](makeItAppear,_0x49c566),{'type':_0x508f54(0xce),'data':[]};}}export async function updateBlacklistInDatabase(_0xad8519,_0x147ee2){const _0x3cd30f=a0_0x4b9f,_0x52e2f1={'rUVPp':function(_0xe3d54b,_0x411aa8,_0x4213e1){return _0xe3d54b(_0x411aa8,_0x4213e1);},'TSNTq':_0x3cd30f(0xec),'CypHv':_0x3cd30f(0xc3),'orOQi':_0x3cd30f(0x99),'vLaxU':_0x3cd30f(0xe7),'FJdQh':'Error'};try{const _0x341a95=getEmail(),_0x35da9f=getCompanyId(),_0x3ef2fb=backendAddress+'/api/updateblacklist',_0x368bd7={'companyId':_0x35da9f,'email':_0x341a95,'name':_0xad8519[_0x3cd30f(0xad)],'address':_0xad8519[_0x3cd30f(0xf1)],'action':_0x147ee2},_0x3fbcee=await _0x52e2f1[_0x3cd30f(0x81)](fetch,_0x3ef2fb,{'method':_0x52e2f1[_0x3cd30f(0xbe)],'headers':{'Content-Type':_0x52e2f1[_0x3cd30f(0xe3)]},'body':JSON[_0x3cd30f(0x96)](_0x368bd7)}),_0xe82361=await _0x3fbcee[_0x3cd30f(0x7c)]();return _0xe82361[_0x3cd30f(0xdd)];}catch(_0x270b56){return console['error'](_0x52e2f1[_0x3cd30f(0xb8)],_0x270b56),a0_0x28c0b0[_0x3cd30f(0xd6)](_0x52e2f1[_0x3cd30f(0xe9)],_0x52e2f1[_0x3cd30f(0x9c)]),[];}}document['getElementById'](a0_0xe7ad45(0xb7))[a0_0xe7ad45(0xd5)](a0_0xe7ad45(0x98),async _0xa08699=>{const _0x32744a=a0_0xe7ad45,_0x3f4455={'gfqkB':_0x32744a(0xb7),'KubHD':_0x32744a(0x6c),'oIpyV':_0x32744a(0x74),'nqsXO':_0x32744a(0xd3),'fxWYO':function(_0x5df9b4,_0x19f0ba){return _0x5df9b4!==_0x19f0ba;},'omrMu':_0x32744a(0xd9),'Fvrfd':function(_0x2eba53){return _0x2eba53();},'GqtCN':function(_0x15a5ca,_0x250270){return _0x15a5ca||_0x250270;},'pLSBe':_0x32744a(0xf2),'SFyPu':'application/json','NtXHa':'Password\x20changed\x20successfully','nHoEX':_0x32744a(0xa2),'aHFIu':_0x32744a(0xd4),'uiplg':_0x32744a(0xa1)};_0xa08699['preventDefault']();const _0x1f1855=document[_0x32744a(0xf3)](_0x3f4455[_0x32744a(0xf6)]),_0x46ccab=document[_0x32744a(0xf3)](_0x3f4455['KubHD'])[_0x32744a(0xb9)],_0x401431=document['getElementById'](_0x3f4455[_0x32744a(0x77)])[_0x32744a(0xb9)],_0x5940b1=document[_0x32744a(0xf3)](_0x3f4455[_0x32744a(0x69)])[_0x32744a(0xb9)];if(_0x3f4455[_0x32744a(0xab)](_0x401431,_0x5940b1)){a0_0x28c0b0[_0x32744a(0x9e)](_0x3f4455[_0x32744a(0xa4)]);return;}const _0x5b1988=_0x3f4455[_0x32744a(0x82)](getEmail),_0x30ed53=_0x3f4455[_0x32744a(0x82)](getLoginKey);if(_0x3f4455[_0x32744a(0xbd)](!_0x5b1988,!_0x30ed53)){a0_0x28c0b0[_0x32744a(0x9e)](_0x3f4455[_0x32744a(0xda)]);return;}try{const _0x10bc1d=await fetch(backendAddress+_0x32744a(0x89),{'method':_0x32744a(0xec),'headers':{'Content-Type':_0x3f4455['SFyPu']},'body':JSON[_0x32744a(0x96)]({'email':_0x5b1988,'loginKey':_0x30ed53,'oldPassword':_0x46ccab,'newPassword':_0x401431})}),_0x5aa328=await _0x10bc1d['json']();_0x10bc1d['ok']?(a0_0x28c0b0['success'](_0x3f4455['NtXHa']),_0x1f1855[_0x32744a(0xdf)]()):a0_0x28c0b0[_0x32744a(0xd6)](_0x5aa328['error']||_0x3f4455[_0x32744a(0xed)]);}catch(_0x4ea809){console['error'](_0x3f4455[_0x32744a(0xb6)],_0x4ea809),a0_0x28c0b0[_0x32744a(0xd6)](_0x3f4455['uiplg']);}});