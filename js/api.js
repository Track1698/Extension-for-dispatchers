const a0_0x4f30ee=a0_0x21a5;(function(_0x51b6e4,_0x2669fb){const _0xb460fc=a0_0x21a5,_0x488b25=_0x51b6e4();while(!![]){try{const _0x11226e=parseInt(_0xb460fc(0xdc))/0x1+parseInt(_0xb460fc(0xb3))/0x2*(parseInt(_0xb460fc(0x7c))/0x3)+-parseInt(_0xb460fc(0xe4))/0x4*(parseInt(_0xb460fc(0xeb))/0x5)+parseInt(_0xb460fc(0x7b))/0x6+-parseInt(_0xb460fc(0xa8))/0x7+-parseInt(_0xb460fc(0x8a))/0x8*(parseInt(_0xb460fc(0xe8))/0x9)+-parseInt(_0xb460fc(0xd8))/0xa*(parseInt(_0xb460fc(0x96))/0xb);if(_0x11226e===_0x2669fb)break;else _0x488b25['push'](_0x488b25['shift']());}catch(_0x2e36c0){_0x488b25['push'](_0x488b25['shift']());}}}(a0_0x2229,0x94077));import a0_0x39847b from'./alerts.js';import{saveToLocal}from'./storage.js';function a0_0x2229(){const _0xc164d1=['companyId','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','UbnCu','Czpbz','current-password','error','new-password','confirm-password','kLIOz','Logged\x20out\x20successfully.','1633790MWrwCC','removeItem','jhNYx','aFGAM','802939THOPZX','fzIgq','searches','Please\x20enter\x20a\x20valid\x20numeric\x20code.','YguLO','eKKiF','OZYwO','authToken','68xbNQVO','iPOYQ','XTFgp','erLIu','2151mBbOyf','ZSYrA','aKPqM','81800TFMziZ','preventDefault','zDATv','ixDgr','storage','name','/api/changepassword','HbmWZ','VkbMO','aVaGs','stringify','telegramVerifyButton','DRCSA','json','VgHrJ','data','test','rpqxh','items','start','pbDoB','Error\x20changing\x20password:','searchFormElement','email','kOWxI','paste','key','warning','submit','kgrIo','Error\x20adding\x20item\x20to\x20blacklist','Password\x20changed\x20successfully','forEach','4700676CvIfEV','951645ewTuZc','controlElement','NspZR','telegramPopup','oQMuc','lFloa','XdfFh','message','JNPQm','EWZVi','addEventListener','Error','AJUXW','JztPK','18640cHTebm','reset','value','ZcuNl','from','length','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','join','min','voslj','address','input','22jODKhX','lOEsQ','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','remove','YjQoT','verification-input','PjyZi','setRangeText','jsMGg','application/json','FGBBh','aTLpB','display','rqWqt','VwSKO','hIxGS','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','EEYpc','3169180qrGSgw','POST','nmhcd','focus','lYAAu','ArrowLeft','SZMyW','authToken:\x20','NMaTW','Backspace','split','4pGBMji','style','BweKO','ArrowRight','ARzKN','jxJtT','charAt','CuInB','/api/updateblacklist','map','clipboardData','AChqd','HtgFv','/api/telegramcode','success','CuMQP','getElementById','ojpme','blacklist','jtUNR','Error\x20fetching\x20suggestions:','AxaJQ','nhaxX','NgAbv','change-password-form','BVoeE','kLvvZ'];a0_0x2229=function(){return _0xc164d1;};return a0_0x2229();}import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x539915=a0_0x21a5,_0x11b17f={'kgrIo':_0x539915(0xe3),'aTLpB':_0x539915(0x71),'ARzKN':_0x539915(0xce),'QxKFk':_0x539915(0xde)};chrome[_0x539915(0xef)]['local'][_0x539915(0x99)]([_0x11b17f[_0x539915(0x77)],_0x11b17f[_0x539915(0xa1)],_0x11b17f[_0x539915(0xb7)],_0x539915(0xc5),_0x11b17f['QxKFk']],()=>{const _0x46509c=_0x539915;a0_0x39847b['info'](_0x46509c(0xd7));});}function a0_0x21a5(_0x353b20,_0x1cac10){const _0x2229f2=a0_0x2229();return a0_0x21a5=function(_0x21a5b6,_0x4e554a){_0x21a5b6=_0x21a5b6-0x6c;let _0x1b789a=_0x2229f2[_0x21a5b6];return _0x1b789a;},a0_0x21a5(_0x353b20,_0x1cac10);}export async function sendTelegramCodeToBackend(_0x15f3ec){const _0x3a1071=a0_0x21a5,_0x4098b9={'kLvvZ':function(_0x4f7c0d){return _0x4f7c0d();},'lFloa':function(_0x4b2cdb,_0x53c1af,_0x34d2b0){return _0x4b2cdb(_0x53c1af,_0x34d2b0);},'HEWfO':_0x3a1071(0xa9),'OZYwO':function(_0x4f150c,_0x286982,_0x3b8174){return _0x4f150c(_0x286982,_0x3b8174);},'rpqxh':'telegramId','erLIu':'Telegram\x20connected\x20successfully!','DRCSA':'Telegram\x20connection\x20failed.'};try{const _0xc25d73=_0x4098b9[_0x3a1071(0xcd)](getEmail),_0x312f83=_0x4098b9[_0x3a1071(0xcd)](getLoginKey),_0x4120de=await _0x4098b9[_0x3a1071(0x81)](fetch,backendAddress+_0x3a1071(0xc0),{'method':_0x4098b9['HEWfO'],'headers':{'Content-Type':'application/json'},'body':JSON[_0x3a1071(0xf5)]({'email':_0xc25d73,'code':_0x15f3ec,'loginKey':_0x312f83})}),_0x4e2a16=await _0x4120de[_0x3a1071(0xf8)]();if(_0x4e2a16[_0x3a1071(0xc1)])_0x4098b9[_0x3a1071(0xe2)](saveToLocal,_0x4098b9[_0x3a1071(0xfc)],_0x4e2a16['userId']),a0_0x39847b['success'](_0x4098b9[_0x3a1071(0xe7)]);else throw new Error(_0x4e2a16['message']||_0x4098b9[_0x3a1071(0xf7)]);}catch(_0x4139e9){a0_0x39847b[_0x3a1071(0xd3)](_0x4139e9[_0x3a1071(0x83)]);}}export function showTelegramPopup(){const _0xf18c4b=a0_0x21a5,_0x2b2906={'HtgFv':function(_0x44c411,_0x1cd517){return _0x44c411===_0x1cd517;},'pbDoB':function(_0x2b5085,_0x4b57b8){return _0x2b5085===_0x4b57b8;},'VkbMO':function(_0x5838a0,_0x2d21ec){return _0x5838a0>_0x2d21ec;},'VgHrJ':function(_0x5a4d6f,_0x1eb693){return _0x5a4d6f-_0x1eb693;},'FGBBh':function(_0x43f161,_0x12cfc3){return _0x43f161<_0x12cfc3;},'ojpme':function(_0x371559,_0x25377c){return _0x371559+_0x25377c;},'ZSYrA':_0xf18c4b(0x6d),'JztPK':_0xf18c4b(0xad),'iPOYQ':function(_0x2faff6,_0x51987b){return _0x2faff6-_0x51987b;},'jsMGg':_0xf18c4b(0xb6),'Lpghz':function(_0x29189e,_0x453b68){return _0x29189e-_0x453b68;},'AChqd':function(_0x530718,_0x25f977){return _0x530718+_0x25f977;},'kOWxI':function(_0x36003f,_0xf0592e){return _0x36003f<_0xf0592e;},'zDATv':function(_0x1eefdc,_0x4020a9){return _0x1eefdc+_0x4020a9;},'nmhcd':function(_0x2f49cb,_0x58fb15){return _0x2f49cb+_0x58fb15;},'AJUXW':function(_0x37f187){return _0x37f187();},'mMpnF':function(_0x5c0196,_0xf29a4b){return _0x5c0196!==_0xf29a4b;},'ixDgr':function(_0x52bcbd,_0x32705d){return _0x52bcbd+_0x32705d;},'IusVr':function(_0x330e76,_0x255b98){return _0x330e76<_0x255b98;},'fzIgq':function(_0xfca8b5,_0x1ba53e){return _0xfca8b5+_0x1ba53e;},'AkcJw':function(_0x34646d,_0x48296b){return _0x34646d-_0x48296b;},'oGDhM':function(_0x53d3dd,_0x492480){return _0x53d3dd!==_0x492480;},'XTFgp':function(_0x152897,_0x25a0e9){return _0x152897>_0x25a0e9;},'EEYpc':_0xf18c4b(0x95),'eKKiF':_0xf18c4b(0x73),'YjQoT':_0xf18c4b(0xab),'djoYb':function(_0x298f0f,_0xd96ad4){return _0x298f0f(_0xd96ad4);},'hIxGS':_0xf18c4b(0x7f),'aKPqM':'flex','iwpkd':_0xf18c4b(0x9b),'NMaTW':'click'},_0x6b7bc2=document['getElementById'](_0x2b2906[_0xf18c4b(0xa5)]),_0xd0c26c=document['getElementById'](_0xf18c4b(0xf6));_0x6b7bc2[_0xf18c4b(0xb4)][_0xf18c4b(0xa2)]=_0x2b2906[_0xf18c4b(0xea)];const _0x175d7b=Array[_0xf18c4b(0x8e)](document[_0xf18c4b(0xc3)](_0x2b2906['iwpkd'])['children']);function _0x120302(){const _0x1fd197=_0xf18c4b;return _0x175d7b['findIndex'](_0x59a0de=>_0x59a0de[_0x1fd197(0x8c)]==='');}_0x175d7b[_0xf18c4b(0x7a)]((_0x5e5099,_0x5968ef)=>{const _0x416b1d=_0xf18c4b;_0x5e5099['addEventListener']('keydown',_0x794c50=>{const _0x2b440b=a0_0x21a5;if(_0x2b2906[_0x2b440b(0xbf)](_0x794c50['key'],_0x2b440b(0xb1))){_0x2b2906[_0x2b440b(0x6e)](_0x5e5099[_0x2b440b(0x8c)],'')&&_0x2b2906[_0x2b440b(0xf3)](_0x5968ef,0x0)&&(_0x175d7b[_0x5968ef-0x1]['value']='',_0x175d7b[_0x2b2906[_0x2b440b(0xf9)](_0x5968ef,0x1)][_0x2b440b(0xab)]());for(let _0x36ca12=_0x5968ef;_0x2b2906[_0x2b440b(0xa0)](_0x36ca12,_0x175d7b['length']);_0x36ca12++){let _0x520e53=_0x175d7b[_0x2b2906['ojpme'](_0x36ca12,0x1)]?_0x175d7b[_0x2b2906[_0x2b440b(0xc4)](_0x36ca12,0x1)]['value']:'';_0x175d7b[_0x36ca12][_0x2b440b(0x9d)](_0x520e53,0x0,0x1,_0x2b2906[_0x2b440b(0xe9)]);}}_0x794c50[_0x2b440b(0x74)]===_0x2b2906[_0x2b440b(0x89)]&&_0x5968ef>0x0&&_0x175d7b[_0x2b2906[_0x2b440b(0xe5)](_0x5968ef,0x1)]['focus'](),_0x2b2906['pbDoB'](_0x794c50['key'],_0x2b2906[_0x2b440b(0x9e)])&&_0x2b2906[_0x2b440b(0xa0)](_0x5968ef,_0x2b2906['Lpghz'](_0x175d7b['length'],0x1))&&_0x175d7b[_0x2b2906[_0x2b440b(0xbe)](_0x5968ef,0x1)][_0x2b440b(0xab)]();}),_0x5e5099[_0x416b1d(0x86)](_0x2b2906[_0x416b1d(0xa7)],_0x5c2332=>{const _0x12ccf4=_0x416b1d;_0x5e5099['value']='';const _0x4fb4a3=_0x120302();_0x175d7b[_0x4fb4a3][_0x12ccf4(0x8c)]=_0x5c2332[_0x12ccf4(0xfa)];if(_0x2b2906[_0x12ccf4(0x72)](_0x2b2906[_0x12ccf4(0xed)](_0x4fb4a3,0x1),_0x175d7b[_0x12ccf4(0x8f)]))_0x175d7b[_0x2b2906[_0x12ccf4(0xaa)](_0x4fb4a3,0x1)]['focus']();}),_0x5e5099[_0x416b1d(0x86)](_0x2b2906[_0x416b1d(0xe1)],_0x33e14a=>{const _0x563c60=_0x416b1d;_0x33e14a[_0x563c60(0xec)]();const _0x427036=(event[_0x563c60(0xbd)]||window[_0x563c60(0xbd)])['getData']('text'),_0x28b726=_0x2b2906[_0x563c60(0x88)](_0x120302),_0x456474=_0x2b2906['mMpnF'](_0x28b726,-0x1)?Math['min'](_0x5968ef,_0x28b726):_0x5968ef;for(let _0x4e31d8=0x0;_0x2b2906[_0x563c60(0xa0)](_0x2b2906[_0x563c60(0xee)](_0x456474,_0x4e31d8),_0x175d7b[_0x563c60(0x8f)])&&_0x2b2906['IusVr'](_0x4e31d8,_0x427036['length']);_0x4e31d8++){_0x175d7b[_0x2b2906[_0x563c60(0xdd)](_0x456474,_0x4e31d8)][_0x563c60(0x8c)]=_0x427036[_0x563c60(0xb9)](_0x4e31d8);}_0x175d7b[Math[_0x563c60(0x92)](_0x2b2906['zDATv'](_0x456474,_0x427036[_0x563c60(0x8f)]),_0x2b2906['AkcJw'](_0x175d7b[_0x563c60(0x8f)],0x1))][_0x563c60(0xab)]();}),_0x5e5099['addEventListener'](_0x2b2906[_0x416b1d(0x9a)],()=>{const _0x5a0b5b=_0x416b1d,_0x6c79bf=_0x2b2906[_0x5a0b5b(0x88)](_0x120302);if(_0x2b2906['oGDhM'](_0x6c79bf,-0x1)&&_0x2b2906[_0x5a0b5b(0xe6)](_0x5968ef,_0x6c79bf))_0x175d7b[_0x6c79bf]['focus']();});}),_0xd0c26c['addEventListener'](_0x2b2906[_0xf18c4b(0xb0)],function(){const _0x11867a=_0xf18c4b,_0x33ae6d=_0x175d7b[_0x11867a(0xbc)](_0x57a552=>_0x57a552[_0x11867a(0x8c)])[_0x11867a(0x91)]('');/^\d+$/[_0x11867a(0xfb)](_0x33ae6d)?_0x2b2906['djoYb'](sendTelegramCodeToBackend,_0x33ae6d):a0_0x39847b[_0x11867a(0x75)](_0x11867a(0xdf));});}export async function fetchSuggestions(_0x9e9001){const _0x17a5e6=a0_0x21a5,_0x1c8c25={'PjyZi':function(_0x4ee3fa){return _0x4ee3fa();},'oQMuc':function(_0x7d6edc,_0x2e811f,_0x23716c){return _0x7d6edc(_0x2e811f,_0x23716c);},'YguLO':_0x17a5e6(0xa9),'rnkxW':'application/json','CuMQP':_0x17a5e6(0xc7),'BweKO':'Error','jtUNR':_0x17a5e6(0xe3),'XdfFh':function(_0x1c1db4,_0x10773e){return _0x1c1db4(_0x10773e);}},_0x11b964=document[_0x17a5e6(0xc3)](_0x17a5e6(0x70)),_0x32b441=document[_0x17a5e6(0xc3)]('controlElement'),_0x33aac3=_0x1c8c25[_0x17a5e6(0x9c)](getAuthToken);try{const _0x10931d=backendAddress+'/api/autocomplete',_0x44f4c8={'apiKey':_0x33aac3,'term':_0x9e9001};console['log'](_0x17a5e6(0xaf),_0x33aac3);const _0x3d94d9=await _0x1c8c25[_0x17a5e6(0x80)](fetch,_0x10931d,{'method':_0x1c8c25[_0x17a5e6(0xe0)],'headers':{'Content-Type':_0x1c8c25['rnkxW']},'body':JSON[_0x17a5e6(0xf5)](_0x44f4c8)}),_0x3e44af=await _0x3d94d9[_0x17a5e6(0xf8)]();return _0x3e44af[_0x17a5e6(0x6c)];}catch(_0x228917){return console[_0x17a5e6(0xd3)](_0x1c8c25[_0x17a5e6(0xc2)],_0x228917),a0_0x39847b[_0x17a5e6(0xd3)](_0x17a5e6(0x90),_0x1c8c25[_0x17a5e6(0xb5)]),localStorage[_0x17a5e6(0xd9)](_0x1c8c25[_0x17a5e6(0xc6)]),makeItDisappear(_0x11b964),_0x1c8c25[_0x17a5e6(0x82)](makeItAppear,_0x32b441),[];}}export async function fetchSuggestions2(_0x3d901b){const _0x107874=a0_0x21a5,_0x347ea8={'kLIOz':'searchFormElement','AxaJQ':function(_0x78b4a4){return _0x78b4a4();},'VwSKO':function(_0x53ef0e,_0x5386ff,_0x32381d){return _0x53ef0e(_0x5386ff,_0x32381d);},'cjwaQ':_0x107874(0xa9),'aFGAM':_0x107874(0x9f),'voslj':'4|0|2|5|3|1','rqWqt':'Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','NENrv':'authToken','YdPPG':_0x107874(0xc7),'lOEsQ':function(_0x3ac316,_0x96c51){return _0x3ac316(_0x96c51);}},_0x3d4557=document[_0x107874(0xc3)](_0x347ea8[_0x107874(0xd6)]),_0x5cd313=document[_0x107874(0xc3)](_0x107874(0x7d)),_0x1f6597=_0x347ea8[_0x107874(0xc8)](getAuthToken);try{const _0x46f059=backendAddress+'/api/autocomplete2',_0x323083={'apiKey':_0x1f6597,'term':_0x3d901b},_0x40fd3f=await _0x347ea8[_0x107874(0xa4)](fetch,_0x46f059,{'method':_0x347ea8['cjwaQ'],'headers':{'Content-Type':_0x347ea8[_0x107874(0xdb)]},'body':JSON[_0x107874(0xf5)](_0x323083)}),_0x54e361=await _0x40fd3f[_0x107874(0xf8)]();return _0x54e361;}catch(_0xc5cfa){const _0x564d62=_0x347ea8[_0x107874(0x93)][_0x107874(0xb2)]('|');let _0x8ffd2a=0x0;while(!![]){switch(_0x564d62[_0x8ffd2a++]){case'0':a0_0x39847b[_0x107874(0xd3)](_0x347ea8[_0x107874(0xa3)],'Error');continue;case'1':return[];case'2':localStorage[_0x107874(0xd9)](_0x347ea8['NENrv']);continue;case'3':makeItAppear(_0x5cd313);continue;case'4':console[_0x107874(0xd3)](_0x347ea8['YdPPG'],_0xc5cfa);continue;case'5':_0x347ea8[_0x107874(0x97)](makeItDisappear,_0x3d4557);continue;}break;}}}export async function updateBlacklistInDatabase(_0x248735,_0x4405a5){const _0x44e7d7=a0_0x21a5,_0x425b81={'BVoeE':function(_0x1b1a65){return _0x1b1a65();},'HbmWZ':function(_0x3e1045,_0x4ac70c,_0x12723d){return _0x3e1045(_0x4ac70c,_0x12723d);},'jhNYx':_0x44e7d7(0xa9),'NspZR':_0x44e7d7(0x9f),'jxJtT':_0x44e7d7(0xc7),'SZMyW':_0x44e7d7(0x78),'raWMg':_0x44e7d7(0x87)};try{const _0x40892c=_0x425b81['BVoeE'](getEmail),_0x1eb8a3=_0x425b81[_0x44e7d7(0xcc)](getCompanyId),_0xc29c08=backendAddress+_0x44e7d7(0xbb),_0x3511bc={'companyId':_0x1eb8a3,'email':_0x40892c,'name':_0x248735[_0x44e7d7(0xf0)],'address':_0x248735[_0x44e7d7(0x94)],'action':_0x4405a5},_0x67d461=await _0x425b81[_0x44e7d7(0xf2)](fetch,_0xc29c08,{'method':_0x425b81[_0x44e7d7(0xda)],'headers':{'Content-Type':_0x425b81[_0x44e7d7(0x7e)]},'body':JSON[_0x44e7d7(0xf5)](_0x3511bc)}),_0x375b60=await _0x67d461[_0x44e7d7(0xf8)]();return _0x375b60[_0x44e7d7(0xc5)];}catch(_0x590e2f){return console[_0x44e7d7(0xd3)](_0x425b81[_0x44e7d7(0xb8)],_0x590e2f),a0_0x39847b[_0x44e7d7(0xd3)](_0x425b81[_0x44e7d7(0xae)],_0x425b81['raWMg']),[];}}document['getElementById'](a0_0x4f30ee(0xcb))[a0_0x4f30ee(0x86)](a0_0x4f30ee(0x76),async _0x818927=>{const _0x1e6e33=a0_0x4f30ee,_0x36e70d={'lYAAu':_0x1e6e33(0xcb),'UbnCu':_0x1e6e33(0xd2),'yofqi':_0x1e6e33(0xd4),'Czpbz':_0x1e6e33(0xd5),'JNPQm':'New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','ZcuNl':function(_0x226993){return _0x226993();},'aVaGs':function(_0x41c46d,_0x4b33e8){return _0x41c46d||_0x4b33e8;},'EWZVi':_0x1e6e33(0x98),'NgAbv':_0x1e6e33(0x9f),'CuInB':_0x1e6e33(0x79),'nhaxX':_0x1e6e33(0x6f)};_0x818927[_0x1e6e33(0xec)]();const _0x4e138a=document[_0x1e6e33(0xc3)](_0x36e70d[_0x1e6e33(0xac)]),_0x27e7c4=document[_0x1e6e33(0xc3)](_0x36e70d[_0x1e6e33(0xd0)])[_0x1e6e33(0x8c)],_0x338247=document[_0x1e6e33(0xc3)](_0x36e70d['yofqi'])[_0x1e6e33(0x8c)],_0x5e7be8=document[_0x1e6e33(0xc3)](_0x36e70d[_0x1e6e33(0xd1)])[_0x1e6e33(0x8c)];if(_0x338247!==_0x5e7be8){a0_0x39847b[_0x1e6e33(0x75)](_0x36e70d[_0x1e6e33(0x84)]);return;}const _0x5785ed=_0x36e70d[_0x1e6e33(0x8d)](getEmail),_0x29fdd8=_0x36e70d[_0x1e6e33(0x8d)](getLoginKey);if(_0x36e70d[_0x1e6e33(0xf4)](!_0x5785ed,!_0x29fdd8)){a0_0x39847b[_0x1e6e33(0x75)](_0x36e70d[_0x1e6e33(0x85)]);return;}try{const _0x5baef8=await fetch(backendAddress+_0x1e6e33(0xf1),{'method':_0x1e6e33(0xa9),'headers':{'Content-Type':_0x36e70d[_0x1e6e33(0xca)]},'body':JSON[_0x1e6e33(0xf5)]({'email':_0x5785ed,'loginKey':_0x29fdd8,'oldPassword':_0x27e7c4,'newPassword':_0x338247})}),_0x538220=await _0x5baef8[_0x1e6e33(0xf8)]();_0x5baef8['ok']?(a0_0x39847b['success'](_0x36e70d[_0x1e6e33(0xba)]),_0x4e138a[_0x1e6e33(0x8b)]()):a0_0x39847b[_0x1e6e33(0xd3)](_0x538220[_0x1e6e33(0xd3)]||_0x1e6e33(0xcf));}catch(_0x57a137){console[_0x1e6e33(0xd3)](_0x36e70d[_0x1e6e33(0xc9)],_0x57a137),a0_0x39847b[_0x1e6e33(0xd3)](_0x1e6e33(0xa6));}});