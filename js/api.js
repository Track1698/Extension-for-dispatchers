const a0_0x1400e0=a0_0x488a;(function(_0x5aab5d,_0x458f77){const _0x31b90a=a0_0x488a,_0x180682=_0x5aab5d();while(!![]){try{const _0x5a5411=parseInt(_0x31b90a(0x1f2))/0x1+parseInt(_0x31b90a(0x216))/0x2+parseInt(_0x31b90a(0x236))/0x3*(-parseInt(_0x31b90a(0x1e8))/0x4)+parseInt(_0x31b90a(0x237))/0x5*(parseInt(_0x31b90a(0x224))/0x6)+parseInt(_0x31b90a(0x1bb))/0x7+-parseInt(_0x31b90a(0x20e))/0x8*(parseInt(_0x31b90a(0x233))/0x9)+parseInt(_0x31b90a(0x1c2))/0xa*(-parseInt(_0x31b90a(0x1e3))/0xb);if(_0x5a5411===_0x458f77)break;else _0x180682['push'](_0x180682['shift']());}catch(_0x9997a9){_0x180682['push'](_0x180682['shift']());}}}(a0_0x56be,0xcfc0b));import a0_0x227f6d from'./alerts.js';function a0_0x56be(){const _0x31c3ae=['JKYPd','oApFp','pgXUa','success','name','bSvmy','/api/telegramcode','qJKHW','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','authToken','OkFVP','ycBsy','3857249WZBfln','Please\x20enter\x20a\x20valid\x20numeric\x20code.','Telegram\x20connected\x20successfully!','focus','IFmdW','2308wiYXpC','/api/autocomplete','trRyr','warning','lCttB','verification-input','blacklist','storage','/api/changepassword','test','1249369JzSgcM','submit','findIndex','Error\x20changing\x20password:','kCMVS','YwdFe','log','dYSQf','rtuuo','preventDefault','current-password','Mlquo','setRangeText','telegramPopup','keydown','WJeET','searches','fThdR','Wfjdp','vqXHD','authToken:\x20','Yawnw','Error\x20adding\x20item\x20to\x20blacklist','Backspace','items','IosJr','min','VKCrZ','24HkolsR','searchFormElement','application/json','ILLuA','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','forEach','POST','map','1685656pJiSfj','key','getElementById','lQqsQ','style','clipboardData','data','getData','TnzxC','length','WaBhV','CsOgp','ArrowRight','sPdGG','1698SzQUpL','TfvSb','cptga','value','lwkIl','rjomf','Telegram\x20connection\x20failed.','paste','children','emQwu','Error','DIHJY','nFwfw','OsKLi','rhfmr','4138902HakteP','SKzzh','SrzyG','2859XFmfCN','8095xARKWr','yqRnE','new-password','reset','stringify','companyId','display','ynkdq','yAwQr','start','join','qlMVt','change-password-form','/api/updateblacklist','charAt','addEventListener','6519898aGqCty','text','vTZbR','remove','error','controlElement','nVUxY','20LRviDp','aclao','cJiDD','AuelK','json','userId','Tkyah','Password\x20changed\x20successfully','kiWVF','jyAKR','oXysC','tMOcS','QtKNR','YNNPN','YkYOD','Jtdfq','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','JlMPd','message','KkDNz','info'];a0_0x56be=function(){return _0x31c3ae;};return a0_0x56be();}import{saveToLocal,getFromLocal}from'./storage.js';function a0_0x488a(_0x6104fb,_0x217262){const _0x56be7e=a0_0x56be();return a0_0x488a=function(_0x488abd,_0x2e59b0){_0x488abd=_0x488abd-0x1b6;let _0x293876=_0x56be7e[_0x488abd];return _0x293876;},a0_0x488a(_0x6104fb,_0x217262);}import{backendAddress}from'./main.js';import{setAuthToken,getAuthToken,setEmail,getEmail,setCompanyId,setLoginKey,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x227104=a0_0x488a,_0x393f0c={'Tkyah':'Logged\x20out\x20successfully.','OsKLi':_0x227104(0x1e0),'DIHJY':'email','fThdR':_0x227104(0x23c),'JkXtZ':_0x227104(0x202)};chrome[_0x227104(0x1ef)]['local'][_0x227104(0x1be)]([_0x393f0c[_0x227104(0x231)],_0x393f0c[_0x227104(0x22f)],_0x393f0c[_0x227104(0x203)],_0x227104(0x1ee),_0x393f0c['JkXtZ']],()=>{const _0x56bccc=_0x227104;a0_0x227f6d[_0x56bccc(0x1d6)](_0x393f0c[_0x56bccc(0x1c8)]);});}export async function sendTelegramCodeToBackend(_0x2e2da1){const _0x931c87=a0_0x488a,_0x4357b2={'yoPDv':function(_0x30a0d0){return _0x30a0d0();},'rhfmr':function(_0x3f5c12){return _0x3f5c12();},'yAwQr':function(_0x495e0e,_0xc0842e,_0xb8cf4e){return _0x495e0e(_0xc0842e,_0xb8cf4e);},'NvTyO':_0x931c87(0x214),'pgXUa':'telegramId','SUxUe':_0x931c87(0x1e5)};try{const _0x48e5bb=_0x4357b2['yoPDv'](getEmail),_0x13d39f=_0x4357b2[_0x931c87(0x232)](getLoginKey),_0x5c9b59=await _0x4357b2[_0x931c87(0x23f)](fetch,backendAddress+_0x931c87(0x1dd),{'method':_0x4357b2['NvTyO'],'headers':{'Content-Type':_0x931c87(0x210)},'body':JSON[_0x931c87(0x23b)]({'email':_0x48e5bb,'code':_0x2e2da1,'loginKey':_0x13d39f})}),_0x2209b9=await _0x5c9b59[_0x931c87(0x1c6)]();if(_0x2209b9[_0x931c87(0x1da)])_0x4357b2[_0x931c87(0x23f)](saveToLocal,_0x4357b2[_0x931c87(0x1d9)],_0x2209b9[_0x931c87(0x1c7)]),a0_0x227f6d[_0x931c87(0x1da)](_0x4357b2['SUxUe']);else throw new Error(_0x2209b9['message']||_0x931c87(0x22a));}catch(_0x30a41d){a0_0x227f6d[_0x931c87(0x1bf)](_0x30a41d[_0x931c87(0x1d4)]);}}export function showTelegramPopup(){const _0x1ee5f6=a0_0x488a,_0x92b6a={'IFmdW':function(_0x8401e,_0x47fdf4){return _0x8401e<_0x47fdf4;},'Jtdfq':function(_0x465ea6,_0x465b3d){return _0x465ea6+_0x465b3d;},'WJeET':_0x1ee5f6(0x209),'nVUxY':function(_0x2659f8,_0x2893f1){return _0x2659f8===_0x2893f1;},'nFwfw':function(_0x496109,_0x22f2de){return _0x496109-_0x22f2de;},'YwdFe':_0x1ee5f6(0x240),'fAWyW':'ArrowLeft','bSvmy':function(_0x1ad04a,_0x522d65){return _0x1ad04a+_0x522d65;},'fYroH':function(_0x50a837,_0x5a548a){return _0x50a837<_0x5a548a;},'JlMPd':function(_0x530d18,_0x521359){return _0x530d18+_0x521359;},'Xmtsj':function(_0x51cd4e,_0x2c85f5){return _0x51cd4e>_0x2c85f5;},'QtKNR':_0x1ee5f6(0x200),'emQwu':'input','lQqsQ':_0x1ee5f6(0x22b),'TnzxC':_0x1ee5f6(0x1e6),'ILLuA':function(_0x253f15,_0x2df38e){return _0x253f15(_0x2df38e);},'aclao':_0x1ee5f6(0x1e4),'vqXHD':'telegramVerifyButton','oKjhA':'flex'},_0x1d23a7=document[_0x1ee5f6(0x218)](_0x1ee5f6(0x1ff)),_0x546b2b=document[_0x1ee5f6(0x218)](_0x92b6a[_0x1ee5f6(0x205)]);_0x1d23a7[_0x1ee5f6(0x21a)][_0x1ee5f6(0x23d)]=_0x92b6a['oKjhA'];const _0xfe963=Array['from'](document[_0x1ee5f6(0x218)](_0x1ee5f6(0x1ed))[_0x1ee5f6(0x22c)]);function _0x464d23(){const _0x6399d2=_0x1ee5f6;return _0xfe963[_0x6399d2(0x1f4)](_0x514a1c=>_0x514a1c[_0x6399d2(0x227)]==='');}_0xfe963[_0x1ee5f6(0x213)]((_0x31fb57,_0x26f9fd)=>{const _0x30fc8c=_0x1ee5f6,_0x9364c1={'fEziy':_0x92b6a[_0x30fc8c(0x201)],'kiWVF':function(_0x41778a,_0x10ede8){const _0x584e1e=_0x30fc8c;return _0x92b6a[_0x584e1e(0x1c1)](_0x41778a,_0x10ede8);},'JKYPd':function(_0x53c95a,_0x5e5057){return _0x53c95a-_0x5e5057;},'YkYOD':function(_0x31cfe4,_0x3de852){const _0x47ddd9=_0x30fc8c;return _0x92b6a[_0x47ddd9(0x230)](_0x31cfe4,_0x3de852);},'Mlquo':function(_0x51caa2,_0x16fe68){const _0x467dde=_0x30fc8c;return _0x92b6a[_0x467dde(0x1d1)](_0x51caa2,_0x16fe68);},'jyAKR':function(_0x3e2c12,_0x258d76){return _0x3e2c12+_0x258d76;},'sPdGG':_0x92b6a[_0x30fc8c(0x1f7)],'UFZJT':function(_0x1d5c15,_0x692f17){return _0x1d5c15===_0x692f17;},'vTZbR':_0x92b6a['fAWyW'],'tMOcS':function(_0x31f27a,_0x4145ca){return _0x31f27a>_0x4145ca;},'ESkID':function(_0x1796d6,_0x48083b){const _0x48e823=_0x30fc8c;return _0x92b6a[_0x48e823(0x230)](_0x1796d6,_0x48083b);},'UybKy':function(_0x371cce,_0x9ef63){return _0x371cce===_0x9ef63;},'OkFVP':function(_0x4a2c25,_0x8c3f05){const _0x5f308d=_0x30fc8c;return _0x92b6a[_0x5f308d(0x1e7)](_0x4a2c25,_0x8c3f05);},'qlMVt':function(_0x5831c3,_0x3b7f59){return _0x5831c3+_0x3b7f59;},'rjomf':function(_0x38218e,_0x16ad03){return _0x38218e!==_0x16ad03;},'oXysC':function(_0x4de043,_0x40571d){const _0x7b1ef2=_0x30fc8c;return _0x92b6a[_0x7b1ef2(0x1dc)](_0x4de043,_0x40571d);},'trRyr':function(_0x31f589,_0x5f093f){return _0x92b6a['fYroH'](_0x31f589,_0x5f093f);},'kCMVS':function(_0x12082f,_0x485142){const _0x20f6eb=_0x30fc8c;return _0x92b6a[_0x20f6eb(0x1d3)](_0x12082f,_0x485142);},'cptga':function(_0x13f714,_0x57f532){const _0x34b64e=_0x30fc8c;return _0x92b6a[_0x34b64e(0x1d1)](_0x13f714,_0x57f532);},'WaBhV':function(_0x1afc5a,_0x32698a){return _0x92b6a['Xmtsj'](_0x1afc5a,_0x32698a);}};_0x31fb57[_0x30fc8c(0x1ba)](_0x92b6a[_0x30fc8c(0x1ce)],_0x28ee9b=>{const _0x17906f=_0x30fc8c;if(_0x28ee9b[_0x17906f(0x217)]===_0x9364c1['fEziy']){_0x9364c1[_0x17906f(0x1ca)](_0x31fb57[_0x17906f(0x227)],'')&&_0x26f9fd>0x0&&(_0xfe963[_0x9364c1[_0x17906f(0x1d7)](_0x26f9fd,0x1)][_0x17906f(0x227)]='',_0xfe963[_0x9364c1[_0x17906f(0x1d0)](_0x26f9fd,0x1)]['focus']());for(let _0x596d7b=_0x26f9fd;_0x596d7b<_0xfe963['length'];_0x596d7b++){let _0x957bd0=_0xfe963[_0x9364c1[_0x17906f(0x1fd)](_0x596d7b,0x1)]?_0xfe963[_0x9364c1[_0x17906f(0x1cb)](_0x596d7b,0x1)][_0x17906f(0x227)]:'';_0xfe963[_0x596d7b][_0x17906f(0x1fe)](_0x957bd0,0x0,0x1,_0x9364c1[_0x17906f(0x223)]);}}_0x9364c1['UFZJT'](_0x28ee9b['key'],_0x9364c1[_0x17906f(0x1bd)])&&_0x9364c1[_0x17906f(0x1cd)](_0x26f9fd,0x0)&&_0xfe963[_0x9364c1['ESkID'](_0x26f9fd,0x1)]['focus'](),_0x9364c1['UybKy'](_0x28ee9b[_0x17906f(0x217)],_0x17906f(0x222))&&_0x9364c1[_0x17906f(0x1e1)](_0x26f9fd,_0xfe963[_0x17906f(0x21f)]-0x1)&&_0xfe963[_0x9364c1[_0x17906f(0x1b6)](_0x26f9fd,0x1)]['focus']();}),_0x31fb57[_0x30fc8c(0x1ba)](_0x92b6a[_0x30fc8c(0x22d)],_0x500aa5=>{const _0x4d3daf=_0x30fc8c;_0x31fb57[_0x4d3daf(0x227)]='';const _0x3c95c1=_0x464d23();_0xfe963[_0x3c95c1][_0x4d3daf(0x227)]=_0x500aa5[_0x4d3daf(0x21c)];if(_0x92b6a['IFmdW'](_0x3c95c1+0x1,_0xfe963['length']))_0xfe963[_0x92b6a[_0x4d3daf(0x1d1)](_0x3c95c1,0x1)][_0x4d3daf(0x1e6)]();}),_0x31fb57[_0x30fc8c(0x1ba)](_0x92b6a[_0x30fc8c(0x219)],_0x389f50=>{const _0x32ddf4=_0x30fc8c;_0x389f50[_0x32ddf4(0x1fb)]();const _0x55d1c1=(event[_0x32ddf4(0x21b)]||window['clipboardData'])[_0x32ddf4(0x21d)](_0x32ddf4(0x1bc)),_0x278ffd=_0x464d23(),_0x1f76d0=_0x9364c1[_0x32ddf4(0x229)](_0x278ffd,-0x1)?Math['min'](_0x26f9fd,_0x278ffd):_0x26f9fd;for(let _0xd95d15=0x0;_0x9364c1[_0x32ddf4(0x1e1)](_0x9364c1[_0x32ddf4(0x1cc)](_0x1f76d0,_0xd95d15),_0xfe963[_0x32ddf4(0x21f)])&&_0x9364c1[_0x32ddf4(0x1ea)](_0xd95d15,_0x55d1c1['length']);_0xd95d15++){_0xfe963[_0x9364c1[_0x32ddf4(0x1f6)](_0x1f76d0,_0xd95d15)]['value']=_0x55d1c1[_0x32ddf4(0x1b9)](_0xd95d15);}_0xfe963[Math[_0x32ddf4(0x20c)](_0x9364c1[_0x32ddf4(0x226)](_0x1f76d0,_0x55d1c1['length']),_0xfe963['length']-0x1)][_0x32ddf4(0x1e6)]();}),_0x31fb57[_0x30fc8c(0x1ba)](_0x92b6a[_0x30fc8c(0x21e)],()=>{const _0x1ead2a=_0x30fc8c,_0x2ba753=_0x464d23();if(_0x2ba753!==-0x1&&_0x9364c1[_0x1ead2a(0x220)](_0x26f9fd,_0x2ba753))_0xfe963[_0x2ba753][_0x1ead2a(0x1e6)]();});}),_0x546b2b[_0x1ee5f6(0x1ba)]('click',function(){const _0x1581b7=_0x1ee5f6,_0x3c7354=_0xfe963[_0x1581b7(0x215)](_0x37cd5b=>_0x37cd5b[_0x1581b7(0x227)])[_0x1581b7(0x241)]('');/^\d+$/[_0x1581b7(0x1f1)](_0x3c7354)?_0x92b6a[_0x1581b7(0x211)](sendTelegramCodeToBackend,_0x3c7354):a0_0x227f6d[_0x1581b7(0x1eb)](_0x92b6a[_0x1581b7(0x1c3)]);});}export async function fetchSuggestions(_0x4104e8){const _0x5080ab=a0_0x488a,_0x5d01e4={'qJKHW':_0x5080ab(0x20f),'lCttB':function(_0x320f3a){return _0x320f3a();},'SKzzh':_0x5080ab(0x206),'ynkdq':function(_0x2a7bc5,_0x5572ff,_0x1268cf){return _0x2a7bc5(_0x5572ff,_0x1268cf);},'rtuuo':'POST','KkDNz':_0x5080ab(0x210),'ycBsy':_0x5080ab(0x1d2),'Wfjdp':_0x5080ab(0x22e),'lwkIl':_0x5080ab(0x1e0),'VKCrZ':function(_0x49a1b6,_0x15f3ca){return _0x49a1b6(_0x15f3ca);}},_0x4c9a4f=document[_0x5080ab(0x218)](_0x5d01e4[_0x5080ab(0x1de)]),_0x4e5428=document['getElementById'](_0x5080ab(0x1c0)),_0x3eb533=_0x5d01e4[_0x5080ab(0x1ec)](getAuthToken);try{const _0x3aa15c=backendAddress+_0x5080ab(0x1e9),_0x416d89={'apiKey':_0x3eb533,'term':_0x4104e8};console[_0x5080ab(0x1f8)](_0x5d01e4[_0x5080ab(0x234)],_0x3eb533);const _0x5661d3=await _0x5d01e4[_0x5080ab(0x23e)](fetch,_0x3aa15c,{'method':_0x5d01e4[_0x5080ab(0x1fa)],'headers':{'Content-Type':_0x5d01e4[_0x5080ab(0x1d5)]},'body':JSON[_0x5080ab(0x23b)](_0x416d89)}),_0x478bde=await _0x5661d3[_0x5080ab(0x1c6)]();return _0x478bde[_0x5080ab(0x20a)];}catch(_0x23704d){return console[_0x5080ab(0x1bf)]('Error\x20fetching\x20suggestions:',_0x23704d),a0_0x227f6d[_0x5080ab(0x1bf)](_0x5d01e4[_0x5080ab(0x1e2)],_0x5d01e4[_0x5080ab(0x204)]),localStorage['removeItem'](_0x5d01e4[_0x5080ab(0x228)]),makeItDisappear(_0x4c9a4f),_0x5d01e4[_0x5080ab(0x20d)](makeItAppear,_0x4e5428),[];}}export async function updateBlacklistInDatabase(_0x435da0,_0x73b283){const _0x2e0c82=a0_0x488a,_0x4a9189={'CsOgp':function(_0x11bab4){return _0x11bab4();},'TfvSb':'application/json','laoWr':function(_0x19dc83,_0x1f4e79){return _0x19dc83(_0x1f4e79);},'cJiDD':'Error\x20fetching\x20suggestions:','IgPTH':_0x2e0c82(0x22e)};try{const _0x4b44e7=getEmail(),_0x584d80=_0x4a9189[_0x2e0c82(0x221)](getCompanyId),_0x2c154a=backendAddress+_0x2e0c82(0x1b8),_0x40a694={'companyId':_0x584d80,'email':_0x4b44e7,'name':_0x435da0[_0x2e0c82(0x1db)],'address':_0x435da0['address'],'action':_0x73b283},_0x319723=await fetch(_0x2c154a,{'method':_0x2e0c82(0x214),'headers':{'Content-Type':_0x4a9189[_0x2e0c82(0x225)]},'body':JSON['stringify'](_0x40a694)}),_0x1a8d11=await _0x319723[_0x2e0c82(0x1c6)]();return _0x4a9189['laoWr'](populateBlacklist,_0x1a8d11['blacklist']),_0x1a8d11[_0x2e0c82(0x1ee)];}catch(_0x20171){return console[_0x2e0c82(0x1bf)](_0x4a9189[_0x2e0c82(0x1c4)],_0x20171),a0_0x227f6d[_0x2e0c82(0x1bf)](_0x2e0c82(0x208),_0x4a9189['IgPTH']),[];}}document[a0_0x1400e0(0x218)](a0_0x1400e0(0x1b7))['addEventListener'](a0_0x1400e0(0x1f3),async _0x3b4e90=>{const _0x5882df=a0_0x1400e0,_0x4ab75c={'Yawnw':_0x5882df(0x1b7),'oApFp':_0x5882df(0x1fc),'lvumd':_0x5882df(0x239),'yqRnE':function(_0x45ddbf,_0x4ca9fd){return _0x45ddbf!==_0x4ca9fd;},'YNNPN':_0x5882df(0x1df),'AuelK':function(_0x500a69){return _0x500a69();},'gcrKm':function(_0x5cff5f,_0x51a474){return _0x5cff5f||_0x51a474;},'SrzyG':_0x5882df(0x212),'wCuIr':function(_0x8f4c9,_0x1878c9,_0x2b61ed){return _0x8f4c9(_0x1878c9,_0x2b61ed);},'VVSnC':_0x5882df(0x214),'dYSQf':_0x5882df(0x210),'IosJr':'An\x20error\x20occurred\x20while\x20changing\x20the\x20password.'};_0x3b4e90[_0x5882df(0x1fb)]();const _0x44aa55=document[_0x5882df(0x218)](_0x4ab75c[_0x5882df(0x207)]),_0x188a83=document['getElementById'](_0x4ab75c[_0x5882df(0x1d8)])[_0x5882df(0x227)],_0x1562b8=document[_0x5882df(0x218)](_0x4ab75c['lvumd'])['value'],_0x5999d7=document[_0x5882df(0x218)]('confirm-password')[_0x5882df(0x227)];if(_0x4ab75c[_0x5882df(0x238)](_0x1562b8,_0x5999d7)){a0_0x227f6d['warning'](_0x4ab75c[_0x5882df(0x1cf)]);return;}const _0xd1194=_0x4ab75c['AuelK'](getEmail),_0x184803=_0x4ab75c[_0x5882df(0x1c5)](getLoginKey);if(_0x4ab75c['gcrKm'](!_0xd1194,!_0x184803)){a0_0x227f6d[_0x5882df(0x1eb)](_0x4ab75c[_0x5882df(0x235)]);return;}try{const _0x14442c=await _0x4ab75c['wCuIr'](fetch,backendAddress+_0x5882df(0x1f0),{'method':_0x4ab75c['VVSnC'],'headers':{'Content-Type':_0x4ab75c[_0x5882df(0x1f9)]},'body':JSON['stringify']({'email':_0xd1194,'loginKey':_0x184803,'oldPassword':_0x188a83,'newPassword':_0x1562b8})}),_0x36af34=await _0x14442c[_0x5882df(0x1c6)]();_0x14442c['ok']?(a0_0x227f6d['success'](_0x5882df(0x1c9)),_0x44aa55[_0x5882df(0x23a)]()):a0_0x227f6d[_0x5882df(0x1bf)](_0x36af34[_0x5882df(0x1bf)]||_0x4ab75c[_0x5882df(0x20b)]);}catch(_0x1c1f72){console[_0x5882df(0x1bf)](_0x5882df(0x1f5),_0x1c1f72),a0_0x227f6d[_0x5882df(0x1bf)]('An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.');}});