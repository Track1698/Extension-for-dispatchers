const a0_0x2e91e5=a0_0x24a3;function a0_0x4c6f(){const _0x2a8b72=['hiNTd','address','OZyoq','style','from','QOoeM','uuQYL','8486690KmanWi','/api/autocomplete2','jRtYy','split','3zwhtfJ','application/json','reset','findIndex','hCbfu','items','ybLNp','blacklist','iJNmw','AqjQI','4287460qSYqcA','Error','aYiIK','submit','storage','qtlgR','ArrowRight','charAt','searches','SlqLv','name','MmcWT','OlmOW','RcEwd','Please\x20enter\x20a\x20valid\x20numeric\x20code.','min','removeItem','5485518RRGMSY','/api/autocomplete','3514828erWTAx','text','ZzYCp','1|0|3|5|4|2','preventDefault','value','input','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','stringify','success','TdDdC','382adEuNq','PVaNX','click','length','ZiRZz','jdQVo','YeIHK','authToken','TluvV','clipboardData','rYoLm','LTmjQ','lcOoN','RoSgR','Telegram\x20connection\x20failed.','cVkAD','4450VIcxKr','paste','userId','/api/changepassword','hyEMf','NiRLp','current-password','json','1317627bJdKUL','WfRZL','OWEok','kxNPZ','hLowq','searchFormElement','test','xjwis','VTBQr','verification-input','4537792wbqlZa','display','PGweP','Error\x20fetching\x20suggestions:','fVmRZ','ivCzU','focus','POST','Backspace','key','info','ArrowLeft','remove','getElementById','change-password-form','SQAZN','forEach','WrCYz','message','16WABKDx','map','addEventListener','error','rZZMi','oimMn','SDhXJ','vWjlZ','telegramPopup','rHMqi','eygtP','controlElement','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','new-password','biGSM','log','warning','/api/updateblacklist','/api/telegramcode','companyId','Telegram\x20connected\x20successfully!','telegramId','xzCjD','data','authToken:\x20'];a0_0x4c6f=function(){return _0x2a8b72;};return a0_0x4c6f();}(function(_0x3f08eb,_0xa5d421){const _0x2da233=a0_0x24a3,_0x58316f=_0x3f08eb();while(!![]){try{const _0x3f7c13=-parseInt(_0x2da233(0xf3))/0x1*(-parseInt(_0x2da233(0x103))/0x2)+-parseInt(_0x2da233(0xcb))/0x3*(-parseInt(_0x2da233(0xe8))/0x4)+parseInt(_0x2da233(0xd5))/0x5+-parseInt(_0x2da233(0xe6))/0x6+-parseInt(_0x2da233(0x115))/0x7+parseInt(_0x2da233(0x128))/0x8*(parseInt(_0x2da233(0x10b))/0x9)+-parseInt(_0x2da233(0xc7))/0xa;if(_0x3f7c13===_0xa5d421)break;else _0x58316f['push'](_0x58316f['shift']());}catch(_0x4c7a68){_0x58316f['push'](_0x58316f['shift']());}}}(a0_0x4c6f,0x72341));import a0_0x368918 from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x1920da=a0_0x24a3,_0x2c767a={'uuQYL':'Logged\x20out\x20successfully.','ZiRZz':'email','YeIHK':_0x1920da(0xd2),'QXCOt':_0x1920da(0xdd)};chrome[_0x1920da(0xd9)]['local'][_0x1920da(0x121)]([_0x1920da(0xfa),_0x2c767a[_0x1920da(0xf7)],_0x1920da(0xba),_0x2c767a[_0x1920da(0xf9)],_0x2c767a['QXCOt']],()=>{const _0x5337a3=_0x1920da;a0_0x368918[_0x5337a3(0x11f)](_0x2c767a[_0x5337a3(0xc6)]);});}export async function sendTelegramCodeToBackend(_0x21b420){const _0x439077=a0_0x24a3,_0x234c4f={'LTmjQ':function(_0x139335){return _0x139335();},'biGSM':function(_0x10a7db){return _0x10a7db();},'OZyoq':function(_0x417e86,_0x158b7e,_0x35e3fd){return _0x417e86(_0x158b7e,_0x35e3fd);},'oimMn':_0x439077(0xcc)};try{const _0x173e14=_0x234c4f[_0x439077(0xfe)](getEmail),_0x4438ca=_0x234c4f[_0x439077(0xb5)](getLoginKey),_0x3521ca=await _0x234c4f[_0x439077(0xc2)](fetch,backendAddress+_0x439077(0xb9),{'method':_0x439077(0x11c),'headers':{'Content-Type':_0x234c4f[_0x439077(0xac)]},'body':JSON[_0x439077(0xf0)]({'email':_0x173e14,'code':_0x21b420,'loginKey':_0x4438ca})}),_0x170f39=await _0x3521ca['json']();if(_0x170f39[_0x439077(0xf1)])saveToLocal(_0x439077(0xbc),_0x170f39[_0x439077(0x105)]),a0_0x368918['success'](_0x439077(0xbb));else throw new Error(_0x170f39[_0x439077(0x127)]||_0x439077(0x101));}catch(_0x5f253e){a0_0x368918[_0x439077(0xaa)](_0x5f253e[_0x439077(0x127)]);}}export function showTelegramPopup(){const _0x12fc90=a0_0x24a3,_0x38bda6={'OlmOW':function(_0x51a85f,_0x470cac){return _0x51a85f===_0x470cac;},'SQAZN':function(_0x1fa438,_0x53d3b5){return _0x1fa438>_0x53d3b5;},'fVmRZ':function(_0x510bcb,_0x439912){return _0x510bcb-_0x439912;},'AqjQI':function(_0x558e9b,_0x59d1c1){return _0x558e9b<_0x59d1c1;},'vWjlZ':function(_0x4db69e,_0x3ffcf7){return _0x4db69e+_0x3ffcf7;},'ivCzU':'start','xzCjD':_0x12fc90(0x120),'FRRCn':function(_0x37947b,_0xe6ac04){return _0x37947b-_0xe6ac04;},'lrQRg':function(_0x416fea,_0x45b160){return _0x416fea===_0x45b160;},'lcOoN':function(_0x10cc47,_0x230dfa){return _0x10cc47-_0x230dfa;},'QOoeM':function(_0x377b79){return _0x377b79();},'UMgEK':_0x12fc90(0xe9),'GIQaK':function(_0x412127,_0x4c8214){return _0x412127!==_0x4c8214;},'jdQVo':function(_0x286001,_0x18dea7){return _0x286001+_0x18dea7;},'hLowq':'keydown','xjwis':_0x12fc90(0xee),'hyEMf':_0x12fc90(0x104),'hCbfu':function(_0x54ee4c,_0x177c77){return _0x54ee4c(_0x177c77);},'WrCYz':_0x12fc90(0xe3),'jRtYy':'telegramVerifyButton','WfRZL':'flex','iJNmw':_0x12fc90(0x114),'qlipm':_0x12fc90(0xf5)},_0x145451=document[_0x12fc90(0x122)](_0x12fc90(0xaf)),_0x5038de=document['getElementById'](_0x38bda6[_0x12fc90(0xc9)]);_0x145451[_0x12fc90(0xc3)][_0x12fc90(0x116)]=_0x38bda6[_0x12fc90(0x10c)];const _0x489b0b=Array[_0x12fc90(0xc4)](document[_0x12fc90(0x122)](_0x38bda6[_0x12fc90(0xd3)])['children']);function _0x17ed2f(){const _0x33c6b6=_0x12fc90;return _0x489b0b[_0x33c6b6(0xce)](_0x52fff4=>_0x52fff4[_0x33c6b6(0xed)]==='');}_0x489b0b[_0x12fc90(0x125)]((_0x3ea50a,_0x2e3e82)=>{const _0x1e7adf=_0x12fc90;_0x3ea50a[_0x1e7adf(0x12a)](_0x38bda6[_0x1e7adf(0x10f)],_0xd48230=>{const _0x5f1bbe=_0x1e7adf;if(_0x38bda6[_0x5f1bbe(0xe1)](_0xd48230[_0x5f1bbe(0x11e)],_0x5f1bbe(0x11d))){_0x3ea50a['value']===''&&_0x38bda6['SQAZN'](_0x2e3e82,0x0)&&(_0x489b0b[_0x2e3e82-0x1][_0x5f1bbe(0xed)]='',_0x489b0b[_0x38bda6[_0x5f1bbe(0x119)](_0x2e3e82,0x1)][_0x5f1bbe(0x11b)]());for(let _0x27e38b=_0x2e3e82;_0x38bda6[_0x5f1bbe(0xd4)](_0x27e38b,_0x489b0b[_0x5f1bbe(0xf6)]);_0x27e38b++){let _0x372ad5=_0x489b0b[_0x38bda6[_0x5f1bbe(0xae)](_0x27e38b,0x1)]?_0x489b0b[_0x38bda6[_0x5f1bbe(0xae)](_0x27e38b,0x1)][_0x5f1bbe(0xed)]:'';_0x489b0b[_0x27e38b]['setRangeText'](_0x372ad5,0x0,0x1,_0x38bda6[_0x5f1bbe(0x11a)]);}}_0x38bda6[_0x5f1bbe(0xe1)](_0xd48230[_0x5f1bbe(0x11e)],_0x38bda6[_0x5f1bbe(0xbd)])&&_0x2e3e82>0x0&&_0x489b0b[_0x38bda6['FRRCn'](_0x2e3e82,0x1)]['focus'](),_0x38bda6['lrQRg'](_0xd48230[_0x5f1bbe(0x11e)],_0x5f1bbe(0xdb))&&_0x38bda6['AqjQI'](_0x2e3e82,_0x38bda6[_0x5f1bbe(0xff)](_0x489b0b[_0x5f1bbe(0xf6)],0x1))&&_0x489b0b[_0x2e3e82+0x1]['focus']();}),_0x3ea50a['addEventListener'](_0x38bda6[_0x1e7adf(0x112)],_0x3542ac=>{const _0x436ffa=_0x1e7adf;_0x3ea50a[_0x436ffa(0xed)]='';const _0xedc268=_0x38bda6[_0x436ffa(0xc5)](_0x17ed2f);_0x489b0b[_0xedc268][_0x436ffa(0xed)]=_0x3542ac[_0x436ffa(0xbe)];if(_0x38bda6[_0x436ffa(0xae)](_0xedc268,0x1)<_0x489b0b['length'])_0x489b0b[_0x38bda6['vWjlZ'](_0xedc268,0x1)]['focus']();}),_0x3ea50a[_0x1e7adf(0x12a)](_0x38bda6[_0x1e7adf(0x107)],_0x28e2a7=>{const _0x5064be=_0x1e7adf;_0x28e2a7[_0x5064be(0xec)]();const _0x2304e1=(event[_0x5064be(0xfc)]||window[_0x5064be(0xfc)])['getData'](_0x38bda6['UMgEK']),_0x2163ab=_0x38bda6[_0x5064be(0xc5)](_0x17ed2f),_0x383263=_0x38bda6['GIQaK'](_0x2163ab,-0x1)?Math[_0x5064be(0xe4)](_0x2e3e82,_0x2163ab):_0x2e3e82;for(let _0x36bf5a=0x0;_0x38bda6[_0x5064be(0xd4)](_0x38bda6[_0x5064be(0xae)](_0x383263,_0x36bf5a),_0x489b0b['length'])&&_0x38bda6[_0x5064be(0xd4)](_0x36bf5a,_0x2304e1[_0x5064be(0xf6)]);_0x36bf5a++){_0x489b0b[_0x383263+_0x36bf5a][_0x5064be(0xed)]=_0x2304e1[_0x5064be(0xdc)](_0x36bf5a);}_0x489b0b[Math[_0x5064be(0xe4)](_0x38bda6[_0x5064be(0xf8)](_0x383263,_0x2304e1[_0x5064be(0xf6)]),_0x38bda6[_0x5064be(0x119)](_0x489b0b[_0x5064be(0xf6)],0x1))]['focus']();}),_0x3ea50a['addEventListener'](_0x1e7adf(0x11b),()=>{const _0x309449=_0x1e7adf,_0x422aaa=_0x38bda6[_0x309449(0xc5)](_0x17ed2f);if(_0x38bda6['GIQaK'](_0x422aaa,-0x1)&&_0x38bda6[_0x309449(0x124)](_0x2e3e82,_0x422aaa))_0x489b0b[_0x422aaa]['focus']();});}),_0x5038de[_0x12fc90(0x12a)](_0x38bda6['qlipm'],function(){const _0x3d2bdd=_0x12fc90,_0x1d2a77=_0x489b0b[_0x3d2bdd(0x129)](_0x2fefbc=>_0x2fefbc['value'])['join']('');/^\d+$/[_0x3d2bdd(0x111)](_0x1d2a77)?_0x38bda6[_0x3d2bdd(0xcf)](sendTelegramCodeToBackend,_0x1d2a77):a0_0x368918[_0x3d2bdd(0xb7)](_0x38bda6[_0x3d2bdd(0x126)]);});}function a0_0x24a3(_0x54ad26,_0xac464f){const _0x4c6fe4=a0_0x4c6f();return a0_0x24a3=function(_0x24a3d7,_0x147333){_0x24a3d7=_0x24a3d7-0xaa;let _0x1f7bcf=_0x4c6fe4[_0x24a3d7];return _0x1f7bcf;},a0_0x24a3(_0x54ad26,_0xac464f);}export async function fetchSuggestions(_0xd100f3){const _0x37d256=a0_0x24a3,_0x5db68f={'VTBQr':function(_0x170e48){return _0x170e48();},'kbNTt':_0x37d256(0xbf),'KwesM':function(_0xca1d11,_0x218357,_0x47aeb8){return _0xca1d11(_0x218357,_0x47aeb8);},'qtlgR':_0x37d256(0xcc),'ARBRj':_0x37d256(0xeb),'eygtP':_0x37d256(0xef),'PGweP':function(_0x305a46,_0x338ed2){return _0x305a46(_0x338ed2);}},_0x1d93ab=document[_0x37d256(0x122)](_0x37d256(0x110)),_0x4b0eec=document[_0x37d256(0x122)](_0x37d256(0xb2)),_0x54c663=_0x5db68f[_0x37d256(0x113)](getAuthToken);try{const _0x4633c1=backendAddress+_0x37d256(0xe7),_0x32a457={'apiKey':_0x54c663,'term':_0xd100f3};console[_0x37d256(0xb6)](_0x5db68f['kbNTt'],_0x54c663);const _0x1d06b6=await _0x5db68f['KwesM'](fetch,_0x4633c1,{'method':'POST','headers':{'Content-Type':_0x5db68f[_0x37d256(0xda)]},'body':JSON[_0x37d256(0xf0)](_0x32a457)}),_0x3a7a3f=await _0x1d06b6[_0x37d256(0x10a)]();return _0x3a7a3f[_0x37d256(0xd0)];}catch(_0x4be7f9){const _0x5631fb=_0x5db68f['ARBRj'][_0x37d256(0xca)]('|');let _0x3eb71d=0x0;while(!![]){switch(_0x5631fb[_0x3eb71d++]){case'0':a0_0x368918[_0x37d256(0xaa)](_0x5db68f[_0x37d256(0xb1)],_0x37d256(0xd6));continue;case'1':console[_0x37d256(0xaa)](_0x37d256(0x118),_0x4be7f9);continue;case'2':return[];case'3':localStorage[_0x37d256(0xe5)](_0x37d256(0xfa));continue;case'4':_0x5db68f[_0x37d256(0x117)](makeItAppear,_0x4b0eec);continue;case'5':_0x5db68f[_0x37d256(0x117)](makeItDisappear,_0x1d93ab);continue;}break;}}}export async function fetchSuggestions2(_0x18c797){const _0x573951=a0_0x24a3,_0x4cb692={'OWEok':_0x573951(0x110),'rZZMi':_0x573951(0xb2),'ybLNp':function(_0x2e02a5,_0x897d1e,_0x557020){return _0x2e02a5(_0x897d1e,_0x557020);},'BYRBP':_0x573951(0x11c),'dCCOJ':_0x573951(0xcc),'TdDdC':_0x573951(0x118),'NiRLp':_0x573951(0xd6),'SlqLv':_0x573951(0xfa),'rYoLm':function(_0x331ade,_0x500980){return _0x331ade(_0x500980);}},_0x11348d=document[_0x573951(0x122)](_0x4cb692[_0x573951(0x10d)]),_0x1e6233=document[_0x573951(0x122)](_0x4cb692[_0x573951(0xab)]),_0x597098=getAuthToken();try{const _0x3b1a82=backendAddress+_0x573951(0xc8),_0x48a6a6={'apiKey':_0x597098,'term':_0x18c797},_0x4f5e53=await _0x4cb692[_0x573951(0xd1)](fetch,_0x3b1a82,{'method':_0x4cb692['BYRBP'],'headers':{'Content-Type':_0x4cb692['dCCOJ']},'body':JSON[_0x573951(0xf0)](_0x48a6a6)}),_0x6138f4=await _0x4f5e53['json']();return _0x6138f4;}catch(_0x161c82){return console[_0x573951(0xaa)](_0x4cb692[_0x573951(0xf2)],_0x161c82),a0_0x368918[_0x573951(0xaa)]('Please\x20reload\x20CentralDispatch\x20or\x20login\x20again',_0x4cb692[_0x573951(0x108)]),localStorage[_0x573951(0xe5)](_0x4cb692[_0x573951(0xde)]),_0x4cb692[_0x573951(0xfd)](makeItDisappear,_0x11348d),makeItAppear(_0x1e6233),[];}}export async function updateBlacklistInDatabase(_0x2df39c,_0x1bcffd){const _0x3bc840=a0_0x24a3,_0xe06690={'MmcWT':function(_0x3bd325,_0x245ffb,_0x47d11c){return _0x3bd325(_0x245ffb,_0x47d11c);},'tWNqZ':'application/json','VcaHn':'Error\x20fetching\x20suggestions:','KxTiw':'Error\x20adding\x20item\x20to\x20blacklist','ZzYCp':_0x3bc840(0xd6)};try{const _0x222816=getEmail(),_0x750619=getCompanyId(),_0x26e9fc=backendAddress+_0x3bc840(0xb8),_0x3ed84d={'companyId':_0x750619,'email':_0x222816,'name':_0x2df39c[_0x3bc840(0xdf)],'address':_0x2df39c[_0x3bc840(0xc1)],'action':_0x1bcffd},_0x2744fe=await _0xe06690[_0x3bc840(0xe0)](fetch,_0x26e9fc,{'method':_0x3bc840(0x11c),'headers':{'Content-Type':_0xe06690['tWNqZ']},'body':JSON['stringify'](_0x3ed84d)}),_0x23ecdf=await _0x2744fe[_0x3bc840(0x10a)]();return _0x23ecdf[_0x3bc840(0xd2)];}catch(_0x10140a){return console[_0x3bc840(0xaa)](_0xe06690['VcaHn'],_0x10140a),a0_0x368918[_0x3bc840(0xaa)](_0xe06690['KxTiw'],_0xe06690[_0x3bc840(0xea)]),[];}}document[a0_0x2e91e5(0x122)](a0_0x2e91e5(0x123))['addEventListener'](a0_0x2e91e5(0xd8),async _0x39dab7=>{const _0x4dcb13=a0_0x2e91e5,_0x1bf65c={'JcNXj':_0x4dcb13(0xb4),'kxNPZ':'confirm-password','aYiIK':'New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','hiNTd':function(_0x1cd6c2){return _0x1cd6c2();},'rHMqi':function(_0x3750c6){return _0x3750c6();},'cVkAD':function(_0x4ab792,_0x3994c6){return _0x4ab792||_0x3994c6;},'gHGTL':'User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','RcEwd':function(_0x2b0a84,_0x578f7f,_0x5be9a5){return _0x2b0a84(_0x578f7f,_0x5be9a5);},'RoSgR':'POST','PVaNX':_0x4dcb13(0xcc),'wIqhh':'Password\x20changed\x20successfully','WkXXK':_0x4dcb13(0xb3),'SDhXJ':'Error\x20changing\x20password:','TluvV':'An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.'};_0x39dab7[_0x4dcb13(0xec)]();const _0x261861=document['getElementById'](_0x4dcb13(0x123)),_0x28626c=document[_0x4dcb13(0x122)](_0x4dcb13(0x109))[_0x4dcb13(0xed)],_0xb78e8a=document[_0x4dcb13(0x122)](_0x1bf65c['JcNXj'])[_0x4dcb13(0xed)],_0x294933=document[_0x4dcb13(0x122)](_0x1bf65c[_0x4dcb13(0x10e)])['value'];if(_0xb78e8a!==_0x294933){a0_0x368918['warning'](_0x1bf65c[_0x4dcb13(0xd7)]);return;}const _0x3949b6=_0x1bf65c[_0x4dcb13(0xc0)](getEmail),_0x5f4a3d=_0x1bf65c[_0x4dcb13(0xb0)](getLoginKey);if(_0x1bf65c[_0x4dcb13(0x102)](!_0x3949b6,!_0x5f4a3d)){a0_0x368918[_0x4dcb13(0xb7)](_0x1bf65c['gHGTL']);return;}try{const _0x58d9cd=await _0x1bf65c[_0x4dcb13(0xe2)](fetch,backendAddress+_0x4dcb13(0x106),{'method':_0x1bf65c[_0x4dcb13(0x100)],'headers':{'Content-Type':_0x1bf65c[_0x4dcb13(0xf4)]},'body':JSON[_0x4dcb13(0xf0)]({'email':_0x3949b6,'loginKey':_0x5f4a3d,'oldPassword':_0x28626c,'newPassword':_0xb78e8a})}),_0x1f3d78=await _0x58d9cd[_0x4dcb13(0x10a)]();_0x58d9cd['ok']?(a0_0x368918['success'](_0x1bf65c['wIqhh']),_0x261861[_0x4dcb13(0xcd)]()):a0_0x368918[_0x4dcb13(0xaa)](_0x1f3d78[_0x4dcb13(0xaa)]||_0x1bf65c['WkXXK']);}catch(_0x315721){console[_0x4dcb13(0xaa)](_0x1bf65c[_0x4dcb13(0xad)],_0x315721),a0_0x368918[_0x4dcb13(0xaa)](_0x1bf65c[_0x4dcb13(0xfb)]);}});