const a0_0x37ee88=a0_0x26d5;(function(_0x4ed703,_0x1f3aa8){const _0x2a8b05=a0_0x26d5,_0x8097f9=_0x4ed703();while(!![]){try{const _0x59189c=parseInt(_0x2a8b05(0x110))/0x1+parseInt(_0x2a8b05(0x109))/0x2+parseInt(_0x2a8b05(0xcf))/0x3*(parseInt(_0x2a8b05(0xdd))/0x4)+parseInt(_0x2a8b05(0x141))/0x5*(parseInt(_0x2a8b05(0x131))/0x6)+parseInt(_0x2a8b05(0x132))/0x7+parseInt(_0x2a8b05(0x13c))/0x8+-parseInt(_0x2a8b05(0xcd))/0x9*(parseInt(_0x2a8b05(0xeb))/0xa);if(_0x59189c===_0x1f3aa8)break;else _0x8097f9['push'](_0x8097f9['shift']());}catch(_0x43015b){_0x8097f9['push'](_0x8097f9['shift']());}}}(a0_0x1b78,0x9c732));import a0_0x460fe4 from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';function a0_0x26d5(_0x41c9a8,_0x560db0){const _0x1b782d=a0_0x1b78();return a0_0x26d5=function(_0x26d5d4,_0x52fbef){_0x26d5d4=_0x26d5d4-0xc6;let _0x41cf0f=_0x1b782d[_0x26d5d4];return _0x41cf0f;},a0_0x26d5(_0x41c9a8,_0x560db0);}import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x1d9238=a0_0x26d5,_0xba746={'rQbot':_0x1d9238(0xcb),'PWPxF':_0x1d9238(0xf1)};chrome['storage'][_0x1d9238(0x137)][_0x1d9238(0x12c)](['authToken',_0xba746[_0x1d9238(0x106)],'companyId','blacklist','searches'],()=>{a0_0x460fe4['info'](_0xba746['rQbot']);});}function a0_0x1b78(){const _0x41fcbb=['3558430wzFzbG','from','MebLH','/api/changepassword','telegramVerifyButton','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','pLEcj','authToken:\x20','min','5|0|4|1|3|2','ViGce','blacklist','dtvRG','EzSqb','zfHoq','paste','flex','anMdk','Logged\x20out\x20successfully.','dqKmx','36190269ssEWbc','success','12JJkFbG','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','xLYUX','YVZph','wCmar','lDQWC','zdqBT','reset','VoRzt','MYsJq','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','GCNWB','voOnp','sChWV','1023432IVelwT','authToken','removeItem','aUUbF','hFRKZ','keydown','new-password','ZVCmZ','ghrGa','change-password-form','YVnPx','BxvYE','addEventListener','PqFZZ','10tQTzHX','submit','fUoIp','/api/autocomplete2','address','sbuYo','email','tBrvA','KWLEr','KSkJd','length','value','Telegram\x20connection\x20failed.','OPytG','POST','jcXMj','cZiXD','json','sTKmK','WtBno','data','vNBRn','MvMRx','IVmjd','Error','error','controlElement','PWPxF','ejMBZ','application/json','25504XbBexf','text','ArrowLeft','XUkcs','EobbS','join','Error\x20fetching\x20suggestions:','803375tJVHjF','/api/autocomplete','setRangeText','children','searchFormElement','yvBsP','Backspace','message','ahEdR','getElementById','HIMUJ','suazM','GkImR','charAt','mXfKv','clipboardData','warning','PKBVp','getData','input','dctmD','QAleg','CAcfr','findIndex','OSslO','XhnsD','Error\x20adding\x20item\x20to\x20blacklist','stringify','remove','forEach','focus','rwjWY','Ugjlz','6TdxTLM','7189259GWFVtJ','key','style','test','pmjAL','local','Telegram\x20connected\x20successfully!','log','confirm-password','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','8669416EQwzcT','items','LuRop','DHDCU','/api/telegramcode'];a0_0x1b78=function(){return _0x41fcbb;};return a0_0x1b78();}export async function sendTelegramCodeToBackend(_0x3705ee){const _0x48d261=a0_0x26d5,_0x15b421={'OSslO':function(_0x27ea6a){return _0x27ea6a();},'GCNWB':function(_0x4323e4,_0x1b4fe4,_0x5b52ec){return _0x4323e4(_0x1b4fe4,_0x5b52ec);},'rwjWY':_0x48d261(0xf9),'Ugjlz':'application/json','EobbS':'telegramId','dctmD':_0x48d261(0x138)};try{const _0x562aa5=getEmail(),_0x302696=_0x15b421[_0x48d261(0x128)](getLoginKey),_0x61f28d=await _0x15b421[_0x48d261(0xda)](fetch,backendAddress+_0x48d261(0x140),{'method':_0x15b421[_0x48d261(0x12f)],'headers':{'Content-Type':_0x15b421[_0x48d261(0x130)]},'body':JSON[_0x48d261(0x12b)]({'email':_0x562aa5,'code':_0x3705ee,'loginKey':_0x302696})}),_0x3ba1d5=await _0x61f28d[_0x48d261(0xfc)]();if(_0x3ba1d5[_0x48d261(0xce)])saveToLocal(_0x15b421[_0x48d261(0x10d)],_0x3ba1d5['userId']),a0_0x460fe4[_0x48d261(0xce)](_0x15b421[_0x48d261(0x124)]);else throw new Error(_0x3ba1d5['message']||_0x48d261(0xf7));}catch(_0x3ef514){a0_0x460fe4[_0x48d261(0x104)](_0x3ef514[_0x48d261(0x117)]);}}export function showTelegramPopup(){const _0x251298=a0_0x26d5,_0x13e56b={'pLEcj':function(_0xdf57f7,_0x35f28e){return _0xdf57f7<_0x35f28e;},'pmjAL':function(_0x1416a7,_0x27fa49){return _0x1416a7+_0x27fa49;},'voOnp':function(_0x2045a0,_0x7fbf38){return _0x2045a0+_0x7fbf38;},'DwUBJ':_0x251298(0x10a),'dtvRG':function(_0x13eb7b){return _0x13eb7b();},'sTKmK':function(_0x483dc2,_0x3a3dae){return _0x483dc2!==_0x3a3dae;},'XUkcs':function(_0x4e7205,_0x33d1a3){return _0x4e7205+_0x33d1a3;},'tkuRe':_0x251298(0x116),'sChWV':function(_0x2abfe4,_0x4b6c96){return _0x2abfe4===_0x4b6c96;},'YeCyO':'start','hEomp':_0x251298(0x10b),'MYsJq':function(_0x197ad1,_0x3438e7){return _0x197ad1>_0x3438e7;},'MebLH':function(_0x166c3f,_0x54c595){return _0x166c3f-_0x54c595;},'iWasq':function(_0x18644d,_0xcdb3c2){return _0x18644d===_0xcdb3c2;},'KWLEr':'ArrowRight','bcATG':function(_0x1fa3ca,_0x4f5206){return _0x1fa3ca<_0x4f5206;},'cZiXD':function(_0x3c3be7){return _0x3c3be7();},'EzSqb':_0x251298(0xe2),'PqFZZ':_0x251298(0x123),'KAryB':_0x251298(0xc8),'zdqBT':_0x251298(0x12e),'PmNSP':'telegramPopup','YVnPx':_0x251298(0xc9),'IVmjd':'verification-input','hFRKZ':'click'},_0x22bc07=document['getElementById'](_0x13e56b['PmNSP']),_0x52f711=document[_0x251298(0x119)](_0x251298(0x145));_0x22bc07[_0x251298(0x134)]['display']=_0x13e56b[_0x251298(0xe7)];const _0x450d11=Array[_0x251298(0x142)](document[_0x251298(0x119)](_0x13e56b[_0x251298(0x102)])[_0x251298(0x113)]);function _0x14ae2e(){const _0x1c8f40=_0x251298;return _0x450d11[_0x1c8f40(0x127)](_0x27518c=>_0x27518c[_0x1c8f40(0xf6)]==='');}_0x450d11[_0x251298(0x12d)]((_0x4d0162,_0x1e4ad4)=>{const _0x308d5f=_0x251298,_0x289374={'HIMUJ':function(_0x17f295,_0x189247){return _0x17f295===_0x189247;},'MvMRx':_0x13e56b['tkuRe'],'CAcfr':function(_0x498b1d,_0x217a82){const _0x47d251=a0_0x26d5;return _0x13e56b[_0x47d251(0xdc)](_0x498b1d,_0x217a82);},'sbuYo':function(_0x4fd13c,_0x209886){const _0x695f4=a0_0x26d5;return _0x13e56b[_0x695f4(0x10c)](_0x4fd13c,_0x209886);},'PKBVp':_0x13e56b['YeCyO'],'zfHoq':_0x13e56b['hEomp'],'anMdk':function(_0x3cae6f,_0x4b2cd9){const _0x5d892a=a0_0x26d5;return _0x13e56b[_0x5d892a(0xd8)](_0x3cae6f,_0x4b2cd9);},'DHDCU':function(_0x1851b5,_0x2ffd9a){const _0x438c60=a0_0x26d5;return _0x13e56b[_0x438c60(0x143)](_0x1851b5,_0x2ffd9a);},'WtBno':function(_0x484b42,_0x15ae41){return _0x13e56b['iWasq'](_0x484b42,_0x15ae41);},'ejMBZ':_0x13e56b[_0x308d5f(0xf3)],'OPytG':function(_0x3a520f,_0x22c66d){return _0x13e56b['bcATG'](_0x3a520f,_0x22c66d);},'LuRop':function(_0x196954){const _0xbd95e0=_0x308d5f;return _0x13e56b[_0xbd95e0(0xfb)](_0x196954);}};_0x4d0162[_0x308d5f(0xe9)](_0x13e56b[_0x308d5f(0xc6)],_0xec2ab6=>{const _0x5bb19d=_0x308d5f;if(_0x289374[_0x5bb19d(0x11a)](_0xec2ab6[_0x5bb19d(0x133)],_0x289374[_0x5bb19d(0x101)])){_0x289374[_0x5bb19d(0x126)](_0x4d0162[_0x5bb19d(0xf6)],'')&&_0x1e4ad4>0x0&&(_0x450d11[_0x1e4ad4-0x1][_0x5bb19d(0xf6)]='',_0x450d11[_0x1e4ad4-0x1]['focus']());for(let _0x30d20c=_0x1e4ad4;_0x30d20c<_0x450d11[_0x5bb19d(0xf5)];_0x30d20c++){let _0x4e8930=_0x450d11[_0x30d20c+0x1]?_0x450d11[_0x289374['sbuYo'](_0x30d20c,0x1)][_0x5bb19d(0xf6)]:'';_0x450d11[_0x30d20c][_0x5bb19d(0x112)](_0x4e8930,0x0,0x1,_0x289374[_0x5bb19d(0x121)]);}}_0xec2ab6[_0x5bb19d(0x133)]===_0x289374[_0x5bb19d(0xc7)]&&_0x289374[_0x5bb19d(0xca)](_0x1e4ad4,0x0)&&_0x450d11[_0x289374['DHDCU'](_0x1e4ad4,0x1)][_0x5bb19d(0x12e)](),_0x289374[_0x5bb19d(0xfe)](_0xec2ab6[_0x5bb19d(0x133)],_0x289374[_0x5bb19d(0x107)])&&_0x289374[_0x5bb19d(0xf8)](_0x1e4ad4,_0x289374[_0x5bb19d(0x13f)](_0x450d11['length'],0x1))&&_0x450d11[_0x289374[_0x5bb19d(0xf0)](_0x1e4ad4,0x1)][_0x5bb19d(0x12e)]();}),_0x4d0162[_0x308d5f(0xe9)](_0x13e56b[_0x308d5f(0xea)],_0x4b1986=>{const _0x301ea2=_0x308d5f;_0x4d0162[_0x301ea2(0xf6)]='';const _0x58f18e=_0x14ae2e();_0x450d11[_0x58f18e][_0x301ea2(0xf6)]=_0x4b1986[_0x301ea2(0xff)];if(_0x13e56b[_0x301ea2(0x147)](_0x13e56b[_0x301ea2(0x136)](_0x58f18e,0x1),_0x450d11[_0x301ea2(0xf5)]))_0x450d11[_0x13e56b[_0x301ea2(0xdb)](_0x58f18e,0x1)][_0x301ea2(0x12e)]();}),_0x4d0162[_0x308d5f(0xe9)](_0x13e56b['KAryB'],_0x3a5856=>{const _0x3f98f0=_0x308d5f;_0x3a5856['preventDefault']();const _0x4ed643=(event[_0x3f98f0(0x11f)]||window[_0x3f98f0(0x11f)])[_0x3f98f0(0x122)](_0x13e56b['DwUBJ']),_0x48ea08=_0x13e56b[_0x3f98f0(0x14d)](_0x14ae2e),_0x23a0bf=_0x13e56b[_0x3f98f0(0xfd)](_0x48ea08,-0x1)?Math[_0x3f98f0(0x149)](_0x1e4ad4,_0x48ea08):_0x1e4ad4;for(let _0x1bfa98=0x0;_0x13e56b[_0x3f98f0(0x10c)](_0x23a0bf,_0x1bfa98)<_0x450d11[_0x3f98f0(0xf5)]&&_0x13e56b['pLEcj'](_0x1bfa98,_0x4ed643[_0x3f98f0(0xf5)]);_0x1bfa98++){_0x450d11[_0x23a0bf+_0x1bfa98][_0x3f98f0(0xf6)]=_0x4ed643[_0x3f98f0(0x11d)](_0x1bfa98);}_0x450d11[Math[_0x3f98f0(0x149)](_0x13e56b[_0x3f98f0(0x136)](_0x23a0bf,_0x4ed643[_0x3f98f0(0xf5)]),_0x450d11[_0x3f98f0(0xf5)]-0x1)][_0x3f98f0(0x12e)]();}),_0x4d0162[_0x308d5f(0xe9)](_0x13e56b[_0x308d5f(0xd5)],()=>{const _0x1ccd0f=_0x308d5f,_0x2c25d1=_0x289374[_0x1ccd0f(0x13e)](_0x14ae2e);if(_0x2c25d1!==-0x1&&_0x289374[_0x1ccd0f(0xca)](_0x1e4ad4,_0x2c25d1))_0x450d11[_0x2c25d1][_0x1ccd0f(0x12e)]();});}),_0x52f711['addEventListener'](_0x13e56b[_0x251298(0xe1)],function(){const _0x482207=_0x251298,_0xb9cf94=_0x450d11['map'](_0x2dc104=>_0x2dc104[_0x482207(0xf6)])[_0x482207(0x10e)]('');/^\d+$/[_0x482207(0x135)](_0xb9cf94)?sendTelegramCodeToBackend(_0xb9cf94):a0_0x460fe4[_0x482207(0x120)]('Please\x20enter\x20a\x20valid\x20numeric\x20code.');});}export async function fetchSuggestions(_0x274069){const _0x1f95d5=a0_0x26d5,_0xccf356={'fUoIp':_0x1f95d5(0x114),'ViGce':_0x1f95d5(0x105),'dnBFq':function(_0x375de6,_0x1ddfbc,_0x54f895){return _0x375de6(_0x1ddfbc,_0x54f895);},'wCmar':_0x1f95d5(0xf9),'QAleg':_0x1f95d5(0x108),'suazM':_0x1f95d5(0x146),'qqgjW':_0x1f95d5(0x103)},_0x38827a=document[_0x1f95d5(0x119)](_0xccf356[_0x1f95d5(0xed)]),_0x373111=document[_0x1f95d5(0x119)](_0xccf356[_0x1f95d5(0x14b)]),_0x35ae1d=getAuthToken();try{const _0x46d60a=backendAddress+_0x1f95d5(0x111),_0x330345={'apiKey':_0x35ae1d,'term':_0x274069};console[_0x1f95d5(0x139)](_0x1f95d5(0x148),_0x35ae1d);const _0x1e4ace=await _0xccf356['dnBFq'](fetch,_0x46d60a,{'method':_0xccf356[_0x1f95d5(0xd3)],'headers':{'Content-Type':_0xccf356[_0x1f95d5(0x125)]},'body':JSON[_0x1f95d5(0x12b)](_0x330345)}),_0x4c7bd7=await _0x1e4ace['json']();return _0x4c7bd7[_0x1f95d5(0x13d)];}catch(_0x4ac155){const _0x593e83=_0x1f95d5(0x14a)['split']('|');let _0x1f6ca3=0x0;while(!![]){switch(_0x593e83[_0x1f6ca3++]){case'0':a0_0x460fe4[_0x1f95d5(0x104)](_0xccf356[_0x1f95d5(0x11b)],_0xccf356['qqgjW']);continue;case'1':makeItDisappear(_0x38827a);continue;case'2':return[];case'3':makeItAppear(_0x373111);continue;case'4':localStorage[_0x1f95d5(0xdf)]('authToken');continue;case'5':console[_0x1f95d5(0x104)](_0x1f95d5(0x10f),_0x4ac155);continue;}break;}}}export async function fetchSuggestions2(_0xc3e2cb){const _0x391d63=a0_0x26d5,_0xfb5b8={'ezdvl':_0x391d63(0x114),'jQkGt':'controlElement','tBrvA':function(_0x42e6e2,_0x5bd46c,_0x2f1003){return _0x42e6e2(_0x5bd46c,_0x2f1003);},'BxvYE':'POST','ZVCmZ':_0x391d63(0x108),'GkImR':_0x391d63(0x10f),'lDQWC':'Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','gwYGA':'Error','KSkJd':_0x391d63(0xde),'aUUbF':function(_0x11c5c8,_0x417e87){return _0x11c5c8(_0x417e87);},'mXfKv':function(_0x5eb248,_0xa0fb44){return _0x5eb248(_0xa0fb44);}},_0x5470b2=document[_0x391d63(0x119)](_0xfb5b8['ezdvl']),_0x14c826=document[_0x391d63(0x119)](_0xfb5b8['jQkGt']),_0xeb8c09=getAuthToken();try{const _0x1a3981=backendAddress+_0x391d63(0xee),_0x3d079c={'apiKey':_0xeb8c09,'term':_0xc3e2cb},_0x752cab=await _0xfb5b8[_0x391d63(0xf2)](fetch,_0x1a3981,{'method':_0xfb5b8[_0x391d63(0xe8)],'headers':{'Content-Type':_0xfb5b8[_0x391d63(0xe4)]},'body':JSON[_0x391d63(0x12b)](_0x3d079c)}),_0x6c760=await _0x752cab[_0x391d63(0xfc)]();return _0x6c760;}catch(_0x36a01b){return console['error'](_0xfb5b8[_0x391d63(0x11c)],_0x36a01b),a0_0x460fe4[_0x391d63(0x104)](_0xfb5b8[_0x391d63(0xd4)],_0xfb5b8['gwYGA']),localStorage[_0x391d63(0xdf)](_0xfb5b8[_0x391d63(0xf4)]),_0xfb5b8[_0x391d63(0xe0)](makeItDisappear,_0x5470b2),_0xfb5b8[_0x391d63(0x11e)](makeItAppear,_0x14c826),[];}}export async function updateBlacklistInDatabase(_0x2c9fbe,_0x210c0b){const _0x299146=a0_0x26d5,_0x1569c0={'jcXMj':function(_0x150aaf){return _0x150aaf();},'dFbuy':function(_0x52135a){return _0x52135a();},'rUnZK':'POST','ihiKA':_0x299146(0x108),'jxiYl':'Error\x20fetching\x20suggestions:','fEZZP':_0x299146(0x103)};try{const _0x341d12=_0x1569c0[_0x299146(0xfa)](getEmail),_0x5523b=_0x1569c0['dFbuy'](getCompanyId),_0x4b7458=backendAddress+'/api/updateblacklist',_0x28537c={'companyId':_0x5523b,'email':_0x341d12,'name':_0x2c9fbe['name'],'address':_0x2c9fbe[_0x299146(0xef)],'action':_0x210c0b},_0x5c32a1=await fetch(_0x4b7458,{'method':_0x1569c0['rUnZK'],'headers':{'Content-Type':_0x1569c0['ihiKA']},'body':JSON[_0x299146(0x12b)](_0x28537c)}),_0x33b6f4=await _0x5c32a1[_0x299146(0xfc)]();return _0x33b6f4[_0x299146(0x14c)];}catch(_0x8f0b67){return console[_0x299146(0x104)](_0x1569c0['jxiYl'],_0x8f0b67),a0_0x460fe4[_0x299146(0x104)](_0x299146(0x12a),_0x1569c0['fEZZP']),[];}}document[a0_0x37ee88(0x119)]('change-password-form')[a0_0x37ee88(0xe9)](a0_0x37ee88(0xec),async _0x286541=>{const _0x5ce30b=a0_0x37ee88,_0x20f617={'dqKmx':_0x5ce30b(0xe6),'vNBRn':'current-password','ghrGa':_0x5ce30b(0xe3),'YVZph':_0x5ce30b(0x13a),'xLYUX':function(_0x5b87b0,_0x82dcc1){return _0x5b87b0!==_0x82dcc1;},'VoRzt':_0x5ce30b(0x13b),'XhnsD':function(_0x392155){return _0x392155();},'yvBsP':_0x5ce30b(0xd0),'ahEdR':function(_0x5af937,_0x4fb6c0,_0x2a8ca4){return _0x5af937(_0x4fb6c0,_0x2a8ca4);},'HSKko':_0x5ce30b(0xf9),'pDYcj':'Password\x20changed\x20successfully','JoxPm':'An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','nAoqI':_0x5ce30b(0xd9)};_0x286541['preventDefault']();const _0x5e463c=document['getElementById'](_0x20f617[_0x5ce30b(0xcc)]),_0x25d120=document[_0x5ce30b(0x119)](_0x20f617[_0x5ce30b(0x100)])[_0x5ce30b(0xf6)],_0xb81608=document['getElementById'](_0x20f617[_0x5ce30b(0xe5)])[_0x5ce30b(0xf6)],_0x5326aa=document[_0x5ce30b(0x119)](_0x20f617[_0x5ce30b(0xd2)])[_0x5ce30b(0xf6)];if(_0x20f617[_0x5ce30b(0xd1)](_0xb81608,_0x5326aa)){a0_0x460fe4[_0x5ce30b(0x120)](_0x20f617[_0x5ce30b(0xd7)]);return;}const _0x2d278b=_0x20f617[_0x5ce30b(0x129)](getEmail),_0x23ba32=getLoginKey();if(!_0x2d278b||!_0x23ba32){a0_0x460fe4[_0x5ce30b(0x120)](_0x20f617[_0x5ce30b(0x115)]);return;}try{const _0x4b2633=await _0x20f617[_0x5ce30b(0x118)](fetch,backendAddress+_0x5ce30b(0x144),{'method':_0x20f617['HSKko'],'headers':{'Content-Type':_0x5ce30b(0x108)},'body':JSON['stringify']({'email':_0x2d278b,'loginKey':_0x23ba32,'oldPassword':_0x25d120,'newPassword':_0xb81608})}),_0x62ee7d=await _0x4b2633[_0x5ce30b(0xfc)]();_0x4b2633['ok']?(a0_0x460fe4['success'](_0x20f617['pDYcj']),_0x5e463c[_0x5ce30b(0xd6)]()):a0_0x460fe4[_0x5ce30b(0x104)](_0x62ee7d[_0x5ce30b(0x104)]||_0x20f617['JoxPm']);}catch(_0x2f3a9b){console['error']('Error\x20changing\x20password:',_0x2f3a9b),a0_0x460fe4[_0x5ce30b(0x104)](_0x20f617['nAoqI']);}});