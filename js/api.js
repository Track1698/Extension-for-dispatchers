const a0_0x1c881c=a0_0x46fa;(function(_0x2b34e9,_0x5a083b){const _0x51d50a=a0_0x46fa,_0x291d83=_0x2b34e9();while(!![]){try{const _0x3ef606=parseInt(_0x51d50a(0x82))/0x1+parseInt(_0x51d50a(0xea))/0x2*(parseInt(_0x51d50a(0xa1))/0x3)+parseInt(_0x51d50a(0xcb))/0x4+parseInt(_0x51d50a(0xc9))/0x5*(parseInt(_0x51d50a(0x7e))/0x6)+parseInt(_0x51d50a(0x8b))/0x7*(-parseInt(_0x51d50a(0xe3))/0x8)+-parseInt(_0x51d50a(0xc0))/0x9+-parseInt(_0x51d50a(0x6b))/0xa*(parseInt(_0x51d50a(0xb1))/0xb);if(_0x3ef606===_0x5a083b)break;else _0x291d83['push'](_0x291d83['shift']());}catch(_0x408239){_0x291d83['push'](_0x291d83['shift']());}}}(a0_0x22c1,0x78ed6));import a0_0xff1b8e from'./alerts.js';function a0_0x22c1(){const _0x4a47ec=['390746LCbVgb','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','click','SkduQ','change-password-form','Error\x20fetching\x20suggestions:','Error\x20changing\x20password:','yehQt','lFQRu','toLowerCase','start','Password\x20changed\x20successfully','text','CwKLb','message','AwHqt','controlElement','34840KjXaWE','Telegram\x20connected\x20successfully!','preventDefault','keydown','value','application/json','XuoIh','qyPkc','KNNTL','bHLlR','join','searches','UJQvs','mLeIZ','FZrKl','Logged\x20out\x20successfully.','BPwBL','ZolqK','telegramVerifyButton','6eQSQPm','trim','length','addEventListener','607646jqOSCX','ViNNn','reset','new-password','OYXUR','DZEcD','findIndex','/api/autocomplete2','storage','2338IDeXcB','Telegram\x20connection\x20failed.','map','OPJvn','keys','bvgqt','iWEOy','POST','from','display','region','split','ftKmB','min','json','Please\x20enter\x20a\x20valid\x20numeric\x20code.','ArrowLeft','all','lPZju','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','forEach','Error','3vPJWZT','ArrowRight','telegramId','Jyfaf','error','telegramPopup','wYGGE','RflHs','UZOBf','nXJUW','focus','test','confirm-password','/api/autocomplete','tGpoj','authToken','781ZzXnUU','/api/changepassword','PzDij','EXnTw','data','5|4|2|0|3|1','HPPIv','setRangeText','city','removeItem','find','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','ZYAYO','FZFrS','YJwms','3495069JlIEBR','style','yxWfd','subscription','success','\x20-\x20','/api/telegramcode','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','SHAeS','3755495neHbME','items','1355036UhQMNo','gdMzt','GTnCR','xmUqm','verification-input','mjFLR','paste','PORRK','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','ktrOI','key','dmsFC','CvVZl','QycNH','UGWSH','pKeCu','quMYz','clipboardData','WZuGc','warning','zbXEk','info','veldC','searchFormElement','18248Kdwlen','log','ErqZP','remove','stringify','cnsWc','getElementById'];a0_0x22c1=function(){return _0x4a47ec;};return a0_0x22c1();}import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';import{getAuthToken,getEmail,getLoginKey,getCompanyName}from'./state.js';function a0_0x46fa(_0x169331,_0x4120de){const _0x22c1d3=a0_0x22c1();return a0_0x46fa=function(_0x46fa86,_0x60b2ff){_0x46fa86=_0x46fa86-0x64;let _0x117164=_0x22c1d3[_0x46fa86];return _0x117164;},a0_0x46fa(_0x169331,_0x4120de);}import{makeItDisappear,makeItAppear,regions}from'./utils.js';export function logout(){const _0x1a7fcb=a0_0x46fa,_0x214f3c={'cnsWc':_0x1a7fcb(0x7a),'ZolqK':'blacklist','PzDij':'loginKey','nXJUW':'accountType'};chrome[_0x1a7fcb(0x8a)]['local'][_0x1a7fcb(0xe6)](['companyName',_0x214f3c[_0x1a7fcb(0x7c)],_0x1a7fcb(0x76),_0x214f3c[_0x1a7fcb(0xb3)],_0x214f3c[_0x1a7fcb(0xaa)],_0x1a7fcb(0xc3)],()=>{const _0x53a7b1=_0x1a7fcb;a0_0xff1b8e[_0x53a7b1(0xe0)](_0x214f3c[_0x53a7b1(0xe8)]);});}export async function sendTelegramCodeToBackend(_0x5ec120){const _0x54945b=a0_0x46fa,_0x225ddc={'CwKLb':function(_0x59017b){return _0x59017b();},'yehQt':function(_0x468510,_0x50ffce,_0x4e2e3c){return _0x468510(_0x50ffce,_0x4e2e3c);},'xmUqm':_0x54945b(0x70),'BPwBL':_0x54945b(0xa3),'veldC':_0x54945b(0x6c),'WZuGc':_0x54945b(0x8c)};try{const _0x2d4f0f=getEmail(),_0xfe60=_0x225ddc[_0x54945b(0x67)](getLoginKey),_0xce0a57=await _0x225ddc[_0x54945b(0xf1)](fetch,backendAddress+_0x54945b(0xc6),{'method':_0x54945b(0x92),'headers':{'Content-Type':_0x225ddc[_0x54945b(0xce)]},'body':JSON['stringify']({'email':_0x2d4f0f,'code':_0x5ec120,'loginKey':_0xfe60})}),_0x133307=await _0xce0a57['json']();if(_0x133307['success'])saveToLocal(_0x225ddc[_0x54945b(0x7b)],_0x133307['userId']),a0_0xff1b8e[_0x54945b(0xc4)](_0x225ddc[_0x54945b(0xe1)]);else throw new Error(_0x133307[_0x54945b(0x68)]||_0x225ddc[_0x54945b(0xdd)]);}catch(_0x58ca3a){a0_0xff1b8e['error'](_0x58ca3a['message']);}}export function showTelegramPopup(){const _0x1334d2=a0_0x46fa,_0xc5ff94={'OYXUR':function(_0x341ff5,_0x457018){return _0x341ff5===_0x457018;},'Jyfaf':function(_0x12a72c,_0xcba710){return _0x12a72c>_0xcba710;},'HPPIv':function(_0x80c1d2,_0x44b129){return _0x80c1d2-_0x44b129;},'mLeIZ':function(_0x403455,_0x17cd3e){return _0x403455<_0x17cd3e;},'OPJvn':function(_0x43c008,_0x57f008){return _0x43c008+_0x57f008;},'usWkN':_0x1334d2(0x64),'MARNC':function(_0x355f90,_0x5b602a){return _0x355f90===_0x5b602a;},'YJwms':function(_0x3e3e86,_0x1dd501){return _0x3e3e86>_0x1dd501;},'cqgQO':function(_0x52e501,_0x5801a7){return _0x52e501-_0x5801a7;},'GTnCR':_0x1334d2(0xa2),'SHAeS':function(_0xb99676,_0x3d81e6){return _0xb99676+_0x3d81e6;},'tGpoj':function(_0x247fc2,_0x4b1ba4){return _0x247fc2+_0x4b1ba4;},'HpPou':_0x1334d2(0x66),'KNNTL':function(_0x207d28){return _0x207d28();},'TTwJr':function(_0x37ed60,_0x5960ea){return _0x37ed60!==_0x5960ea;},'TvUYy':function(_0x252c06,_0x281ef9){return _0x252c06<_0x281ef9;},'WsrLr':function(_0x4f0d3e,_0x40f366){return _0x4f0d3e+_0x40f366;},'ViNNn':function(_0x1f3fd7,_0x562501){return _0x1f3fd7-_0x562501;},'lPZju':function(_0x26cbde){return _0x26cbde();},'FZrKl':_0x1334d2(0x6e),'kdcxM':'input','dmsFC':_0x1334d2(0xd1),'UJQvs':function(_0x10491c,_0x29b81f){return _0x10491c(_0x29b81f);},'EXnTw':_0x1334d2(0x9a),'zhbPT':_0x1334d2(0x7d),'bvgqt':'flex','bHLlR':_0x1334d2(0xcf),'lFQRu':_0x1334d2(0xec)},_0xb7e251=document[_0x1334d2(0xe9)](_0x1334d2(0xa6)),_0x37b69a=document[_0x1334d2(0xe9)](_0xc5ff94['zhbPT']);_0xb7e251[_0x1334d2(0xc1)][_0x1334d2(0x94)]=_0xc5ff94[_0x1334d2(0x90)];const _0x15d05b=Array[_0x1334d2(0x93)](document['getElementById'](_0xc5ff94[_0x1334d2(0x74)])['children']);function _0x1cdcd5(){const _0x4c11b1=_0x1334d2;return _0x15d05b[_0x4c11b1(0x88)](_0x4c8d57=>_0x4c8d57[_0x4c11b1(0x6f)]==='');}_0x15d05b[_0x1334d2(0x9f)]((_0x215407,_0x3a9f1f)=>{const _0x4422a8=_0x1334d2;_0x215407['addEventListener'](_0xc5ff94[_0x4422a8(0x79)],_0x26ad45=>{const _0x122148=_0x4422a8;if(_0xc5ff94[_0x122148(0x86)](_0x26ad45[_0x122148(0xd5)],'Backspace')){_0xc5ff94[_0x122148(0x86)](_0x215407[_0x122148(0x6f)],'')&&_0xc5ff94['Jyfaf'](_0x3a9f1f,0x0)&&(_0x15d05b[_0xc5ff94[_0x122148(0xb7)](_0x3a9f1f,0x1)][_0x122148(0x6f)]='',_0x15d05b[_0xc5ff94[_0x122148(0xb7)](_0x3a9f1f,0x1)][_0x122148(0xab)]());for(let _0x1fc734=_0x3a9f1f;_0xc5ff94[_0x122148(0x78)](_0x1fc734,_0x15d05b[_0x122148(0x80)]);_0x1fc734++){let _0x264383=_0x15d05b[_0x1fc734+0x1]?_0x15d05b[_0xc5ff94[_0x122148(0x8e)](_0x1fc734,0x1)][_0x122148(0x6f)]:'';_0x15d05b[_0x1fc734][_0x122148(0xb8)](_0x264383,0x0,0x1,_0xc5ff94['usWkN']);}}_0xc5ff94['MARNC'](_0x26ad45[_0x122148(0xd5)],_0x122148(0x9b))&&_0xc5ff94[_0x122148(0xbf)](_0x3a9f1f,0x0)&&_0x15d05b[_0xc5ff94['cqgQO'](_0x3a9f1f,0x1)][_0x122148(0xab)](),_0x26ad45[_0x122148(0xd5)]===_0xc5ff94[_0x122148(0xcd)]&&_0xc5ff94['mLeIZ'](_0x3a9f1f,_0xc5ff94['HPPIv'](_0x15d05b['length'],0x1))&&_0x15d05b[_0xc5ff94[_0x122148(0x8e)](_0x3a9f1f,0x1)][_0x122148(0xab)]();}),_0x215407[_0x4422a8(0x81)](_0xc5ff94['kdcxM'],_0x1082fa=>{const _0x13f647=_0x4422a8;_0x215407[_0x13f647(0x6f)]='';const _0x313c5d=_0x1cdcd5();_0x15d05b[_0x313c5d][_0x13f647(0x6f)]=_0x1082fa[_0x13f647(0xb5)];if(_0xc5ff94[_0x13f647(0xc8)](_0x313c5d,0x1)<_0x15d05b[_0x13f647(0x80)])_0x15d05b[_0xc5ff94['tGpoj'](_0x313c5d,0x1)][_0x13f647(0xab)]();}),_0x215407[_0x4422a8(0x81)](_0xc5ff94[_0x4422a8(0xd6)],_0x16b7df=>{const _0x322a84=_0x4422a8;_0x16b7df['preventDefault']();const _0x8f18b6=(event[_0x322a84(0xdc)]||window['clipboardData'])['getData'](_0xc5ff94['HpPou']),_0x290e06=_0xc5ff94[_0x322a84(0x73)](_0x1cdcd5),_0x41c607=_0xc5ff94['TTwJr'](_0x290e06,-0x1)?Math[_0x322a84(0x98)](_0x3a9f1f,_0x290e06):_0x3a9f1f;for(let _0x4f8ef5=0x0;_0xc5ff94['TvUYy'](_0xc5ff94[_0x322a84(0xaf)](_0x41c607,_0x4f8ef5),_0x15d05b[_0x322a84(0x80)])&&_0x4f8ef5<_0x8f18b6[_0x322a84(0x80)];_0x4f8ef5++){_0x15d05b[_0xc5ff94['WsrLr'](_0x41c607,_0x4f8ef5)][_0x322a84(0x6f)]=_0x8f18b6['charAt'](_0x4f8ef5);}_0x15d05b[Math[_0x322a84(0x98)](_0xc5ff94[_0x322a84(0xc8)](_0x41c607,_0x8f18b6[_0x322a84(0x80)]),_0xc5ff94[_0x322a84(0x83)](_0x15d05b[_0x322a84(0x80)],0x1))][_0x322a84(0xab)]();}),_0x215407['addEventListener'](_0x4422a8(0xab),()=>{const _0x723724=_0x4422a8,_0x24e6cc=_0xc5ff94[_0x723724(0x9d)](_0x1cdcd5);if(_0x24e6cc!==-0x1&&_0xc5ff94[_0x723724(0xa4)](_0x3a9f1f,_0x24e6cc))_0x15d05b[_0x24e6cc][_0x723724(0xab)]();});}),_0x37b69a['addEventListener'](_0xc5ff94[_0x1334d2(0xf2)],function(){const _0x18c1cd=_0x1334d2,_0x41e363=_0x15d05b['map'](_0x5cf8b7=>_0x5cf8b7[_0x18c1cd(0x6f)])['join']('');/^\d+$/[_0x18c1cd(0xac)](_0x41e363)?_0xc5ff94[_0x18c1cd(0x77)](sendTelegramCodeToBackend,_0x41e363):a0_0xff1b8e[_0x18c1cd(0xde)](_0xc5ff94[_0x18c1cd(0xb4)]);});}export async function fetchSuggestions(_0x45f59a){const _0x42b24e=a0_0x46fa,_0x47af3a={'qyPkc':_0x42b24e(0x6a),'PORRK':'authToken:\x20','FZFrS':_0x42b24e(0x70),'RflHs':_0x42b24e(0xa0),'wYGGE':'authToken','GTLCv':function(_0x4d96e4,_0x4f9c14){return _0x4d96e4(_0x4f9c14);},'QycNH':_0x42b24e(0xef),'bMAwe':function(_0x5e62d9,_0x26a48a){return _0x5e62d9(_0x26a48a);}},_0x3f1fe5=document['getElementById'](_0x42b24e(0xe2)),_0x1bdc11=document[_0x42b24e(0xe9)](_0x47af3a[_0x42b24e(0x72)]),_0x578f0c=getAuthToken();try{const _0x9e6d26=backendAddress+_0x42b24e(0xae),_0x1e7097={'apiKey':_0x578f0c,'term':_0x45f59a};console[_0x42b24e(0xe4)](_0x47af3a[_0x42b24e(0xd2)],_0x578f0c);const _0x3cb004=await fetch(_0x9e6d26,{'method':_0x42b24e(0x92),'headers':{'Content-Type':_0x47af3a[_0x42b24e(0xbe)]},'body':JSON[_0x42b24e(0xe7)](_0x1e7097)}),_0x255f39=await _0x3cb004[_0x42b24e(0x99)]();return _0x255f39[_0x42b24e(0xca)];}catch(_0x55af28){const _0x4a40f2='4|1|2|5|3|0'[_0x42b24e(0x96)]('|');let _0x4a462e=0x0;while(!![]){switch(_0x4a40f2[_0x4a462e++]){case'0':return[];case'1':a0_0xff1b8e[_0x42b24e(0xa5)](_0x42b24e(0xbc),_0x47af3a[_0x42b24e(0xa8)]);continue;case'2':localStorage[_0x42b24e(0xba)](_0x47af3a[_0x42b24e(0xa7)]);continue;case'3':_0x47af3a['GTLCv'](makeItAppear,_0x1bdc11);continue;case'4':console[_0x42b24e(0xa5)](_0x47af3a[_0x42b24e(0xd8)],_0x55af28);continue;case'5':_0x47af3a['bMAwe'](makeItDisappear,_0x3f1fe5);continue;}break;}}}export async function fetchSuggestions2(_0x4a7982=null,_0x9d0539=a0_0x1c881c(0x9c)){const _0xc098e6=a0_0x1c881c,_0x38bc34={'yxWfd':_0xc098e6(0xe2),'XuoIh':_0xc098e6(0x6a),'TpabC':function(_0xf04d26,_0x1d12a5){return _0xf04d26<=_0x1d12a5;},'iWEOy':function(_0x1cfef7,_0x227487){return _0x1cfef7!==_0x227487;},'AwHqt':_0xc098e6(0xb9),'DZEcD':_0xc098e6(0x95),'UZOBf':function(_0x494469,_0x4b4b1b){return _0x494469===_0x4b4b1b;},'hcjWW':function(_0x5c1a82){return _0x5c1a82();},'gdMzt':function(_0x3e9904,_0xde1b2c,_0x20580a){return _0x3e9904(_0xde1b2c,_0x20580a);},'wLhQx':_0xc098e6(0x70),'HREyQ':_0xc098e6(0xb6),'ktrOI':function(_0x3b1363,_0x39cbc1){return _0x3b1363(_0x39cbc1);},'nSUZa':_0xc098e6(0xb0),'CvVZl':_0xc098e6(0xbc),'quMYz':'Error\x20fetching\x20suggestions:'},_0x269471=document[_0xc098e6(0xe9)](_0x38bc34[_0xc098e6(0xc2)]),_0x71a1c9=document[_0xc098e6(0xe9)](_0x38bc34[_0xc098e6(0x71)]),_0x4566ed=_0x4a7982?_0x4a7982[_0xc098e6(0x7f)]()[_0xc098e6(0xf3)]():'';if((!_0x4a7982||_0x38bc34['TpabC'](_0x4566ed[_0xc098e6(0x80)],0x2))&&_0x38bc34['iWEOy'](_0x9d0539,_0x38bc34[_0xc098e6(0x69)])){const _0x3049a5=Object[_0xc098e6(0x8f)](regions)[_0xc098e6(0x8d)](_0x56a9f4=>({'states':''+regions[_0x56a9f4][_0xc098e6(0x75)](',\x20'),'name':_0x56a9f4,'state':'','zip':''}));return{'type':_0x38bc34['DZEcD'],'data':_0x3049a5};}if((!_0x4a7982||_0x4566ed[_0xc098e6(0x80)]<=0x2)&&_0x38bc34[_0xc098e6(0xa9)](_0x9d0539,_0x38bc34['AwHqt']))return{'type':_0x38bc34[_0xc098e6(0x69)],'data':[]};const _0x4a9c67=Object[_0xc098e6(0x8f)](regions)[_0xc098e6(0xbb)](_0x294273=>_0x294273['toLowerCase']()===_0x4566ed);if(_0x4a9c67&&_0x38bc34[_0xc098e6(0x91)](_0x9d0539,_0xc098e6(0xb9)))return{'type':_0x38bc34[_0xc098e6(0x87)],'data':[{'suggestion':_0x4a9c67+_0xc098e6(0xc5)+regions[_0x4a9c67]['join'](',\x20'),'type':_0x38bc34['DZEcD']}]};const _0x3c20d0=_0x38bc34['hcjWW'](getEmail),_0x407c11=_0x38bc34['hcjWW'](getLoginKey);try{const _0x161a08=backendAddress+_0xc098e6(0x89),_0x5b372a={'loginKey':_0x407c11,'email':_0x3c20d0,'term':_0x4a7982,'type':_0x9d0539},_0x489f30=await _0x38bc34[_0xc098e6(0xcc)](fetch,_0x161a08,{'method':_0xc098e6(0x92),'headers':{'Content-Type':_0x38bc34['wLhQx']},'body':JSON[_0xc098e6(0xe7)](_0x5b372a)}),_0x5e3e85=await _0x489f30['json']();return _0x5e3e85;}catch(_0x30c04a){const _0x30b692=_0x38bc34['HREyQ']['split']('|');let _0x5161d8=0x0;while(!![]){switch(_0x30b692[_0x5161d8++]){case'0':_0x38bc34[_0xc098e6(0xd4)](makeItDisappear,_0x269471);continue;case'1':return{'type':_0x38bc34[_0xc098e6(0x87)],'data':[]};case'2':localStorage[_0xc098e6(0xba)](_0x38bc34['nSUZa']);continue;case'3':makeItAppear(_0x71a1c9);continue;case'4':a0_0xff1b8e[_0xc098e6(0xa5)](_0x38bc34[_0xc098e6(0xd7)],_0xc098e6(0xa0));continue;case'5':console['error'](_0x38bc34[_0xc098e6(0xdb)],_0x30c04a);continue;}break;}}}document['getElementById'](a0_0x1c881c(0xee))['addEventListener']('submit',async _0x2c2af0=>{const _0x2b3e6c=a0_0x1c881c,_0x53a9a6={'FWxRe':'current-password','ftKmB':_0x2b3e6c(0x85),'mjFLR':_0x2b3e6c(0xad),'pKeCu':function(_0x571564,_0x2bfef4){return _0x571564!==_0x2bfef4;},'SkduQ':function(_0x5c5d0f,_0x157665){return _0x5c5d0f||_0x157665;},'ErqZP':_0x2b3e6c(0xeb),'zbXEk':'POST','PAHBw':_0x2b3e6c(0x70),'ZYAYO':_0x2b3e6c(0x65),'UGWSH':_0x2b3e6c(0xf0),'ekmQH':_0x2b3e6c(0xc7)};_0x2c2af0[_0x2b3e6c(0x6d)]();const _0x22f1f0=document[_0x2b3e6c(0xe9)](_0x2b3e6c(0xee)),_0xb4acc2=document[_0x2b3e6c(0xe9)](_0x53a9a6['FWxRe'])['value'],_0x48924e=document[_0x2b3e6c(0xe9)](_0x53a9a6[_0x2b3e6c(0x97)])[_0x2b3e6c(0x6f)],_0x529c13=document['getElementById'](_0x53a9a6[_0x2b3e6c(0xd0)])[_0x2b3e6c(0x6f)];if(_0x53a9a6[_0x2b3e6c(0xda)](_0x48924e,_0x529c13)){a0_0xff1b8e[_0x2b3e6c(0xde)](_0x2b3e6c(0xd3));return;}const _0x394a1f=getEmail(),_0x4179c4=getLoginKey();if(_0x53a9a6[_0x2b3e6c(0xed)](!_0x394a1f,!_0x4179c4)){a0_0xff1b8e[_0x2b3e6c(0xde)](_0x53a9a6[_0x2b3e6c(0xe5)]);return;}try{const _0x200751=await fetch(backendAddress+_0x2b3e6c(0xb2),{'method':_0x53a9a6[_0x2b3e6c(0xdf)],'headers':{'Content-Type':_0x53a9a6['PAHBw']},'body':JSON[_0x2b3e6c(0xe7)]({'email':_0x394a1f,'loginKey':_0x4179c4,'oldPassword':_0xb4acc2,'newPassword':_0x48924e})}),_0x4978b6=await _0x200751[_0x2b3e6c(0x99)]();_0x200751['ok']?(a0_0xff1b8e[_0x2b3e6c(0xc4)](_0x53a9a6[_0x2b3e6c(0xbd)]),_0x22f1f0[_0x2b3e6c(0x84)]()):a0_0xff1b8e[_0x2b3e6c(0xa5)](_0x4978b6[_0x2b3e6c(0xa5)]||_0x2b3e6c(0x9e));}catch(_0x492d16){console[_0x2b3e6c(0xa5)](_0x53a9a6[_0x2b3e6c(0xd9)],_0x492d16),a0_0xff1b8e['error'](_0x53a9a6['ekmQH']);}});