const a0_0x30e1de=a0_0x1363;(function(_0x3daded,_0x36f434){const _0x457ad0=a0_0x1363,_0xb8e1ce=_0x3daded();while(!![]){try{const _0x1ae7f0=parseInt(_0x457ad0(0x195))/0x1*(-parseInt(_0x457ad0(0x182))/0x2)+-parseInt(_0x457ad0(0x194))/0x3*(-parseInt(_0x457ad0(0x176))/0x4)+-parseInt(_0x457ad0(0x1c8))/0x5*(parseInt(_0x457ad0(0x144))/0x6)+parseInt(_0x457ad0(0x1ac))/0x7*(-parseInt(_0x457ad0(0x159))/0x8)+parseInt(_0x457ad0(0x14f))/0x9*(-parseInt(_0x457ad0(0x1c2))/0xa)+-parseInt(_0x457ad0(0x187))/0xb*(parseInt(_0x457ad0(0x185))/0xc)+parseInt(_0x457ad0(0x152))/0xd*(parseInt(_0x457ad0(0x1ca))/0xe);if(_0x1ae7f0===_0x36f434)break;else _0xb8e1ce['push'](_0xb8e1ce['shift']());}catch(_0x3c3ded){_0xb8e1ce['push'](_0xb8e1ce['shift']());}}}(a0_0x2a8d,0xc64ae));import a0_0x2a3941 from'./alerts.js';function a0_0x1363(_0x19ad00,_0x57f995){const _0x2a8dfa=a0_0x2a8d();return a0_0x1363=function(_0x136385,_0x4f24c8){_0x136385=_0x136385-0x138;let _0x4f471b=_0x2a8dfa[_0x136385];return _0x4f471b;},a0_0x1363(_0x19ad00,_0x57f995);}import{saveToLocal,getFromLocal}from'./storage.js';import{backendAddress}from'./main.js';import{setAuthToken,getAuthToken,setEmail,getEmail,setCompanyId,setLoginKey,getLoginKey,getCompanyId}from'./state.js';function a0_0x2a8d(){const _0xb0d64d=['from','json','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','Logged\x20out\x20successfully.','3|0|5|4|1|2','uNIgG','charAt','POST','split','ureTh','lPUOG','IFidN','current-password','UvoBJ','ZmQog','77vCnnmm','setRangeText','Telegram\x20connected\x20successfully!','elUqI','efuKt','start','key','QIZyr','remove','flex','EXsdQ','yFWxx','uuEno','IGDPU','mzzVG','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','new-password','UvUqW','info','eXjht','rLLyu','message','10iFFqiY','/api/telegramcode','preventDefault','ADlFa','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','JLvph','30LNIzql','findIndex','56OqsUVv','usWsh','getData','BFWwb','change-password-form','log','Backspace','confirm-password','Telegram\x20connection\x20failed.','OODlu','style','searchFormElement','zuRBN','stringify','ecTXH','665538RabYdT','addEventListener','children','value','ArrowLeft','UhVZJ','YSuOp','HQkBY','Error','forEach','ratQL','8678952RYYNaw','MAWxu','/api/autocomplete','13684177ewHMMv','/api/changepassword','JIFIA','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','display','items','phghV','92048DcjFAd','oAWkP','pOZrZ','submit','WEXNT','ilAur','length','input','qhjDu','name','join','text','map','IQqnc','hztpo','WDBxf','error','TryCq','pJNvK','authToken','nowfc','lJCQT','keydown','Cvyae','focus','ArrowRight','controlElement','oNtvv','test','49096xGcnyT','KdXTV','tMeML','tYFpJ','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','email','getElementById','aHCWw','clipboardData','application/json','storage','Error\x20adding\x20item\x20to\x20blacklist','2576114FDckVo','eBTVa','warning','6324rpeOVF','success','9691Dkiccc','HbtFA','companyId','verification-input','Error\x20fetching\x20suggestions:','SpHKB','gxHFv','cTAPQ','searches','min','blacklist','telegramId','NrWaQ','27bxcZId','1lTTfsa','xvxse','address','rkvfD','iXKSK','ozkcG','OzHmc','jYbIi'];a0_0x2a8d=function(){return _0xb0d64d;};return a0_0x2a8d();}import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x444411=a0_0x1363,_0x50eac7={'tYFpJ':_0x444411(0x16c),'uuEno':_0x444411(0x17b),'JLvph':'blacklist','doDAN':_0x444411(0x18f)};chrome[_0x444411(0x180)]['local'][_0x444411(0x1b4)]([_0x50eac7[_0x444411(0x179)],_0x50eac7[_0x444411(0x1b8)],_0x444411(0x189),_0x50eac7[_0x444411(0x1c7)],_0x50eac7['doDAN']],()=>{const _0x135375=_0x444411;a0_0x2a3941[_0x135375(0x1be)](_0x135375(0x1a0));});}export async function sendTelegramCodeToBackend(_0x1ee9e0){const _0x568212=a0_0x1363,_0x1d163c={'zuRBN':function(_0x1d2fbe){return _0x1d2fbe();},'XUMin':function(_0x365ec5,_0x3ee8b5,_0x9fe08c){return _0x365ec5(_0x3ee8b5,_0x9fe08c);},'iHdlo':'POST','IGDPU':_0x568212(0x17f),'lJCQT':_0x568212(0x192),'nyxhx':_0x568212(0x1ae)};try{const _0x4858b8=_0x1d163c[_0x568212(0x141)](getEmail),_0x1e8d66=_0x1d163c[_0x568212(0x141)](getLoginKey),_0x2f5b64=await _0x1d163c['XUMin'](fetch,backendAddress+_0x568212(0x1c3),{'method':_0x1d163c['iHdlo'],'headers':{'Content-Type':_0x1d163c[_0x568212(0x1b9)]},'body':JSON[_0x568212(0x142)]({'email':_0x4858b8,'code':_0x1ee9e0,'loginKey':_0x1e8d66})}),_0x1d5a9f=await _0x2f5b64[_0x568212(0x19e)]();if(_0x1d5a9f[_0x568212(0x186)])saveToLocal(_0x1d163c[_0x568212(0x16e)],_0x1d5a9f['userId']),a0_0x2a3941[_0x568212(0x186)](_0x1d163c['nyxhx']);else throw new Error(_0x1d5a9f[_0x568212(0x1c1)]||_0x568212(0x13d));}catch(_0x2652de){a0_0x2a3941[_0x568212(0x169)](_0x2652de[_0x568212(0x1c1)]);}}export function showTelegramPopup(){const _0x3669a6=a0_0x1363,_0x2f32f7={'yFWxx':function(_0x555505,_0x390e2a){return _0x555505===_0x390e2a;},'QIZyr':function(_0x5d9b5d,_0x4b2cfb){return _0x5d9b5d>_0x4b2cfb;},'MAWxu':function(_0x2f697a,_0x4e21c0){return _0x2f697a-_0x4e21c0;},'EXsdQ':_0x3669a6(0x1b1),'rLLyu':_0x3669a6(0x148),'cTAPQ':function(_0x4f4cc2,_0x12fe77){return _0x4f4cc2<_0x12fe77;},'gxHFv':function(_0x48ef66){return _0x48ef66();},'WDBxf':function(_0x405540,_0x2049f0){return _0x405540+_0x2049f0;},'vWxEC':function(_0x347db0,_0x17b29b){return _0x347db0!==_0x17b29b;},'KftbG':_0x3669a6(0x16f),'ecTXH':_0x3669a6(0x160),'JIFIA':'paste','oAWkP':function(_0x54142e,_0x55e184){return _0x54142e(_0x55e184);},'eXjht':'Please\x20enter\x20a\x20valid\x20numeric\x20code.','rzpaX':'telegramPopup','IFidN':'telegramVerifyButton','HbtFA':_0x3669a6(0x1b5),'JYTbs':_0x3669a6(0x18a),'TryCq':'click'},_0x48f11d=document[_0x3669a6(0x17c)](_0x2f32f7['rzpaX']),_0x8daed1=document['getElementById'](_0x2f32f7[_0x3669a6(0x1a8)]);_0x48f11d[_0x3669a6(0x13f)][_0x3669a6(0x156)]=_0x2f32f7[_0x3669a6(0x188)];const _0x3c6c26=Array[_0x3669a6(0x19d)](document[_0x3669a6(0x17c)](_0x2f32f7['JYTbs'])[_0x3669a6(0x146)]);function _0x2dc364(){const _0x20075b=_0x3669a6;return _0x3c6c26[_0x20075b(0x1c9)](_0xd105cd=>_0xd105cd[_0x20075b(0x147)]==='');}_0x3c6c26[_0x3669a6(0x14d)]((_0x274b2f,_0x41a3fa)=>{const _0x464f7c=_0x3669a6,_0x5953ea={'ratQL':function(_0x34014d,_0x39bbae){const _0x46d090=a0_0x1363;return _0x2f32f7[_0x46d090(0x1b7)](_0x34014d,_0x39bbae);},'OODlu':function(_0x49fc7e,_0x4ddcbb){const _0x582043=a0_0x1363;return _0x2f32f7[_0x582043(0x1b3)](_0x49fc7e,_0x4ddcbb);},'UhVZJ':function(_0x26ec86,_0x35b9a2){return _0x2f32f7['MAWxu'](_0x26ec86,_0x35b9a2);},'whEKe':function(_0x561776,_0x4cb2c7){return _0x561776+_0x4cb2c7;},'iXKSK':_0x2f32f7[_0x464f7c(0x1b6)],'xkJFz':function(_0xd219e,_0x4ab7a1){return _0xd219e===_0x4ab7a1;},'ozkcG':_0x2f32f7[_0x464f7c(0x1c0)],'IQqnc':function(_0x22d96c,_0x3ae704){const _0x3a6224=_0x464f7c;return _0x2f32f7[_0x3a6224(0x1b7)](_0x22d96c,_0x3ae704);},'oNtvv':function(_0x5dbd98,_0x37cb63){const _0x2588da=_0x464f7c;return _0x2f32f7[_0x2588da(0x18e)](_0x5dbd98,_0x37cb63);},'KdXTV':function(_0x3b6697,_0xb94a){const _0x193077=_0x464f7c;return _0x2f32f7[_0x193077(0x150)](_0x3b6697,_0xb94a);},'Cvyae':function(_0x47f864){const _0x3dbab9=_0x464f7c;return _0x2f32f7[_0x3dbab9(0x18d)](_0x47f864);},'HQkBY':_0x464f7c(0x164),'fwvtA':function(_0x295433,_0x3bdf2f){const _0x1776e4=_0x464f7c;return _0x2f32f7[_0x1776e4(0x168)](_0x295433,_0x3bdf2f);},'uNIgG':function(_0x266deb,_0x1c9333){return _0x2f32f7['cTAPQ'](_0x266deb,_0x1c9333);},'WEXNT':function(_0x12a1e4,_0x556cf7){const _0x13f39e=_0x464f7c;return _0x2f32f7[_0x13f39e(0x168)](_0x12a1e4,_0x556cf7);},'qhjDu':function(_0x237b18,_0x55eab2){return _0x2f32f7['MAWxu'](_0x237b18,_0x55eab2);},'YSuOp':function(_0xcba3ea){const _0x4eee32=_0x464f7c;return _0x2f32f7[_0x4eee32(0x18d)](_0xcba3ea);},'lPUOG':function(_0x4ff38f,_0x28c384){return _0x2f32f7['vWxEC'](_0x4ff38f,_0x28c384);}};_0x274b2f[_0x464f7c(0x145)](_0x2f32f7['KftbG'],_0x81503=>{const _0x1b7701=_0x464f7c;if(_0x5953ea[_0x1b7701(0x14e)](_0x81503[_0x1b7701(0x1b2)],_0x1b7701(0x13b))){_0x274b2f[_0x1b7701(0x147)]===''&&_0x5953ea[_0x1b7701(0x13e)](_0x41a3fa,0x0)&&(_0x3c6c26[_0x41a3fa-0x1][_0x1b7701(0x147)]='',_0x3c6c26[_0x5953ea[_0x1b7701(0x149)](_0x41a3fa,0x1)][_0x1b7701(0x171)]());for(let _0x2d3479=_0x41a3fa;_0x2d3479<_0x3c6c26['length'];_0x2d3479++){let _0x6b7ebe=_0x3c6c26[_0x2d3479+0x1]?_0x3c6c26[_0x5953ea['whEKe'](_0x2d3479,0x1)]['value']:'';_0x3c6c26[_0x2d3479][_0x1b7701(0x1ad)](_0x6b7ebe,0x0,0x1,_0x5953ea[_0x1b7701(0x199)]);}}_0x5953ea['xkJFz'](_0x81503[_0x1b7701(0x1b2)],_0x5953ea[_0x1b7701(0x19a)])&&_0x5953ea['OODlu'](_0x41a3fa,0x0)&&_0x3c6c26[_0x41a3fa-0x1][_0x1b7701(0x171)](),_0x5953ea[_0x1b7701(0x166)](_0x81503[_0x1b7701(0x1b2)],_0x1b7701(0x172))&&_0x5953ea[_0x1b7701(0x174)](_0x41a3fa,_0x5953ea[_0x1b7701(0x177)](_0x3c6c26[_0x1b7701(0x15f)],0x1))&&_0x3c6c26[_0x5953ea['whEKe'](_0x41a3fa,0x1)][_0x1b7701(0x171)]();}),_0x274b2f[_0x464f7c(0x145)](_0x2f32f7[_0x464f7c(0x143)],_0x53e30d=>{const _0x1e729e=_0x464f7c;_0x274b2f[_0x1e729e(0x147)]='';const _0x175d03=_0x5953ea[_0x1e729e(0x170)](_0x2dc364);_0x3c6c26[_0x175d03]['value']=_0x53e30d['data'];if(_0x175d03+0x1<_0x3c6c26['length'])_0x3c6c26[_0x175d03+0x1][_0x1e729e(0x171)]();}),_0x274b2f['addEventListener'](_0x2f32f7[_0x464f7c(0x154)],_0x2b56b2=>{const _0x14da69=_0x464f7c;_0x2b56b2['preventDefault']();const _0x4e49a2=(event[_0x14da69(0x17e)]||window[_0x14da69(0x17e)])[_0x14da69(0x1cc)](_0x5953ea[_0x14da69(0x14b)]),_0x4800a8=_0x5953ea[_0x14da69(0x170)](_0x2dc364),_0x11cba1=_0x4800a8!==-0x1?Math[_0x14da69(0x190)](_0x41a3fa,_0x4800a8):_0x41a3fa;for(let _0x172d6c=0x0;_0x5953ea[_0x14da69(0x174)](_0x5953ea['fwvtA'](_0x11cba1,_0x172d6c),_0x3c6c26[_0x14da69(0x15f)])&&_0x5953ea[_0x14da69(0x1a2)](_0x172d6c,_0x4e49a2[_0x14da69(0x15f)]);_0x172d6c++){_0x3c6c26[_0x5953ea['whEKe'](_0x11cba1,_0x172d6c)][_0x14da69(0x147)]=_0x4e49a2[_0x14da69(0x1a3)](_0x172d6c);}_0x3c6c26[Math['min'](_0x5953ea[_0x14da69(0x15d)](_0x11cba1,_0x4e49a2['length']),_0x5953ea[_0x14da69(0x161)](_0x3c6c26[_0x14da69(0x15f)],0x1))][_0x14da69(0x171)]();}),_0x274b2f[_0x464f7c(0x145)]('focus',()=>{const _0x5f3a45=_0x464f7c,_0x2688da=_0x5953ea[_0x5f3a45(0x14a)](_0x2dc364);if(_0x5953ea[_0x5f3a45(0x1a7)](_0x2688da,-0x1)&&_0x5953ea[_0x5f3a45(0x13e)](_0x41a3fa,_0x2688da))_0x3c6c26[_0x2688da][_0x5f3a45(0x171)]();});}),_0x8daed1[_0x3669a6(0x145)](_0x2f32f7[_0x3669a6(0x16a)],function(){const _0x387f9a=_0x3669a6,_0x2c6430=_0x3c6c26[_0x387f9a(0x165)](_0x412968=>_0x412968[_0x387f9a(0x147)])[_0x387f9a(0x163)]('');/^\d+$/[_0x387f9a(0x175)](_0x2c6430)?_0x2f32f7[_0x387f9a(0x15a)](sendTelegramCodeToBackend,_0x2c6430):a0_0x2a3941['warning'](_0x2f32f7[_0x387f9a(0x1bf)]);});}export async function fetchSuggestions(_0x5d6cb0){const _0x188c5d=a0_0x1363,_0x5d4099={'ureTh':_0x188c5d(0x173),'jYbIi':function(_0x4d945e){return _0x4d945e();},'BOkIp':'authToken:\x20','tMeML':function(_0x5529df,_0x1d5a6b,_0x2877c5){return _0x5529df(_0x1d5a6b,_0x2877c5);},'ADlFa':_0x188c5d(0x1a4),'pOZrZ':_0x188c5d(0x17f),'UvUqW':_0x188c5d(0x1a1),'ZmQog':_0x188c5d(0x17a),'phghV':function(_0x67baf4,_0x9201a4){return _0x67baf4(_0x9201a4);},'elUqI':_0x188c5d(0x18b)},_0x5843b3=document[_0x188c5d(0x17c)](_0x188c5d(0x140)),_0x4e894b=document[_0x188c5d(0x17c)](_0x5d4099[_0x188c5d(0x1a6)]),_0x3fb905=_0x5d4099[_0x188c5d(0x19c)](getAuthToken);try{const _0x8cf1fe=backendAddress+_0x188c5d(0x151),_0x1a5190={'apiKey':_0x3fb905,'term':_0x5d6cb0};console[_0x188c5d(0x13a)](_0x5d4099['BOkIp'],_0x3fb905);const _0x33f0ac=await _0x5d4099[_0x188c5d(0x178)](fetch,_0x8cf1fe,{'method':_0x5d4099[_0x188c5d(0x1c5)],'headers':{'Content-Type':_0x5d4099[_0x188c5d(0x15b)]},'body':JSON[_0x188c5d(0x142)](_0x1a5190)}),_0x39e2ef=await _0x33f0ac[_0x188c5d(0x19e)]();return _0x39e2ef[_0x188c5d(0x157)];}catch(_0x50b0d3){const _0x5c6dc6=_0x5d4099[_0x188c5d(0x1bd)][_0x188c5d(0x1a5)]('|');let _0x45c315=0x0;while(!![]){switch(_0x5c6dc6[_0x45c315++]){case'0':a0_0x2a3941[_0x188c5d(0x169)](_0x5d4099[_0x188c5d(0x1ab)],_0x188c5d(0x14c));continue;case'1':_0x5d4099[_0x188c5d(0x158)](makeItAppear,_0x4e894b);continue;case'2':return[];case'3':console['error'](_0x5d4099[_0x188c5d(0x1af)],_0x50b0d3);continue;case'4':makeItDisappear(_0x5843b3);continue;case'5':localStorage['removeItem'](_0x188c5d(0x16c));continue;}break;}}}export async function updateBlacklistInDatabase(_0x57d02e,_0x30db5a){const _0x509635=a0_0x1363,_0x50238c={'eBTVa':function(_0x212431){return _0x212431();},'UvoBJ':function(_0x103736,_0x3eed24,_0x47a5b5){return _0x103736(_0x3eed24,_0x47a5b5);},'aHCWw':_0x509635(0x1a4),'BFWwb':_0x509635(0x17f),'hztpo':function(_0x10ff03,_0x54c343){return _0x10ff03(_0x54c343);},'nowfc':_0x509635(0x181),'kayvg':_0x509635(0x14c)};try{const _0x12df86=_0x50238c[_0x509635(0x183)](getEmail),_0xba0f38=_0x50238c[_0x509635(0x183)](getCompanyId),_0x18567c=backendAddress+'/api/updateblacklist',_0x36ad04={'companyId':_0xba0f38,'email':_0x12df86,'name':_0x57d02e[_0x509635(0x162)],'address':_0x57d02e[_0x509635(0x197)],'action':_0x30db5a},_0xf63656=await _0x50238c[_0x509635(0x1aa)](fetch,_0x18567c,{'method':_0x50238c[_0x509635(0x17d)],'headers':{'Content-Type':_0x50238c[_0x509635(0x138)]},'body':JSON[_0x509635(0x142)](_0x36ad04)}),_0x4f7d61=await _0xf63656['json']();return _0x50238c[_0x509635(0x167)](populateBlacklist,_0x4f7d61[_0x509635(0x191)]),_0x4f7d61['blacklist'];}catch(_0x585208){return console[_0x509635(0x169)]('Error\x20fetching\x20suggestions:',_0x585208),a0_0x2a3941[_0x509635(0x169)](_0x50238c[_0x509635(0x16d)],_0x50238c['kayvg']),[];}}document[a0_0x30e1de(0x17c)](a0_0x30e1de(0x139))[a0_0x30e1de(0x145)](a0_0x30e1de(0x15c),async _0x361b9d=>{const _0x11c51a=a0_0x30e1de,_0x8a3bf6={'pJNvK':_0x11c51a(0x139),'NrWaQ':_0x11c51a(0x1bc),'efuKt':_0x11c51a(0x13c),'mzzVG':function(_0x55c4a8,_0x48a691){return _0x55c4a8!==_0x48a691;},'rkvfD':_0x11c51a(0x1bb),'usWsh':function(_0x14b086,_0x355ef5){return _0x14b086||_0x355ef5;},'SpHKB':_0x11c51a(0x19f),'OzHmc':_0x11c51a(0x1a4),'quQPg':_0x11c51a(0x17f),'gMAWp':'Password\x20changed\x20successfully','xvxse':_0x11c51a(0x1c6),'ilAur':'Error\x20changing\x20password:'};_0x361b9d[_0x11c51a(0x1c4)]();const _0x43ad18=document['getElementById'](_0x8a3bf6[_0x11c51a(0x16b)]),_0x522a91=document[_0x11c51a(0x17c)](_0x11c51a(0x1a9))['value'],_0xb9be75=document[_0x11c51a(0x17c)](_0x8a3bf6[_0x11c51a(0x193)])[_0x11c51a(0x147)],_0x57bdfb=document['getElementById'](_0x8a3bf6[_0x11c51a(0x1b0)])[_0x11c51a(0x147)];if(_0x8a3bf6[_0x11c51a(0x1ba)](_0xb9be75,_0x57bdfb)){a0_0x2a3941[_0x11c51a(0x184)](_0x8a3bf6[_0x11c51a(0x198)]);return;}const _0x34f031=getEmail(),_0x27537e=getLoginKey();if(_0x8a3bf6[_0x11c51a(0x1cb)](!_0x34f031,!_0x27537e)){a0_0x2a3941[_0x11c51a(0x184)](_0x8a3bf6[_0x11c51a(0x18c)]);return;}try{const _0x17828e=await fetch(backendAddress+_0x11c51a(0x153),{'method':_0x8a3bf6[_0x11c51a(0x19b)],'headers':{'Content-Type':_0x8a3bf6['quQPg']},'body':JSON[_0x11c51a(0x142)]({'email':_0x34f031,'loginKey':_0x27537e,'oldPassword':_0x522a91,'newPassword':_0xb9be75})}),_0x5c2d6b=await _0x17828e[_0x11c51a(0x19e)]();_0x17828e['ok']?(a0_0x2a3941[_0x11c51a(0x186)](_0x8a3bf6['gMAWp']),_0x43ad18['reset']()):a0_0x2a3941[_0x11c51a(0x169)](_0x5c2d6b[_0x11c51a(0x169)]||_0x8a3bf6[_0x11c51a(0x196)]);}catch(_0x3c44d8){console[_0x11c51a(0x169)](_0x8a3bf6[_0x11c51a(0x15e)],_0x3c44d8),a0_0x2a3941[_0x11c51a(0x169)](_0x11c51a(0x155));}});