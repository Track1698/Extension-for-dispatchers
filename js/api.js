const a0_0x48f417=a0_0x8019;(function(_0x344ed1,_0x58a610){const _0x872d0=a0_0x8019,_0x3b4104=_0x344ed1();while(!![]){try{const _0x39e04d=parseInt(_0x872d0(0x172))/0x1*(parseInt(_0x872d0(0x15d))/0x2)+parseInt(_0x872d0(0x193))/0x3+parseInt(_0x872d0(0x124))/0x4*(-parseInt(_0x872d0(0x168))/0x5)+-parseInt(_0x872d0(0x191))/0x6*(-parseInt(_0x872d0(0x142))/0x7)+parseInt(_0x872d0(0x11e))/0x8*(parseInt(_0x872d0(0x189))/0x9)+-parseInt(_0x872d0(0x13c))/0xa*(parseInt(_0x872d0(0x174))/0xb)+-parseInt(_0x872d0(0x136))/0xc;if(_0x39e04d===_0x58a610)break;else _0x3b4104['push'](_0x3b4104['shift']());}catch(_0x1d7942){_0x3b4104['push'](_0x3b4104['shift']());}}}(a0_0x5e31,0x47174));import a0_0x1d2a46 from'./alerts.js';import{saveToLocal}from'./storage.js';import{backendAddress}from'./main.js';function a0_0x8019(_0x4e8a08,_0x3a7495){const _0x5e31f3=a0_0x5e31();return a0_0x8019=function(_0x8019c0,_0x289e76){_0x8019c0=_0x8019c0-0x110;let _0xbe48c7=_0x5e31f3[_0x8019c0];return _0xbe48c7;},a0_0x8019(_0x4e8a08,_0x3a7495);}import{getAuthToken,getEmail,getLoginKey,getCompanyId}from'./state.js';function a0_0x5e31(){const _0x4df97b=['fjFwG','warning','SZMMI','kDTTf','1935590vsYskD','qKWuG','IhKor','/api/telegramcode','click','ZuJzJ','7GNPbed','text','dAlis','VVDZV','Error','YxnOy','searches','User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','AedCC','tSvyX','json','TnsmV','keydown','dInBt','lyATt','getElementById','clipboardData','qaSBQ','controlElement','SrBPe','Error\x20fetching\x20suggestions:','/api/changepassword','min','dVXtx','AkgOD','split','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','2dZOKnY','from','new-password','start','submit','XTHhK','QfNfO','jtGTu','value','BUXnG','PNvtw','85205lYaYQM','application/json','LGmwj','paste','iBnbJ','change-password-form','preventDefault','/api/updateblacklist','authToken','POST','32702KfyHOF','Error\x20adding\x20item\x20to\x20blacklist','11drkUZY','length','blacklist','confirm-password','Error\x20changing\x20password:','error','key','OCIar','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','UJnDX','/api/autocomplete2','Backspace','removeItem','iYqYJ','An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','stringify','YGOhJ','email','telegramId','vqJEb','name','9JwdpWn','nWxJe','address','OOPCR','ArrowRight','tntOi','QjIjW','Thbrm','1038174jzRrNw','setRangeText','1577508UtXRAD','message','zDxJC','IwvUG','searchFormElement','test','rCBlq','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','YCJaW','success','children','PbbnT','eJpdo','5|3|2|1|0|4','log','aaQeH','fTFcB','WbCFu','uvvce','focus','ArrowLeft','addEventListener','4483112cFTsTr','cCsBy','BpPcn','findIndex','Telegram\x20connected\x20successfully!','znSry','128mfolaH','fAKml','Password\x20changed\x20successfully','kwFeC','natLw','map','LXudO','cZPWr','userId','BXrxe','LkuWb','telegramPopup','/api/autocomplete','2|0|3|1|4|5','oMFtG','gmUDh','wUpAB','CKmZD','3142764topYJN','mhMsR'];a0_0x5e31=function(){return _0x4df97b;};return a0_0x5e31();}import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x29d91d=a0_0x8019,_0x2f8e08={'VVDZV':'Logged\x20out\x20successfully.','WbCFu':_0x29d91d(0x185),'eJpdo':_0x29d91d(0x148)};chrome['storage']['local']['remove']([_0x29d91d(0x170),_0x2f8e08[_0x29d91d(0x119)],'companyId',_0x29d91d(0x176),_0x2f8e08[_0x29d91d(0x114)]],()=>{const _0x1e5054=_0x29d91d;a0_0x1d2a46['info'](_0x2f8e08[_0x1e5054(0x145)]);});}export async function sendTelegramCodeToBackend(_0x78eac3){const _0x36c435=a0_0x8019,_0x5a0acd={'ZuJzJ':function(_0x28809c){return _0x28809c();},'iBnbJ':function(_0x1a3b52,_0x4d8d93,_0x23aa4b){return _0x1a3b52(_0x4d8d93,_0x23aa4b);},'YGOhJ':'application/json','QjIjW':function(_0x5f4f06,_0xbd2389,_0x32bdfc){return _0x5f4f06(_0xbd2389,_0x32bdfc);},'dInBt':_0x36c435(0x186),'tSvyX':_0x36c435(0x122),'IwvUG':'Telegram\x20connection\x20failed.'};try{const _0x3cdd13=getEmail(),_0x501d36=_0x5a0acd[_0x36c435(0x141)](getLoginKey),_0x17c291=await _0x5a0acd[_0x36c435(0x16c)](fetch,backendAddress+_0x36c435(0x13f),{'method':_0x36c435(0x171),'headers':{'Content-Type':_0x5a0acd[_0x36c435(0x184)]},'body':JSON[_0x36c435(0x183)]({'email':_0x3cdd13,'code':_0x78eac3,'loginKey':_0x501d36})}),_0x5d9adf=await _0x17c291['json']();if(_0x5d9adf[_0x36c435(0x111)])_0x5a0acd[_0x36c435(0x18f)](saveToLocal,_0x5a0acd[_0x36c435(0x14f)],_0x5d9adf[_0x36c435(0x12c)]),a0_0x1d2a46[_0x36c435(0x111)](_0x5a0acd[_0x36c435(0x14b)]);else throw new Error(_0x5d9adf[_0x36c435(0x194)]||_0x5a0acd[_0x36c435(0x196)]);}catch(_0x8fe83d){a0_0x1d2a46['error'](_0x8fe83d['message']);}}export function showTelegramPopup(){const _0x37a347=a0_0x8019,_0x69a143={'LGmwj':function(_0x228d33,_0x47382b){return _0x228d33===_0x47382b;},'SZMMI':function(_0x5418d0,_0x18bab4){return _0x5418d0-_0x18bab4;},'BXrxe':function(_0x568702,_0x5346fe){return _0x568702-_0x5346fe;},'cCsBy':function(_0x3a0740,_0x22a10b){return _0x3a0740<_0x22a10b;},'wUpAB':function(_0x31c37e,_0x51089d){return _0x31c37e+_0x51089d;},'LXudO':function(_0x415fd8,_0x545c74){return _0x415fd8+_0x545c74;},'fjFwG':_0x37a347(0x160),'LkuWb':function(_0x2861c6,_0x2d2ab5){return _0x2861c6===_0x2d2ab5;},'uvvce':function(_0x2b5a79,_0x2e80a3){return _0x2b5a79-_0x2e80a3;},'YxnOy':_0x37a347(0x18d),'LTTpP':function(_0x113b1a,_0xb38f94){return _0x113b1a-_0xb38f94;},'PNvtw':function(_0x498ce1,_0x3fce41){return _0x498ce1+_0x3fce41;},'oMFtG':function(_0x295df1){return _0x295df1();},'tntOi':function(_0x4e91ac,_0x288952){return _0x4e91ac+_0x288952;},'rCBlq':_0x37a347(0x143),'znSry':function(_0x174a77){return _0x174a77();},'OCIar':function(_0x26f361,_0x580e66){return _0x26f361+_0x580e66;},'jtGTu':function(_0x51e713,_0x395798){return _0x51e713-_0x395798;},'kDTTf':function(_0x1845ee,_0x2c572c){return _0x1845ee!==_0x2c572c;},'JeiIp':function(_0x4090c2,_0x1297e8){return _0x4090c2>_0x1297e8;},'sQqPc':_0x37a347(0x14e),'HcvWK':'input','AedCC':_0x37a347(0x16b),'fWWJv':_0x37a347(0x11b),'aaQeH':function(_0x4f40f7,_0x22be55){return _0x4f40f7(_0x22be55);},'IhKor':'Please\x20enter\x20a\x20valid\x20numeric\x20code.','dAlis':'telegramVerifyButton','qKWuG':'flex','RsWsY':'verification-input'},_0xc89ea0=document[_0x37a347(0x151)](_0x37a347(0x12f)),_0x1ad22c=document['getElementById'](_0x69a143[_0x37a347(0x144)]);_0xc89ea0['style']['display']=_0x69a143[_0x37a347(0x13d)];const _0x106b60=Array[_0x37a347(0x15e)](document[_0x37a347(0x151)](_0x69a143['RsWsY'])[_0x37a347(0x112)]);function _0x4a5fdc(){const _0x491272=_0x37a347;return _0x106b60[_0x491272(0x121)](_0x206e29=>_0x206e29[_0x491272(0x165)]==='');}_0x106b60['forEach']((_0xb80fa8,_0x5b4436)=>{const _0x5bee15=_0x37a347;_0xb80fa8[_0x5bee15(0x11d)](_0x69a143['sQqPc'],_0x1f0cde=>{const _0x15ce78=_0x5bee15;if(_0x69a143[_0x15ce78(0x16a)](_0x1f0cde[_0x15ce78(0x17a)],_0x15ce78(0x17f))){_0x69a143['LGmwj'](_0xb80fa8[_0x15ce78(0x165)],'')&&_0x5b4436>0x0&&(_0x106b60[_0x69a143[_0x15ce78(0x13a)](_0x5b4436,0x1)]['value']='',_0x106b60[_0x69a143[_0x15ce78(0x12d)](_0x5b4436,0x1)][_0x15ce78(0x11b)]());for(let _0x47425e=_0x5b4436;_0x69a143['cCsBy'](_0x47425e,_0x106b60[_0x15ce78(0x175)]);_0x47425e++){let _0x2c272e=_0x106b60[_0x69a143[_0x15ce78(0x134)](_0x47425e,0x1)]?_0x106b60[_0x69a143[_0x15ce78(0x12a)](_0x47425e,0x1)]['value']:'';_0x106b60[_0x47425e][_0x15ce78(0x192)](_0x2c272e,0x0,0x1,_0x69a143[_0x15ce78(0x138)]);}}_0x69a143[_0x15ce78(0x12e)](_0x1f0cde['key'],_0x15ce78(0x11c))&&_0x5b4436>0x0&&_0x106b60[_0x69a143[_0x15ce78(0x11a)](_0x5b4436,0x1)][_0x15ce78(0x11b)](),_0x69a143[_0x15ce78(0x12e)](_0x1f0cde[_0x15ce78(0x17a)],_0x69a143[_0x15ce78(0x147)])&&_0x5b4436<_0x69a143['LTTpP'](_0x106b60[_0x15ce78(0x175)],0x1)&&_0x106b60[_0x69a143[_0x15ce78(0x167)](_0x5b4436,0x1)][_0x15ce78(0x11b)]();}),_0xb80fa8[_0x5bee15(0x11d)](_0x69a143['HcvWK'],_0x8a57a6=>{const _0x546563=_0x5bee15;_0xb80fa8['value']='';const _0x1318da=_0x69a143[_0x546563(0x132)](_0x4a5fdc);_0x106b60[_0x1318da][_0x546563(0x165)]=_0x8a57a6['data'];if(_0x1318da+0x1<_0x106b60[_0x546563(0x175)])_0x106b60[_0x69a143[_0x546563(0x18e)](_0x1318da,0x1)]['focus']();}),_0xb80fa8[_0x5bee15(0x11d)](_0x69a143[_0x5bee15(0x14a)],_0x20323d=>{const _0x2d26c0=_0x5bee15;_0x20323d[_0x2d26c0(0x16e)]();const _0x40501b=(event[_0x2d26c0(0x152)]||window[_0x2d26c0(0x152)])['getData'](_0x69a143[_0x2d26c0(0x199)]),_0x45039b=_0x69a143[_0x2d26c0(0x123)](_0x4a5fdc),_0x1fc144=_0x45039b!==-0x1?Math[_0x2d26c0(0x158)](_0x5b4436,_0x45039b):_0x5b4436;for(let _0x1aaa72=0x0;_0x69a143['cCsBy'](_0x69a143['OCIar'](_0x1fc144,_0x1aaa72),_0x106b60[_0x2d26c0(0x175)])&&_0x69a143[_0x2d26c0(0x11f)](_0x1aaa72,_0x40501b[_0x2d26c0(0x175)]);_0x1aaa72++){_0x106b60[_0x69a143[_0x2d26c0(0x17b)](_0x1fc144,_0x1aaa72)][_0x2d26c0(0x165)]=_0x40501b['charAt'](_0x1aaa72);}_0x106b60[Math['min'](_0x69a143[_0x2d26c0(0x12a)](_0x1fc144,_0x40501b[_0x2d26c0(0x175)]),_0x69a143[_0x2d26c0(0x164)](_0x106b60[_0x2d26c0(0x175)],0x1))][_0x2d26c0(0x11b)]();}),_0xb80fa8[_0x5bee15(0x11d)](_0x69a143['fWWJv'],()=>{const _0x452f3a=_0x5bee15,_0x346f69=_0x69a143['oMFtG'](_0x4a5fdc);if(_0x69a143[_0x452f3a(0x13b)](_0x346f69,-0x1)&&_0x69a143['JeiIp'](_0x5b4436,_0x346f69))_0x106b60[_0x346f69]['focus']();});}),_0x1ad22c[_0x37a347(0x11d)](_0x37a347(0x140),function(){const _0x2f425d=_0x37a347,_0x4c74b0=_0x106b60[_0x2f425d(0x129)](_0x395455=>_0x395455[_0x2f425d(0x165)])['join']('');/^\d+$/[_0x2f425d(0x198)](_0x4c74b0)?_0x69a143[_0x2f425d(0x117)](sendTelegramCodeToBackend,_0x4c74b0):a0_0x1d2a46[_0x2f425d(0x139)](_0x69a143[_0x2f425d(0x13e)]);});}export async function fetchSuggestions(_0x42f61b){const _0x322f8c=a0_0x8019,_0x387253={'Ptkqo':_0x322f8c(0x197),'OOPCR':_0x322f8c(0x154),'qaSBQ':function(_0x23e659){return _0x23e659();},'fAKml':'authToken:\x20','SRFCL':function(_0x43ce4e,_0x5dd4fd,_0x1597ac){return _0x43ce4e(_0x5dd4fd,_0x1597ac);},'Thbrm':'POST','YCJaW':_0x322f8c(0x146),'wytpP':_0x322f8c(0x156),'dVXtx':function(_0x1683e7,_0x2b15b5){return _0x1683e7(_0x2b15b5);}},_0x15ab42=document[_0x322f8c(0x151)](_0x387253['Ptkqo']),_0x18faa8=document[_0x322f8c(0x151)](_0x387253[_0x322f8c(0x18c)]),_0x5a3895=_0x387253[_0x322f8c(0x153)](getAuthToken);try{const _0x20635b=backendAddress+_0x322f8c(0x130),_0x97ad9={'apiKey':_0x5a3895,'term':_0x42f61b};console[_0x322f8c(0x116)](_0x387253[_0x322f8c(0x125)],_0x5a3895);const _0x27abe0=await _0x387253['SRFCL'](fetch,_0x20635b,{'method':_0x387253[_0x322f8c(0x190)],'headers':{'Content-Type':'application/json'},'body':JSON[_0x322f8c(0x183)](_0x97ad9)}),_0x26ef2b=await _0x27abe0[_0x322f8c(0x14c)]();return _0x26ef2b['items'];}catch(_0x59c7b4){const _0x33c647=_0x322f8c(0x131)[_0x322f8c(0x15b)]('|');let _0x54ce25=0x0;while(!![]){switch(_0x33c647[_0x54ce25++]){case'0':a0_0x1d2a46['error']('Please\x20reload\x20CentralDispatch\x20or\x20login\x20again',_0x387253[_0x322f8c(0x110)]);continue;case'1':makeItDisappear(_0x15ab42);continue;case'2':console[_0x322f8c(0x179)](_0x387253['wytpP'],_0x59c7b4);continue;case'3':localStorage[_0x322f8c(0x180)](_0x322f8c(0x170));continue;case'4':_0x387253[_0x322f8c(0x159)](makeItAppear,_0x18faa8);continue;case'5':return[];}break;}}}export async function fetchSuggestions2(_0x46fa62){const _0x30ab58=a0_0x8019,_0x562832={'mhMsR':_0x30ab58(0x197),'AkgOD':_0x30ab58(0x154),'BUXnG':function(_0x4461d3,_0x455285,_0x5f06d4){return _0x4461d3(_0x455285,_0x5f06d4);},'PbbnT':_0x30ab58(0x171),'BwcMI':_0x30ab58(0x115),'vqJEb':function(_0x1fbfac,_0x2321a2){return _0x1fbfac(_0x2321a2);},'HVpsB':'authToken','gmUDh':_0x30ab58(0x19a),'QfNfO':_0x30ab58(0x146),'natLw':'Error\x20fetching\x20suggestions:'},_0x536a7a=document['getElementById'](_0x562832[_0x30ab58(0x137)]),_0x357cd3=document['getElementById'](_0x562832[_0x30ab58(0x15a)]),_0x106dc4=getAuthToken();try{const _0x3691bb=backendAddress+_0x30ab58(0x17e),_0x55dee5={'apiKey':_0x106dc4,'term':_0x46fa62},_0x2c6ac9=await _0x562832[_0x30ab58(0x166)](fetch,_0x3691bb,{'method':_0x562832[_0x30ab58(0x113)],'headers':{'Content-Type':_0x30ab58(0x169)},'body':JSON['stringify'](_0x55dee5)}),_0x4b23df=await _0x2c6ac9[_0x30ab58(0x14c)]();return _0x4b23df;}catch(_0x1ec4f0){const _0xef692e=_0x562832['BwcMI'][_0x30ab58(0x15b)]('|');let _0x5b1922=0x0;while(!![]){switch(_0xef692e[_0x5b1922++]){case'0':makeItAppear(_0x357cd3);continue;case'1':_0x562832[_0x30ab58(0x187)](makeItDisappear,_0x536a7a);continue;case'2':localStorage[_0x30ab58(0x180)](_0x562832['HVpsB']);continue;case'3':a0_0x1d2a46[_0x30ab58(0x179)](_0x562832[_0x30ab58(0x133)],_0x562832[_0x30ab58(0x163)]);continue;case'4':return[];case'5':console[_0x30ab58(0x179)](_0x562832[_0x30ab58(0x128)],_0x1ec4f0);continue;}break;}}}export async function updateBlacklistInDatabase(_0x364758,_0x4e9b2d){const _0x58b505=a0_0x8019,_0x25b6f0={'fTFcB':function(_0x507733){return _0x507733();},'TnsmV':_0x58b505(0x171),'iYqYJ':_0x58b505(0x169),'CKmZD':'Error\x20fetching\x20suggestions:','BpPcn':_0x58b505(0x173),'sVVBA':'Error'};try{const _0x5ee508=_0x25b6f0[_0x58b505(0x118)](getEmail),_0x18d1b5=_0x25b6f0[_0x58b505(0x118)](getCompanyId),_0x5766e7=backendAddress+_0x58b505(0x16f),_0x357b91={'companyId':_0x18d1b5,'email':_0x5ee508,'name':_0x364758[_0x58b505(0x188)],'address':_0x364758[_0x58b505(0x18b)],'action':_0x4e9b2d},_0xbda7e8=await fetch(_0x5766e7,{'method':_0x25b6f0[_0x58b505(0x14d)],'headers':{'Content-Type':_0x25b6f0[_0x58b505(0x181)]},'body':JSON['stringify'](_0x357b91)}),_0x52ebe7=await _0xbda7e8[_0x58b505(0x14c)]();return _0x52ebe7[_0x58b505(0x176)];}catch(_0x3005dd){return console[_0x58b505(0x179)](_0x25b6f0[_0x58b505(0x135)],_0x3005dd),a0_0x1d2a46[_0x58b505(0x179)](_0x25b6f0[_0x58b505(0x120)],_0x25b6f0['sVVBA']),[];}}document[a0_0x48f417(0x151)](a0_0x48f417(0x16d))['addEventListener'](a0_0x48f417(0x161),async _0x55b4fa=>{const _0x285c1c=a0_0x48f417,_0x29694c={'kwFeC':_0x285c1c(0x16d),'zDxJC':_0x285c1c(0x15f),'nWxJe':_0x285c1c(0x177),'XTHhK':function(_0x131417,_0x12e96a){return _0x131417!==_0x12e96a;},'GrEwn':_0x285c1c(0x15c),'CCTHX':function(_0x4f4f98){return _0x4f4f98();},'nnSfV':_0x285c1c(0x149),'UJnDX':function(_0x4a27b9,_0x3b00a3,_0x13b0d3){return _0x4a27b9(_0x3b00a3,_0x13b0d3);},'SrBPe':'POST','gLBhQ':'application/json','lyATt':_0x285c1c(0x126),'ExiIN':_0x285c1c(0x182),'cZPWr':_0x285c1c(0x178)};_0x55b4fa[_0x285c1c(0x16e)]();const _0x26e08d=document[_0x285c1c(0x151)](_0x29694c[_0x285c1c(0x127)]),_0x42f36d=document[_0x285c1c(0x151)]('current-password')[_0x285c1c(0x165)],_0x54f60a=document[_0x285c1c(0x151)](_0x29694c[_0x285c1c(0x195)])[_0x285c1c(0x165)],_0x78e090=document[_0x285c1c(0x151)](_0x29694c[_0x285c1c(0x18a)])[_0x285c1c(0x165)];if(_0x29694c[_0x285c1c(0x162)](_0x54f60a,_0x78e090)){a0_0x1d2a46[_0x285c1c(0x139)](_0x29694c['GrEwn']);return;}const _0xb03c1=_0x29694c['CCTHX'](getEmail),_0x277d2f=getLoginKey();if(!_0xb03c1||!_0x277d2f){a0_0x1d2a46[_0x285c1c(0x139)](_0x29694c['nnSfV']);return;}try{const _0x3af3eb=await _0x29694c[_0x285c1c(0x17d)](fetch,backendAddress+_0x285c1c(0x157),{'method':_0x29694c[_0x285c1c(0x155)],'headers':{'Content-Type':_0x29694c['gLBhQ']},'body':JSON[_0x285c1c(0x183)]({'email':_0xb03c1,'loginKey':_0x277d2f,'oldPassword':_0x42f36d,'newPassword':_0x54f60a})}),_0x534ef4=await _0x3af3eb['json']();_0x3af3eb['ok']?(a0_0x1d2a46['success'](_0x29694c[_0x285c1c(0x150)]),_0x26e08d['reset']()):a0_0x1d2a46['error'](_0x534ef4[_0x285c1c(0x179)]||_0x29694c['ExiIN']);}catch(_0x1d35e5){console['error'](_0x29694c[_0x285c1c(0x12b)],_0x1d35e5),a0_0x1d2a46[_0x285c1c(0x179)](_0x285c1c(0x17c));}});