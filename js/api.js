const a0_0x30fad2=a0_0x4a70;(function(_0xf0b370,_0x2f4864){const _0x529d77=a0_0x4a70,_0xc9d835=_0xf0b370();while(!![]){try{const _0x2341ba=parseInt(_0x529d77(0x15a))/0x1*(-parseInt(_0x529d77(0x16e))/0x2)+-parseInt(_0x529d77(0x149))/0x3+-parseInt(_0x529d77(0x144))/0x4*(parseInt(_0x529d77(0x13d))/0x5)+-parseInt(_0x529d77(0x198))/0x6*(parseInt(_0x529d77(0x123))/0x7)+parseInt(_0x529d77(0x14d))/0x8*(-parseInt(_0x529d77(0x12a))/0x9)+-parseInt(_0x529d77(0x191))/0xa+parseInt(_0x529d77(0x11f))/0xb*(parseInt(_0x529d77(0x120))/0xc);if(_0x2341ba===_0x2f4864)break;else _0xc9d835['push'](_0xc9d835['shift']());}catch(_0x488cfd){_0xc9d835['push'](_0xc9d835['shift']());}}}(a0_0x1d0a,0x72fed));function a0_0x1d0a(){const _0xd9d63=['aLHPt','current-password','charAt','searches','hFjLY','0|1|4|3|2|5','qQlMe','map','bhxJL','hNIqJ','/api/changepassword','ELsQB','keydown','clipboardData','Please\x20reload\x20CentralDispatch\x20or\x20login\x20again','children','670PUBXci','authToken','min','vaJpO','yVmIq','dCOmX','length','13692FjRSBA','email','An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','text','authToken:\x20','595044dktDLE','dlBns','HoTwy','GVyKn','34464gQhNXy','storage','confirm-password','message','ArrowLeft','/api/autocomplete','join','POST','JYWKf','QVOLa','userId','elXUP','warning','77145qLaCES','oyNBV','TlYhW','findIndex','ArrowRight','rPlPY','HTYhT','input','test','paste','click','New\x20password\x20and\x20confirm\x20password\x20do\x20not\x20match','Telegram\x20connected\x20successfully!','focus','MviCw','IwDSw','Error\x20adding\x20item\x20to\x20blacklist','key','getElementById','controlElement','6ujCtIa','submit','jPNog','telegramPopup','preventDefault','Error','setRangeText','vnlRg','telegramVerifyButton','rPjxH','data','reset','stringify','removeItem','Please\x20enter\x20a\x20valid\x20numeric\x20code.','GnwEu','YNzXB','success','xOqjc','json','MVXNO','value','split','info','homBx','getData','Error\x20fetching\x20suggestions:','flex','lPQrd','CZTRf','Telegram\x20connection\x20failed.','display','FnXkX','log','aEXge','3461210VjeNtk','start','UiQaE','Backspace','verification-input','HWLwA','error','5468436ZHvnyJ','searchFormElement','blacklist','SZWDQ','YNJxD','telegramId','local','VRVhU','addEventListener','/api/telegramcode','application/json','MszgV','KlCTq','gVTln','11QIhyBe','40192476OELbfG','hHVsM','FQImT','7iWprUV','from','poBMN','ssEij','JIHWL','forEach','dwpJq','1530pHipCS','Password\x20changed\x20successfully','eMljn'];a0_0x1d0a=function(){return _0xd9d63;};return a0_0x1d0a();}import a0_0x48100e from'./alerts.js';import{saveToLocal,getFromLocal}from'./storage.js';import{backendAddress}from'./main.js';import{setAuthToken,getAuthToken,setEmail,getEmail,setCompanyId,setLoginKey,getLoginKey,getCompanyId}from'./state.js';import{makeItDisappear,makeItAppear}from'./utils.js';export function logout(){const _0x1f549d=a0_0x4a70,_0x34c636={'rPjxH':'Logged\x20out\x20successfully.','dCOmX':_0x1f549d(0x13e),'dwpJq':'companyId','KlCTq':_0x1f549d(0x130)};chrome[_0x1f549d(0x14e)][_0x1f549d(0x19e)]['remove']([_0x34c636[_0x1f549d(0x142)],_0x1f549d(0x145),_0x34c636[_0x1f549d(0x129)],'blacklist',_0x34c636[_0x1f549d(0x11d)]],()=>{const _0x8a5d07=_0x1f549d;a0_0x48100e[_0x8a5d07(0x185)](_0x34c636[_0x8a5d07(0x177)]);});}export async function sendTelegramCodeToBackend(_0x3e0c6e){const _0x1f1d35=a0_0x4a70,_0x9ceedf={'pfjlJ':function(_0x5e3b02){return _0x5e3b02();},'fECPr':function(_0x177801,_0x29197c,_0x18eeea){return _0x177801(_0x29197c,_0x18eeea);},'gVTln':_0x1f1d35(0x154),'pAHsa':'application/json','HWLwA':_0x1f1d35(0x19d),'BsSwS':_0x1f1d35(0x166),'ssEij':_0x1f1d35(0x18c)};try{const _0x2103fc=_0x9ceedf['pfjlJ'](getEmail),_0x46e049=_0x9ceedf['pfjlJ'](getLoginKey),_0x33a3db=await _0x9ceedf['fECPr'](fetch,backendAddress+_0x1f1d35(0x11a),{'method':_0x9ceedf[_0x1f1d35(0x11e)],'headers':{'Content-Type':_0x9ceedf['pAHsa']},'body':JSON[_0x1f1d35(0x17a)]({'email':_0x2103fc,'code':_0x3e0c6e,'loginKey':_0x46e049})}),_0x4d5544=await _0x33a3db[_0x1f1d35(0x181)]();if(_0x4d5544['success'])saveToLocal(_0x9ceedf[_0x1f1d35(0x196)],_0x4d5544[_0x1f1d35(0x157)]),a0_0x48100e[_0x1f1d35(0x17f)](_0x9ceedf['BsSwS']);else throw new Error(_0x4d5544['message']||_0x9ceedf[_0x1f1d35(0x126)]);}catch(_0x3ed482){a0_0x48100e[_0x1f1d35(0x197)](_0x3ed482[_0x1f1d35(0x150)]);}}export function showTelegramPopup(){const _0x5402eb=a0_0x4a70,_0x1eddbc={'YNzXB':function(_0x4a5621,_0x2716a7){return _0x4a5621===_0x2716a7;},'CZTRf':function(_0x33c37a,_0x7273ab){return _0x33c37a-_0x7273ab;},'SZWDQ':function(_0x4fdb99,_0x473112){return _0x4fdb99<_0x473112;},'MszgV':function(_0x1e7b2d,_0x535c61){return _0x1e7b2d+_0x535c61;},'BVBxX':_0x5402eb(0x192),'qSIZy':function(_0x4fd06b,_0x955670){return _0x4fd06b===_0x955670;},'nakIT':_0x5402eb(0x151),'LVscf':function(_0xe21c99,_0x1e8a9c){return _0xe21c99>_0x1e8a9c;},'FnXkX':function(_0x4d81d9,_0x2febb5){return _0x4d81d9-_0x2febb5;},'hFjLY':_0x5402eb(0x147),'homBx':function(_0x394073,_0x57e860){return _0x394073!==_0x57e860;},'yVmIq':function(_0x4087c4,_0xea4227){return _0x4087c4<_0xea4227;},'aEXge':function(_0x5caf18){return _0x5caf18();},'brLYR':function(_0x4a165f,_0x5d131c){return _0x4a165f>_0x5d131c;},'poBMN':function(_0x56168c,_0x3b1ef9){return _0x56168c<_0x3b1ef9;},'vaJpO':_0x5402eb(0x139),'JIHWL':_0x5402eb(0x161),'TlYhW':_0x5402eb(0x163),'FQImT':'focus','MviCw':_0x5402eb(0x17c),'QVOLa':_0x5402eb(0x176),'YfFTk':_0x5402eb(0x189),'JYWKf':_0x5402eb(0x195),'unlyf':_0x5402eb(0x164)},_0x114a2e=document['getElementById'](_0x5402eb(0x171)),_0x3cbd5b=document[_0x5402eb(0x16c)](_0x1eddbc[_0x5402eb(0x156)]);_0x114a2e['style'][_0x5402eb(0x18d)]=_0x1eddbc['YfFTk'];const _0x2b1cd5=Array[_0x5402eb(0x124)](document[_0x5402eb(0x16c)](_0x1eddbc[_0x5402eb(0x155)])[_0x5402eb(0x13c)]);function _0x5a23a6(){const _0x1d11dc=_0x5402eb;return _0x2b1cd5[_0x1d11dc(0x15d)](_0x1d896f=>_0x1d896f[_0x1d11dc(0x183)]==='');}_0x2b1cd5[_0x5402eb(0x128)]((_0x389208,_0x4c7a9f)=>{const _0x38579d=_0x5402eb,_0x55e89d={'jPNog':function(_0x3b2eb0,_0x4720fd){const _0x268c28=a0_0x4a70;return _0x1eddbc[_0x268c28(0x125)](_0x3b2eb0,_0x4720fd);},'TrDnS':function(_0x5d2ac7,_0x1fe93a){const _0x5ca5ef=a0_0x4a70;return _0x1eddbc[_0x5ca5ef(0x11c)](_0x5d2ac7,_0x1fe93a);},'WSWup':function(_0xafc544,_0x5a1c6f){const _0x438f4c=a0_0x4a70;return _0x1eddbc[_0x438f4c(0x11c)](_0xafc544,_0x5a1c6f);}};_0x389208[_0x38579d(0x119)](_0x1eddbc[_0x38579d(0x140)],_0x57de9d=>{const _0x3dc30b=_0x38579d;if(_0x1eddbc[_0x3dc30b(0x17e)](_0x57de9d['key'],_0x3dc30b(0x194))){_0x1eddbc[_0x3dc30b(0x17e)](_0x389208[_0x3dc30b(0x183)],'')&&_0x4c7a9f>0x0&&(_0x2b1cd5[_0x1eddbc[_0x3dc30b(0x18b)](_0x4c7a9f,0x1)][_0x3dc30b(0x183)]='',_0x2b1cd5[_0x1eddbc[_0x3dc30b(0x18b)](_0x4c7a9f,0x1)]['focus']());for(let _0x558d55=_0x4c7a9f;_0x1eddbc[_0x3dc30b(0x19b)](_0x558d55,_0x2b1cd5[_0x3dc30b(0x143)]);_0x558d55++){let _0x5d7e61=_0x2b1cd5[_0x1eddbc['MszgV'](_0x558d55,0x1)]?_0x2b1cd5[_0x558d55+0x1]['value']:'';_0x2b1cd5[_0x558d55][_0x3dc30b(0x174)](_0x5d7e61,0x0,0x1,_0x1eddbc['BVBxX']);}}_0x1eddbc['qSIZy'](_0x57de9d[_0x3dc30b(0x16b)],_0x1eddbc['nakIT'])&&_0x1eddbc['LVscf'](_0x4c7a9f,0x0)&&_0x2b1cd5[_0x4c7a9f-0x1][_0x3dc30b(0x167)](),_0x1eddbc[_0x3dc30b(0x17e)](_0x57de9d[_0x3dc30b(0x16b)],_0x3dc30b(0x15e))&&_0x4c7a9f<_0x1eddbc['FnXkX'](_0x2b1cd5[_0x3dc30b(0x143)],0x1)&&_0x2b1cd5[_0x1eddbc[_0x3dc30b(0x11c)](_0x4c7a9f,0x1)]['focus']();}),_0x389208[_0x38579d(0x119)](_0x1eddbc[_0x38579d(0x127)],_0x356ad4=>{const _0x4c4dda=_0x38579d;_0x389208['value']='';const _0x40d263=_0x5a23a6();_0x2b1cd5[_0x40d263]['value']=_0x356ad4[_0x4c4dda(0x178)];if(_0x55e89d[_0x4c4dda(0x170)](_0x55e89d['TrDnS'](_0x40d263,0x1),_0x2b1cd5[_0x4c4dda(0x143)]))_0x2b1cd5[_0x55e89d['WSWup'](_0x40d263,0x1)][_0x4c4dda(0x167)]();}),_0x389208[_0x38579d(0x119)](_0x1eddbc[_0x38579d(0x15c)],_0x4afca2=>{const _0x17154b=_0x38579d;_0x4afca2['preventDefault']();const _0x8a05ad=(event['clipboardData']||window[_0x17154b(0x13a)])[_0x17154b(0x187)](_0x1eddbc[_0x17154b(0x131)]),_0x494190=_0x5a23a6(),_0x52b3d7=_0x1eddbc[_0x17154b(0x186)](_0x494190,-0x1)?Math[_0x17154b(0x13f)](_0x4c7a9f,_0x494190):_0x4c7a9f;for(let _0x15577c=0x0;_0x1eddbc['SZWDQ'](_0x1eddbc[_0x17154b(0x11c)](_0x52b3d7,_0x15577c),_0x2b1cd5['length'])&&_0x1eddbc[_0x17154b(0x141)](_0x15577c,_0x8a05ad[_0x17154b(0x143)]);_0x15577c++){_0x2b1cd5[_0x1eddbc['MszgV'](_0x52b3d7,_0x15577c)][_0x17154b(0x183)]=_0x8a05ad[_0x17154b(0x12f)](_0x15577c);}_0x2b1cd5[Math[_0x17154b(0x13f)](_0x52b3d7+_0x8a05ad['length'],_0x1eddbc[_0x17154b(0x18e)](_0x2b1cd5[_0x17154b(0x143)],0x1))][_0x17154b(0x167)]();}),_0x389208[_0x38579d(0x119)](_0x1eddbc[_0x38579d(0x122)],()=>{const _0x583bf9=_0x38579d,_0x1f99c3=_0x1eddbc[_0x583bf9(0x190)](_0x5a23a6);if(_0x1eddbc['homBx'](_0x1f99c3,-0x1)&&_0x1eddbc['brLYR'](_0x4c7a9f,_0x1f99c3))_0x2b1cd5[_0x1f99c3]['focus']();});}),_0x3cbd5b[_0x5402eb(0x119)](_0x1eddbc['unlyf'],function(){const _0x33d375=_0x5402eb,_0x4a27f3=_0x2b1cd5[_0x33d375(0x134)](_0x3199b5=>_0x3199b5[_0x33d375(0x183)])[_0x33d375(0x153)]('');/^\d+$/[_0x33d375(0x162)](_0x4a27f3)?sendTelegramCodeToBackend(_0x4a27f3):a0_0x48100e[_0x33d375(0x159)](_0x1eddbc[_0x33d375(0x168)]);});}export async function fetchSuggestions(_0x95e255){const _0x209271=a0_0x4a70,_0x2b6d12={'yLIJw':_0x209271(0x199),'GVyKn':_0x209271(0x16d),'CJdhM':function(_0x2d8ddd){return _0x2d8ddd();},'bhxJL':_0x209271(0x148),'IwDSw':_0x209271(0x11b),'hNIqJ':_0x209271(0x132),'ANZQP':_0x209271(0x188),'VRVhU':_0x209271(0x13b),'YNJxD':_0x209271(0x173),'oyNBV':'authToken'},_0x3744fa=document[_0x209271(0x16c)](_0x2b6d12['yLIJw']),_0x449c27=document[_0x209271(0x16c)](_0x2b6d12[_0x209271(0x14c)]),_0x3f88b2=_0x2b6d12['CJdhM'](getAuthToken);try{const _0x5d7f92=backendAddress+_0x209271(0x152),_0x13fc03={'apiKey':_0x3f88b2,'term':_0x95e255};console[_0x209271(0x18f)](_0x2b6d12[_0x209271(0x135)],_0x3f88b2);const _0x112a13=await fetch(_0x5d7f92,{'method':'POST','headers':{'Content-Type':_0x2b6d12[_0x209271(0x169)]},'body':JSON[_0x209271(0x17a)](_0x13fc03)}),_0x499818=await _0x112a13[_0x209271(0x181)]();return _0x499818['items'];}catch(_0x3291bc){const _0xf4c786=_0x2b6d12[_0x209271(0x136)][_0x209271(0x184)]('|');let _0x5b2a1a=0x0;while(!![]){switch(_0xf4c786[_0x5b2a1a++]){case'0':console[_0x209271(0x197)](_0x2b6d12['ANZQP'],_0x3291bc);continue;case'1':a0_0x48100e['error'](_0x2b6d12[_0x209271(0x19f)],_0x2b6d12[_0x209271(0x19c)]);continue;case'2':makeItAppear(_0x449c27);continue;case'3':makeItDisappear(_0x3744fa);continue;case'4':localStorage[_0x209271(0x17b)](_0x2b6d12[_0x209271(0x15b)]);continue;case'5':return[];}break;}}}function a0_0x4a70(_0x563e9b,_0x2464a9){const _0x1d0ae5=a0_0x1d0a();return a0_0x4a70=function(_0x4a70b4,_0x48aa3c){_0x4a70b4=_0x4a70b4-0x119;let _0x21db1f=_0x1d0ae5[_0x4a70b4];return _0x21db1f;},a0_0x4a70(_0x563e9b,_0x2464a9);}export async function updateBlacklistInDatabase(_0x435a42,_0xd44625){const _0x448782=a0_0x4a70,_0x7b57c5={'aLHPt':function(_0x518cf7){return _0x518cf7();},'dlBns':function(_0x5a4608,_0x5dc9e1,_0x1808b8){return _0x5a4608(_0x5dc9e1,_0x1808b8);},'HoTwy':function(_0x465c1b,_0x4fe45d){return _0x465c1b(_0x4fe45d);},'jfmew':_0x448782(0x16a),'rPlPY':'Error'};try{const _0x3f15a5=_0x7b57c5[_0x448782(0x12d)](getEmail),_0x5653d8=_0x7b57c5[_0x448782(0x12d)](getCompanyId),_0x5594f8=backendAddress+'/api/updateblacklist',_0x5f0d63={'companyId':_0x5653d8,'email':_0x3f15a5,'name':_0x435a42['name'],'address':_0x435a42['address'],'action':_0xd44625},_0x2098f1=await _0x7b57c5[_0x448782(0x14a)](fetch,_0x5594f8,{'method':_0x448782(0x154),'headers':{'Content-Type':_0x448782(0x11b)},'body':JSON[_0x448782(0x17a)](_0x5f0d63)}),_0x340173=await _0x2098f1['json']();return _0x7b57c5[_0x448782(0x14b)](populateBlacklist,_0x340173[_0x448782(0x19a)]),_0x340173['blacklist'];}catch(_0x6aed33){return console[_0x448782(0x197)]('Error\x20fetching\x20suggestions:',_0x6aed33),a0_0x48100e[_0x448782(0x197)](_0x7b57c5['jfmew'],_0x7b57c5[_0x448782(0x15f)]),[];}}document[a0_0x30fad2(0x16c)]('change-password-form')[a0_0x30fad2(0x119)](a0_0x30fad2(0x16f),async _0x54d871=>{const _0x4f1116=a0_0x30fad2,_0x5ebf0b={'elXUP':'change-password-form','HTYhT':_0x4f1116(0x12e),'qQlMe':'new-password','xOqjc':_0x4f1116(0x14f),'JuILI':function(_0x2c81b6,_0x2407d9){return _0x2c81b6!==_0x2407d9;},'dUkWw':_0x4f1116(0x165),'ELsQB':function(_0x867759){return _0x867759();},'vnlRg':function(_0x51b9c7,_0x3e747e){return _0x51b9c7||_0x3e747e;},'dqBeH':'User\x20not\x20logged\x20in\x20or\x20missing\x20credentials.','GnwEu':function(_0x34f474,_0x5692c3,_0x35e89f){return _0x34f474(_0x5692c3,_0x35e89f);},'UiQaE':_0x4f1116(0x154),'miGEb':_0x4f1116(0x11b),'hHVsM':_0x4f1116(0x12b),'lPQrd':'An\x20error\x20occurred\x20while\x20changing\x20the\x20password.','MVXNO':'Error\x20changing\x20password:','eMljn':_0x4f1116(0x146)};_0x54d871[_0x4f1116(0x172)]();const _0x5b817c=document['getElementById'](_0x5ebf0b[_0x4f1116(0x158)]),_0x1ceb34=document[_0x4f1116(0x16c)](_0x5ebf0b[_0x4f1116(0x160)])['value'],_0x1bc6cc=document['getElementById'](_0x5ebf0b[_0x4f1116(0x133)])[_0x4f1116(0x183)],_0x133f92=document[_0x4f1116(0x16c)](_0x5ebf0b[_0x4f1116(0x180)])[_0x4f1116(0x183)];if(_0x5ebf0b['JuILI'](_0x1bc6cc,_0x133f92)){a0_0x48100e[_0x4f1116(0x159)](_0x5ebf0b['dUkWw']);return;}const _0x26b8ee=getEmail(),_0x46b04d=_0x5ebf0b[_0x4f1116(0x138)](getLoginKey);if(_0x5ebf0b[_0x4f1116(0x175)](!_0x26b8ee,!_0x46b04d)){a0_0x48100e['warning'](_0x5ebf0b['dqBeH']);return;}try{const _0x1e570b=await _0x5ebf0b[_0x4f1116(0x17d)](fetch,backendAddress+_0x4f1116(0x137),{'method':_0x5ebf0b[_0x4f1116(0x193)],'headers':{'Content-Type':_0x5ebf0b['miGEb']},'body':JSON['stringify']({'email':_0x26b8ee,'loginKey':_0x46b04d,'oldPassword':_0x1ceb34,'newPassword':_0x1bc6cc})}),_0x18465f=await _0x1e570b[_0x4f1116(0x181)]();_0x1e570b['ok']?(a0_0x48100e[_0x4f1116(0x17f)](_0x5ebf0b[_0x4f1116(0x121)]),_0x5b817c[_0x4f1116(0x179)]()):a0_0x48100e[_0x4f1116(0x197)](_0x18465f[_0x4f1116(0x197)]||_0x5ebf0b[_0x4f1116(0x18a)]);}catch(_0x200be8){console[_0x4f1116(0x197)](_0x5ebf0b[_0x4f1116(0x182)],_0x200be8),a0_0x48100e[_0x4f1116(0x197)](_0x5ebf0b[_0x4f1116(0x12c)]);}});